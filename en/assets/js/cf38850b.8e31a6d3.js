"use strict";(self.webpackChunkklipper_docs=self.webpackChunkklipper_docs||[]).push([["72384"],{50065:function(e,n,t){t.d(n,{Z:()=>a,a:()=>s});var o=t(67294);let r={},i=o.createContext(r);function s(e){let n=o.useContext(i);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),o.createElement(i.Provider,{value:n},e.children)}},78324:function(e,n,t){t.r(n),t.d(n,{frontMatter:()=>s,default:()=>c,contentTitle:()=>a,assets:()=>p,toc:()=>d,metadata:()=>o});var o=JSON.parse('{"id":"ProductDoc/MainBoard/fly-d/fly-d7/cfg","title":"Klipper Reference Configuration","description":"","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/ProductDoc/MainBoard/fly-d/fly-d7/cfg.mdx","sourceDirName":"ProductDoc/MainBoard/fly-d/fly-d7","slug":"/ProductDoc/MainBoard/fly-d/fly-d7/cfg","permalink":"/fly-docs-next/en/docs/ProductDoc/MainBoard/fly-d/fly-d7/cfg","draft":false,"unlisted":false,"editUrl":"https://github.com/kluoyun/fly-docs-next/tree/master/docs/ProductDoc/MainBoard/fly-d/fly-d7/cfg.mdx","tags":[],"version":"current","lastUpdatedBy":"xishangyue","lastUpdatedAt":1746698383000,"sidebarPosition":5,"frontMatter":{"sidebar_position":5,"sidebar_label":"Klipper Config Reference"},"sidebar":"tutorialSidebar","previous":{"title":"Wiring Reference","permalink":"/fly-docs-next/en/docs/ProductDoc/MainBoard/fly-d/fly-d7/wiring"},"next":{"title":"CAN Bridge","permalink":"/fly-docs-next/en/docs/ProductDoc/MainBoard/fly-d/fly-d7/canbridge"}}'),r=t(85893),i=t(50065);let s={sidebar_position:5,sidebar_label:"Klipper Config Reference"},a="Klipper Reference Configuration",p={},d=[];function l(e){let n={code:"code",h1:"h1",header:"header",pre:"pre",...(0,i.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"klipper-reference-configuration",children:"Klipper Reference Configuration"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-cfg",children:'\n####################################################################################\n#                         3D MELLOW /FLY-D7                                       #\n####################################################################################\n## FLY-D7 Documentation: https://mellow.klipper.cn/#/board/fly_d7/README\n## FLY-D7 Schematic: https://mellow.klipper.cn/#/board/fly_d7/schematic\n## FLY Official Taobao Store: https://item.taobao.com/item.htm?abbucket=8&id=760788458714&ns=1&spm=a21n57.1.0.0.632e523cCKBdRJ\n## For after-sales service, please contact Taobao customer service\n## FLY After-sales Technical Support Group: 621032883\n## FLY-RRF Firmware Group: 786561979\n\n#####################################################################\n#                               Notes                               #\n#####################################################################\n## ***Items to Change/Check:***\n## MCU Path                               [mcu] \n## Printer movement range                  xyz position      \n## Thermistor type                         [extruder] and [heater_bed]\n## Z endstop position                      [homing_override] \n## Z endstop offset                        [stepper_z] \n## PID tuning                              [extruder] and [heater_bed] \n## Extruder stepper fine-tuning            [extruder] \n\n#####################################################################\n#                               File Includes                       #\n#####################################################################\n[include fluidd.cfg]          # FLUIDD include file.\n[include mainsail.cfg]        # MAINSAIL include file.\n# Choose the file you need to use\n\n#####################################################################\n#                               Mainboard Configuration             #\n#####################################################################\n[mcu]                           # FLY board ID\nserial: /dev/serial/by-id/usb-Klipper_stm32f072xx_XXXXXXXXXXXXXXXXXXXXX\n### To find the USB firmware ID: ls -l /dev/serial/by-id/\n### Replace /dev/serial/by-id/usb-Klipper_stm32f407xx_XXXXXXXXXXXXXXXXXXXXX with your ID\n#canbus_uuid: e51d5c71a901\n### To find the CAN firmware ID: ~/klippy-env/bin/python ~/klipper/scripts/canbus_query.py can0\n### For CAN, replace serial with canbus_uuid: and add the ID\n\n#####################################################################\n#                            Printer and Acceleration               #\n#####################################################################\n[printer]                       # Printer settings\nkinematics: corexy              # Kinematics: cartesian or corexy, etc.\nmax_velocity: 300               # Max printer speed   \nmax_accel: 3000                 # Max acceleration, up to 3000\nmax_z_velocity: 15              # Max Z speed\nmax_z_accel: 100                # Max Z acceleration\nsquare_corner_velocity: 5.0     # Square corner velocity, lower to reduce inertia\n\n#####################################################################\n#                             Temperature Monitoring                #\n#####################################################################\n[temperature_sensor Fly-D7]     # FLY board temperature (rename as needed)\nsensor_type: temperature_mcu     # Linked to MCU (default)\n#--------------------------------------------------------------------\n[temperature_sensor FLY-\u03C0]        # Host temperature\nsensor_type: temperature_host     # Linked to host\n#--------------------------------------------------------------------\n\n#####################################################################\n#             X/Y Stepper Motor Settings                            # \n#####################################################################\n#   B Motor ---- Motor A \n#   |                  |\n#   |------Extruder-----|\n#   |                  |\n#   |                  |\n#          Front   \n#####################################################################\n#                  X Axis Stepper Motor (B Motor)                   #\n#####################################################################\n[stepper_x]\nstep_pin: PC14                       # X step pin\ndir_pin: PC13                        # X direction pin, add ! to reverse\nenable_pin: !PC15                   # X enable pin, add ! or motor won\'t work\nrotation_distance: 40               # Pulley circumference mm (2GT-20T: 40, 2GT-16T: 32)\nmicrosteps: 16                      # Microsteps, higher = better quality, more load\nfull_steps_per_rotation: 200        # Steps per rotation (1.8\xb0: 200, 0.9\xb0: 400)\nendstop_pin: !PB3                   # Endstop pin, normally closed with ! to invert, io-3\nposition_min: 0                     # X min travel\nposition_endstop: 300               # Endstop position (250mm-300mm-350mm)\nposition_max: 300                   # X max travel (250mm-300mm-350mm)\nhoming_speed: 50                    # Homing speed, max 100\nhoming_retract_dist: 5              # Retract after first endstop trigger\nstep_pulse_duration: 0.000004       # Step pulse duration (4us)\n#--------------------------------------------------------------------\n##  Ensure correct driver type (2208 or 2209)\n[tmc2209 stepper_x]                 # X driver config - TMC2209\nuart_pin: PB7                       # UART pin\ninterpolate: False                  # 256 microstep interpolation, recommended off\nrun_current: 0.8                    # Motor run current (A)\nsense_resistor: 0.110               # Do not change\nstealthchop_threshold: 500          # StealthChop threshold (set to 0 to disable)\n#--------------------------------------------------------------------\n#[tmc5160 stepper_x]                 # X driver config - TMC5160\n#cs_pin: PB7                         # SPI CS pin\n#spi_bus: spi2\n#run_current: 0.800                  # Motor run current\n#interpolate: False                  # 256 microstep interpolation, recommended off\n#sense_resistor: 0.075               # Do not change (0.033 for 5160 Pro)\n#stealthchop_threshold: 500          # StealthChop threshold (set to 0 to disable)\n#####################################################################\n#                  Y Axis Stepper Motor (A Motor)                   #\n#####################################################################\n[stepper_y]\nstep_pin: PA1                       # Y step pin\ndir_pin: PA0                        # Y direction pin, add ! to reverse\nenable_pin: !PA2                    # Y enable pin, add ! or motor won\'t work\nrotation_distance: 40               # Pulley circumference mm (2GT-20T: 40, 2GT-16T: 32)\nmicrosteps: 16                      # Microsteps\nfull_steps_per_rotation: 200        # Steps per rotation (1.8\xb0: 200, 0.9\xb0: 400)\nendstop_pin: !PD2                   # Endstop pin, normally closed with ! to invert, io-0\nposition_min: 0                     # Y min travel\nposition_endstop: 300               # Endstop position (250mm-300mm-350mm)\nposition_max: 300                   # Y max travel (250mm-300mm-350mm)\nhoming_speed: 50                    # Homing speed, max 100\nhoming_retract_dist: 5              # Retract after first endstop trigger\n\n#--------------------------------------------------------------------\n##  Ensure correct driver type (2208 or 2209)\n[tmc2209 stepper_y]                 # Y driver config - TMC2209\nuart_pin: PC3                       # UART pin\ninterpolate: False                  # 256 microstep interpolation, recommended off\nrun_current: 0.8                    # Motor run current (A)\nsense_resistor: 0.110               # Do not change\nstealthchop_threshold: 500          # StealthChop threshold (set to 0 to disable)\n#--------------------------------------------------------------------\n#[tmc5160 stepper_y]                 # Y driver config - TMC5160\n#cs_pin: PC3                         # SPI CS pin\n#spi_bus: spi2\n#run_current: 0.800                  # Motor run current\n#interpolate: False                  # 256 microstep interpolation, recommended off\n#sense_resistor: 0.075               # Do not change (0.033 for 5160 Pro)\n#stealthchop_threshold: 500          # StealthChop threshold (set to 0 to disable)\n\n#####################################################################\n#                     Z Stepper Motor Settings                      #\n#####################################################################\n#   |----- Z1 -----|\n#   |              |\n#   |              |\n#   |              |\n#   Z0----Screen----Z2\n\n#####################################################################\n#                           Z Stepper Motor                         #\n#####################################################################\n##    Z Stepper - Front Left\n[stepper_z]\nstep_pin: PA5                 # Z step pin\ndir_pin:  !PA4                # Z direction pin, add ! to reverse\nenable_pin: !PA6              # Z enable pin, add ! or motor won\'t work\n### T8x4 leadscrew. One turn moves bed 4mm \n## Adjust according to your leadscrew\nrotation_distance: 8          # Leadscrew pitch 8\nfull_steps_per_rotation: 200  # Steps per rotation (1.8\xb0: 200, 0.9\xb0: 400)\nmicrosteps: 16                # Microsteps\nendstop_pin: !PA9             # Endstop pin, normally closed with ! to invert, io-1\n## position_endstop is the nozzle\'s position relative to the bed (Z0) at endstop trigger (mm)\nposition_endstop: -0.5\n## Positive = above bed, negative = below bed\n## Increase position_endstop to move nozzle closer to bed\n## After running Z_ENDSTOP_CALIBRATE, position_endstop will be stored at the end of the config\nposition_min: -15             # Z min travel (for nozzle cleaning, set to around -5)\nposition_max: 300             # Z max travel (250mm-300mm-350mm)\nhoming_speed: 5               # Homing speed, max 20\nsecond_homing_speed: 3        # Second homing speed, max 10\nhoming_retract_dist: 0        # Retract distance\nstep_pulse_duration: 0.000004 # Step pulse duration (4us)\n#--------------------------------------------------------------------\n[tmc2209 stepper_z]\nuart_pin: PA3                 # UART pin\ninterpolate: false            # 256 microstep interpolation\nrun_current: 0.8              # Run current (A)\nsense_resistor: 0.110         # Do not change\nstealthchop_threshold: 500    # StealthChop threshold (set to 0 to disable)\n#--------------------------------------------------------------------\n#[tmc5160 stepper_z]                 # Z driver config - TMC5160\n#cs_pin: PA3                         # SPI CS pin\n#spi_bus: spi2\n#run_current: 0.800                  # Motor run current\n#interpolate: False                  # 256 microstep interpolation, recommended off\n#sense_resistor: 0.075               # Do not change (0.033 for 5160 Pro)\n#stealthchop_threshold: 500          # StealthChop threshold (set to 0 to disable)\n#--------------------------------------------------------------------\n\n##    Z1 Stepper - Rear\n[stepper_z1]\nstep_pin: PB10                # Z1 step pin\ndir_pin:  !PB2                # Z1 direction pin, add ! to reverse\nenable_pin: !PB11             # Z1 enable pin, add ! or motor won\'t work\n### T8x4 leadscrew. One turn moves bed 4mm \n## Adjust according to your leadscrew\nrotation_distance: 8          # Leadscrew pitch 8\nfull_steps_per_rotation: 200  # Steps per rotation (1.8\xb0: 200, 0.9\xb0: 400)\nmicrosteps: 16                # Microsteps\nstep_pulse_duration: 0.000004 # Step pulse duration (4us)\n#--------------------------------------------------------------------\n[tmc2209 stepper_z1]\nuart_pin: PB1                 # UART pin\ninterpolate: false            # 256 microstep interpolation\nrun_current: 0.8              # Run current (A)\nsense_resistor: 0.110         # Do not change\nstealthchop_threshold: 500    # StealthChop threshold (set to 0 to disable)\n#--------------------------------------------------------------------\n#[tmc5160 stepper_z1]                 # Z1 driver config - TMC5160\n#cs_pin: PB1                         # SPI CS pin\n#spi_bus: spi2\n#run_current: 0.800                  # Motor run current\n#interpolate: False                  # 256 microstep interpolation, recommended off\n#sense_resistor: 0.075               # Do not change (0.033 for 5160 Pro)\n#stealthchop_threshold: 500          # StealthChop threshold (set to 0 to disable)\n#--------------------------------------------------------------------\n\n##    Z2 Stepper - Front Right\n[stepper_z2]\nstep_pin: PC12                 # Z2 step pin\ndir_pin: !PB5                  # Z2 direction pin, add ! to reverse\nenable_pin: !PC11              # Z2 enable pin, add ! or motor won\'t work\n### T8x4 leadscrew. One turn moves bed 4mm \n## Adjust according to your leadscrew\nrotation_distance: 8           # Leadscrew pitch 8\nfull_steps_per_rotation: 200   # Steps per rotation (1.8\xb0: 200, 0.9\xb0: 400)\nmicrosteps: 16                 # Microsteps\nstep_pulse_duration: 0.000004  # Step pulse duration (4us)\n#--------------------------------------------------------------------\n[tmc2209 stepper_z2]\nuart_pin: PB6                 # UART pin\ninterpolate: false            # 256 microstep interpolation\nrun_current: 0.8              # Run current (A)\nsense_resistor: 0.110         # Do not change\nstealthchop_threshold: 500    # StealthChop threshold (set to 0 to disable)\n#--------------------------------------------------------------------\n#[tmc5160 stepper_z2]                 # Z2 driver config - TMC5160\n#cs_pin: PB6                         # SPI CS pin\n#spi_bus: spi2\n#run_current: 0.800                  # Motor run current\n#interpolate: False                  # 256 microstep interpolation, recommended off\n#sense_resistor: 0.075               # Do not change (0.033 for 5160 Pro)\n#stealthchop_threshold: 500          # StealthChop threshold (set to 0 to disable)\n#--------------------------------------------------------------------\n\n#####################################################################\n#                     E0 Extruder Settings                          # \n#####################################################################\n[extruder]                          # Extruder\nstep_pin: PC5                       # Step pin\ndir_pin: !PC4                       # Direction pin\nenable_pin: !PB0                    # Enable pin\n## Update the following values after extruder calibration\n## For example, if you request 100mm but get 102mm:\n## rotation_distance = <old_rotation_distance> * <actual_extrude_length> / <requested_extrude_length>\n## Example: 22.44 = old value 22 * actual 102 / target 100\nrotation_distance: 22.44            # Step value\ngear_ratio: 50:17                   # Gear ratio (Galileo 7.5:1, comment out; BMG is 50:17)\nmicrosteps: 16                      # Microsteps\nfull_steps_per_rotation: 200        # Steps per rotation (200 for 1.8\xb0, 400 for 0.9\xb0)\nnozzle_diameter: 0.400              # Nozzle diameter\nfilament_diameter: 1.75             # Filament diameter\nheater_pin: PB12                    # Heater pin\nsensor_type: ATC Semitec 104GT-2    # Sensor type (#Generic 3950, ATC Semitec 104GT-2, PT1000)\nsensor_pin: PC2                     # Sensor pin, connect to ADC_0   \nmin_temp: 10                        # Min temp (exceeding triggers emergency stop)\nmax_temp: 350                       # Max temp (exceeding triggers emergency stop)\nmax_power: 1.0                      # Max power\nmin_extrude_temp: 170               # Min extrude temp\npressure_advance: 0.05              # Pressure advance (keep below 1.0)\n# Pressure advance tuning: https://www.klipper3d.org/Pressure_Advance.html\npressure_advance_smooth_time: 0.040 # Smooth time, default 0.040\n#max_extrude_only_distance: 200.0   # Comment out to disable extrude flow error, but re-slice recommended\n# Nozzle PID tuning: "PID_CALIBRATE HEATER=extruder TARGET=245"\ncontrol = pid                       # PID control (commented after tuning)\npid_kp = 26.213                     # PID Kp (commented after tuning)\npid_ki = 1.304                      # PID Ki (commented after tuning)\npid_kd = 131.721                    # PID Kd (commented after tuning)\nstep_pulse_duration: 0.000004\n#--------------------------------------------------------------------\n[tmc2209 extruder]                  # Extruder driver config - TMC2209\nuart_pin: PA7                       # UART pin\ninterpolate: False                  # 256 microstep interpolation, recommended off\nrun_current: 0.5                    # Run current (A)\nsense_resistor: 0.110               # Do not change\n#stealthchop_threshold: 500         # StealthChop threshold, not recommended for extruder\n#--------------------------------------------------------------------\n#[tmc5160 extruder]                  # Extruder driver config - TMC5160\n#cs_pin: PA7                         # SPI CS pin\n#spi_bus: spi2\n#run_current: 0.800                  # Motor run current\n#interpolate: False                  # 256 microstep interpolation, recommended off\n#sense_resistor: 0.075               # Do not change (0.033 for 5160 Pro)\n#stealthchop_threshold: 500          # StealthChop threshold (set to 0 to disable)\n\n#####################################################################\n#                            Heated Bed                             # \n#####################################################################\n[heater_bed]\nheater_pin: PC7              # Bed heater pin\nsensor_type: Generic 3950    # Bed sensor type\nsensor_pin:  PC0             # Bed sensor pin\nmax_power: 0.5               # Bed power\nmin_temp: 0                  # Min temp (exceeding triggers emergency stop)\nmax_temp: 120                # Max temp (exceeding triggers emergency stop)\n# Bed PID tuning: "PID_CALIBRATE HEATER=heater_bed TARGET=100"\ncontrol: pid                 # PID control (commented after tuning)\npid_kp: 58.437               # PID Kp (commented after tuning)\npid_ki: 2.347                # PID Ki (commented after tuning)\npid_kd: 363.769              # PID Kd (commented after tuning)\n\n#####################################################################\n#                            Fan Configuration                      # \n#####################################################################\n[fan]                        # Model cooling fan\npin: PC9                     # Signal pin\nkick_start_time: 0.5         # Startup time\noff_below: 0.10              # Do not change\n#--------------------------------------------------------------------\n[heater_fan hotend_fan]      # Hotend cooling fan\npin: PC8                     # Signal pin\nmax_power: 1.0               # Max speed\nkick_start_time: 0.5         # Startup time\nheater: extruder             # Linked device: extruder\nheater_temp: 50              # Fan turns on at this extruder temp\nfan_speed: 1.0               # Fan speed\n#--------------------------------------------------------------------\n\n#####################################################################\n#                           Bed Leveling Probe                      #\n#####################################################################\n# Default PL08N probe should not be lower than nozzle, only for leveling.\n# If your PL08N is NO (normally open), add ! to the pin.\n[probe]\npin: ^PB4\nx_offset: 0                  # X offset from nozzle\ny_offset: 25.0               # Y offset from nozzle\nz_offset: 0                  # Z offset from nozzle\nspeed: 10.0                  # Probing speed\nsamples: 3                   # Number of samples\nsamples_result: median       # Result method (default median)\nsample_retract_dist: 4.0     # Probe retract distance\nsamples_tolerance: 0.006     # Sample tolerance (too small may increase retries)\nsamples_tolerance_retries: 3 # Retries on tolerance exceed\n\n#####################################################################\n#                               Homing                              #\n#####################################################################\n# [safe_z_home]                # Z endstop coordinates\n# home_xy_position:206,300     # Z endstop position (adjust as needed)\n# speed:100                    # Homing speed\n# z_hop:10                     # Z lift before homing\n#--------------------------------------------------------------------\n[homing_override]                   # Z homing macro (comment out if using Klicky)\naxes: z\nset_position_z: 0\ngcode:\n    G90\n    G0 Z5 F600\n    G28 X Y\n    ## Z endstop position\n    ## After testing, update X and Y to your values (e.g., X157, Y305)\n    G0 X-10 Y-10 F3600               # Update X and Y here\n    \n    G28 Z\n    G0 Z10 F1800\n    \n     ##  Delete "#" to enable for your printer size:\n     ##  Roughly the center of your bed.\n#--------------------------------------------------------------------\n     ##  For 250mm printers, delete "#" below to enable\n     #G0 X125 Y125 Z30 F3600\n#--------------------------------------------------------------------   \n     ##  For 300mm printers, delete "#" below to enable\n     #G0 X150 Y150 Z30 F3600\n#--------------------------------------------------------------------\n     ##  For 350mm printers, delete "#" below to enable\n     #G0 X175 Y175 Z30 F3600\n#--------------------------------------------------------------------\n\n#####################################################################\n#   3Z Bed Tilt Adjustment\n#####################################################################\n[z_tilt]\n##  Use Z_TILT_ADJUST command to level the bed \n##  z_positions: printhead positions\n\n##--------------------------------------------------------------------\n##  For 250mm printers, delete "#" below to enable\n#z_positions:\n#   -50, 18\n#   125, 298\n#   300, 18\n#points:\n#   30, 5\n#   125, 195\n#   220, 5\n##--------------------------------------------------------------------\n##  For 300mm printers, delete "#" below to enable\n#z_positions:\n#   -50, 18\n#   150, 348\n#   350, 18\n#points:\n#   30, 5\n#   150, 245\n#   270, 5\n##--------------------------------------------------------------------\n##  For 350mm printers, delete "#" below to enable\n#z_positions:\n#   -50, 18\n#   175, 398\n#   400, 18\n#points:\n#   30, 5\n#   175, 295\n#   320, 5\n#--------------------------------------------------------------------\nspeed: 100                   # Leveling speed\nhorizontal_move_z: 10        # Z start height\nretry_tolerance: 0.0075      # Sample tolerance\nretries: 5                   # Retries on tolerance exceed\n\n#####################################################################\n#                              Bed Mesh Calibration\n#####################################################################\n[bed_mesh]\nspeed: 50                    # Calibration speed\nhorizontal_move_z: 5         # Z lift before next probe point\nmesh_min: 30,30              # Min mesh point (x, y)\nmesh_max: 270, 270           # Max mesh point (x, y)\nprobe_count: 4,4             # Probe points (4x4 = 16 points)\nmesh_pps: 2,2                # Additional probe points\nalgorithm: bicubic           # Algorithm\nbicubic_tension: 0.2         # Do not change\n\n#####################################################################\n#                          Idle Bed Shutdown\n#####################################################################\n[idle_timeout]\ntimeout: 1800                # Idle for 30min shuts down bed\n\n#####################################################################\n#                           Custom G-code Macros                    #\n#####################################################################\n[gcode_macro PRINT_START]          # Macro for print start, customize pre-print actions\ngcode:\n     G92 E0                         # Reset extruder\n     BED_MESH_CLEAR                 # Unload mesh\n     G28                            # Home all axes\n     Z_TILT_ADJUST                  # Gantry leveling\n     G28                            # Home all axes\n     G1 Z20 F3000                   # Move nozzle away from bed\n     BED_MESH_PROFILE LOAD=default  # Load mesh\n#--------------------------------------------------------------------\n[gcode_macro PRINT_HUAXIAN]        # Macro for PRINT_HUAXIAN, customize pre-print actions\ngcode:\n     G1 Z5 F3000 \n     G92 E0;              # Reset extruder\n     G90                  # Absolute positioning\n     G0 X5 Y1 F6000       # Move to x5 y1 at 100mm/s\n     G0 Z0.4              # Move Z to 0.4\n     G91                  # Relative positioning\n     G1 X100 E20 F1200;   # Move X 100mm and extrude\n     G1 Y1                # Move Y 1mm\n     G1 X-100 E20 F1200;  # Move X -100mm and extrude\n     G0 z5                # Raise Z 5mm\n     G1 E-5.0 F3600       # Retract filament\n     G92 E0;              # Reset extruder\n     G90                  # Absolute positioning \n\n#--------------------------------------------------------------------\n[gcode_macro PRINT_END]            # Macro for print end, customize post-print actions\ngcode:\n     #   Get Boundaries\n     {% set max_x = printer.configfile.config["stepper_x"]["position_max"]|float %}\n     {% set max_y = printer.configfile.config["stepper_y"]["position_max"]|float %}\n     {% set max_z = printer.configfile.config["stepper_z"]["position_max"]|float %}\n     \n     #   Check end position to determine safe directions to move\n     {% if printer.toolhead.position.x < (max_x - 20) %}\n          {% set x_safe = 20.0 %}\n     {% else %}\n          {% set x_safe = -20.0 %}\n     {% endif %}\n\n     {% if printer.toolhead.position.y < (max_y - 20) %}\n          {% set y_safe = 20.0 %}\n     {% else %}\n          {% set y_safe = -20.0 %}\n     {% endif %}\n\n     {% if printer.toolhead.position.z < (max_z - 2) %}\n          {% set z_safe = 2.0 %}\n     {% else %}\n          {% set z_safe = max_z - printer.toolhead.position.z %}\n     {% endif %}\n \n     M400                              # Wait for buffer to clear\n     G92 E0                            # Reset extruder\n     G1 E-10.0 F3600                   # Retract filament\n     G91                               # Relative positioning\n     G0 Z{z_safe} F3600                # Raise gantry\n     G0 X{x_safe} Y{y_safe} F20000     # Move nozzle to remove stringing\n     M104 S0                           # Turn off hotend\n     M140 S0                           # Turn off bed\n     M106 S0                           # Turn off fan\n     G90                               # Absolute positioning\n     G0 X{max_x / 2} Y{max_y} F3600    # Move nozzle to rear\n     BED_MESH_CLEAR                    # Unload mesh\n\n'})})]})}function c(e={}){let{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}}}]);