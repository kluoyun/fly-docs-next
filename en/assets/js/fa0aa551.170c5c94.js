"use strict";(self.webpackChunkklipper_docs=self.webpackChunkklipper_docs||[]).push([[49685],{26959:(e,o,s)=>{s.r(o),s.d(o,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>t,metadata:()=>n,toc:()=>d});const n=JSON.parse('{"id":"ProductDoc/ToolBoard/fly-sht36/sht36_pro/spi","title":"On-board 5160 driver not working","description":"Specific reasons","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/ProductDoc/ToolBoard/fly-sht36/sht36_pro/spi.mdx","sourceDirName":"ProductDoc/ToolBoard/fly-sht36/sht36_pro","slug":"/ProductDoc/ToolBoard/fly-sht36/sht36_pro/spi","permalink":"/fly-docs-next/en/docs/ProductDoc/ToolBoard/fly-sht36/sht36_pro/spi","draft":false,"unlisted":false,"editUrl":"https://github.com/kluoyun/fly-docs-next/tree/master/docs/ProductDoc/ToolBoard/fly-sht36/sht36_pro/spi.mdx","tags":[],"version":"current","lastUpdatedBy":"XiaoK","lastUpdatedAt":1730539595000,"sidebarPosition":8,"frontMatter":{"sidebar_position":8,"sidebar_label":"SPI usage unresolved issues"},"sidebar":"tutorialSidebar","previous":{"title":"3D Models and Schematics","permalink":"/fly-docs-next/en/docs/ProductDoc/ToolBoard/fly-sht36/sht36_pro/schematic"},"next":{"title":"FLY-SHT36-LIS3DH","permalink":"/fly-docs-next/en/docs/category/fly-sht36-lis3dh"}}');var r=s(86070),i=s(15658);const t={sidebar_position:8,sidebar_label:"SPI usage unresolved issues"},l="On-board 5160 driver not working",c={},d=[{value:"Specific reasons",id:"specific-reasons",level:2},{value:"Solution",id:"solution",level:2}];function a(e){const o={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.header,{children:(0,r.jsx)(o.h1,{id:"on-board-5160-driver-not-working",children:"On-board 5160 driver not working"})}),"\n",(0,r.jsx)(o.pre,{children:(0,r.jsx)(o.code,{className:"language-bash",children:"Unable to write tmc spi 'extruder' register IHOLD_IRUN\n"})}),"\n",(0,r.jsx)(o.h2,{id:"specific-reasons",children:"Specific reasons"}),"\n",(0,r.jsxs)(o.ul,{children:["\n",(0,r.jsxs)(o.li,{children:["If using 5160, the following error occurs due to an issue with the upper-level machine Arm toolchain version ",(0,r.jsx)(o.code,{children:"arm-none-eabi-gcc"})]}),"\n"]}),"\n",(0,r.jsx)(o.h2,{id:"solution",children:"Solution"}),"\n",(0,r.jsx)(o.p,{children:"There are three solutions:"}),"\n",(0,r.jsxs)(o.ul,{children:["\n",(0,r.jsxs)(o.li,{children:["Switch the compilation toolchain ",(0,r.jsx)(o.code,{children:"arm-none-eabi-gcc"})," from ",(0,r.jsx)(o.code,{children:"gcc10"})," to ",(0,r.jsx)(o.code,{children:"gcc8"})]}),"\n",(0,r.jsx)(o.li,{children:"Replace the upper-level machine system"}),"\n",(0,r.jsx)(o.li,{children:"Flash a firmware that works properly"}),"\n"]}),"\n",(0,r.jsx)(o.p,{children:"For firmware download and flashing, please note that the tool board must be able to connect CAN normally and have CANBOOT."}),"\n",(0,r.jsxs)(o.ul,{children:["\n",(0,r.jsx)(o.li,{children:"Download"}),"\n"]}),"\n",(0,r.jsx)(o.pre,{children:(0,r.jsx)(o.code,{className:"language-bash",children:"cd ~/ && git clone https://github.com/FengHua741/FLY_Katapult.git\n"})}),"\n",(0,r.jsxs)(o.ul,{children:["\n",(0,r.jsx)(o.li,{children:"Flash"}),"\n"]}),"\n",(0,r.jsx)(o.pre,{children:(0,r.jsx)(o.code,{children:"python3 ~/klipper/lib/canboot/flash_can.py -f ~/FLY_Katapult/Klipper/SHT36PRO/SHT36PRO_KLIPPER_CAN-1M_v0.12.0-229-g589bd64c.bin -u <SHT36PRO_canid>\n"})})]})}function h(e={}){const{wrapper:o}={...(0,i.R)(),...e.components};return o?(0,r.jsx)(o,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}}}]);