"use strict";(self.webpackChunkklipper_docs=self.webpackChunkklipper_docs||[]).push([[24371],{31481:(e,n,i)=>{i.d(n,{Ay:()=>l,RM:()=>t});var s=i(86070),r=i(15658);const t=[{value:"Klipper\u56fa\u4ef6\u7f16\u8bd1\u914d\u7f6e\u9875\u9762\u64cd\u4f5c\u8bf4\u660e",id:"klipper\u56fa\u4ef6\u7f16\u8bd1\u914d\u7f6e\u9875\u9762\u64cd\u4f5c\u8bf4\u660e",level:2}];function o(e){const n={admonition:"admonition",code:"code",h2:"h2",li:"li",ol:"ol",p:"p",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.admonition,{type:"tip",children:(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u8bf7\u786e\u4fdd\u4e0a\u4f4d\u673a\u53ef\u4ee5\u6b63\u5e38\u8054\u7f51"}),"\n",(0,s.jsx)(n.li,{children:"\u56fa\u4ef6\u7f16\u8bd1\u524d\u9700\u8981\u4f7f\u7528SSH\u901a\u8fc7\u7f51\u7edc\u767b\u5f55\u4e0a\u4f4d\u673a"}),"\n",(0,s.jsx)(n.li,{children:"\u8bf7\u4e0d\u8981\u4f7f\u7528\u4e32\u53e3\u5de5\u5177\u767b\u5f55\u4e0a\u4f4d\u673a"}),"\n"]})}),"\n",(0,s.jsx)(n.h2,{id:"klipper\u56fa\u4ef6\u7f16\u8bd1\u914d\u7f6e\u9875\u9762\u64cd\u4f5c\u8bf4\u660e",children:"Klipper\u56fa\u4ef6\u7f16\u8bd1\u914d\u7f6e\u9875\u9762\u64cd\u4f5c\u8bf4\u660e"}),"\n",(0,s.jsx)(n.admonition,{type:"tip",children:(0,s.jsx)(n.p,{children:"\u8bf7\u786e\u4fdd\u952e\u76d8\u8f93\u5165\u6cd5\u4e3a\u534a\u89d2\u6a21\u5f0f\uff0c\u5373\u82f1\u6587\u6a21\u5f0f"})}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\u952e\u76d8\u4e0a\u952e",(0,s.jsx)(n.code,{children:"\u2191"}),"\uff0c\u4e0b\u952e",(0,s.jsx)(n.code,{children:"\u2193"}),"\uff0c\u7528\u4e8e\u4e0a\u4e0b\u79fb\u52a8\u5149\u6807\u6765\u9009\u4e2d\u83dc\u5355\u9879"]}),"\n",(0,s.jsxs)(n.li,{children:["\u786e\u8ba4\u952e",(0,s.jsx)(n.code,{children:"Enter"})," \u6216 \u7a7a\u683c\u952e",(0,s.jsx)(n.code,{children:"Space"}),"\uff0c\u7528\u4e8e\u52fe\u9009\u83dc\u5355\u6216\u8fdb\u5165\u5b50\u83dc\u5355"]}),"\n",(0,s.jsxs)(n.li,{children:["\u9000\u51fa\u952e",(0,s.jsx)(n.code,{children:"ESC"}),"\uff0c\u7528\u4e8e\u8fd4\u56de\u4e0a\u4e00\u7ea7\u83dc\u5355"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Q"}),"\u952e\uff0c\u7528\u4e8e\u9000\u51faKlipper\u56fa\u4ef6\u914d\u7f6e\u9875\u9762"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Y"}),"\u952e\uff0c\u5728\u9000\u51faKlipper\u56fa\u4ef6\u914d\u7f6e\u9875\u9762\u65f6\uff0c\u5982\u679c\u6709\u63d0\u793a\uff0c\u5219\u70b9\u51fb",(0,s.jsx)(n.code,{children:"Y"}),"\u952e\u4fdd\u5b58\u914d\u7f6e\u6587\u4ef6"]}),"\n"]}),"\n",(0,s.jsx)(n.admonition,{type:"warning",children:(0,s.jsxs)(n.p,{children:["\u5982\u679c\u914d\u7f6e\u9875\u9762\u9009\u9879\u6bd4\u8f83\u5c11\uff0c\u8bf7\u5148\u52fe\u9009",(0,s.jsx)(n.code,{children:"[ ] Enable extra low-level configuration options"}),"\uff0c\u7528\u4e8e\u663e\u793a\u90e8\u5206\u9690\u85cf\u9009\u9879"]})})]})}function l(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}},86012:(e,n,i)=>{i.d(n,{Ay:()=>c,RM:()=>o});var s=i(86070),r=i(15658),t=i(63436);const o=[];function l(e){const n={code:"code",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Short-circuit or long press BOOT, and after connecting to the host machine via Type-C and entering ",(0,s.jsx)(n.code,{children:"lsusb"}),", you will see ",(0,s.jsx)(n.code,{children:"2e8a:0003"})]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Please note that the current RP2040 is in firmware burning mode and can only burn uf2 suffix firmware. Once the firmware is burned, it will disappear."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["After ejecting ",(0,s.jsx)(n.code,{children:"RPI-RP2"}),", there is no need to short-circuit BOOT or keep pressing the BOOT button."]}),"\n",(0,s.jsx)(t.A,{image:i(85284).A,size:"80%",align:"Center"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Use the following command to burn the firmware to RP2040"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"cd && cd ~/klipper/\nmake flash FLASH_DEVICE=2e8a:0003\n"})}),"\n"]}),"\n"]})}function c(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},13410:(e,n,i)=>{i.d(n,{Ay:()=>c,RM:()=>o});var s=i(86070),r=i(15658),t=i(63436);const o=[];function l(e){const n={code:"code",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"Below is an introduction on how to compile the firmware:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"After connecting to SSH, enter the command below and press Enter:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"cd ~/klipper && rm -rf ~/klipper/.config && rm -rf ~/klipper/out && make menuconfig\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Where ",(0,s.jsx)(n.code,{children:"rm -rf ~/klipper/.config && rm -rf ~/klipper/out"})," is to delete previous compilation data and firmware, and ",(0,s.jsx)(n.code,{children:"make menuconfig"})," is to compile the firmware. After execution, the following interface should appear:"]}),"\n",(0,s.jsx)(t.A,{image:i(68962).A,size:"100%",align:"Center"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Select ",(0,s.jsx)(n.strong,{children:"Enable extra low-level configuration options"})," and press Enter"]}),"\n",(0,s.jsx)(t.A,{image:i(17145).A,size:"100%",align:"Center"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Enter the menu ",(0,s.jsx)(n.strong,{children:"Micro-controller Architecture"})," and then select ",(0,s.jsx)(n.strong,{children:"Raspberry Pi RP2040"})," and press Enter"]}),"\n",(0,s.jsx)(t.A,{image:i(83538).A,size:"100%",align:"Center"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Select ",(0,s.jsx)(n.strong,{children:"Bootloader offset"}),", choose: ",(0,s.jsx)(n.strong,{children:"NO bootloader"})]}),"\n",(0,s.jsx)(t.A,{image:i(75757).A,size:"100%",align:"Center"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Select ",(0,s.jsx)(n.strong,{children:"Communication interface"}),", choose: ",(0,s.jsx)(n.strong,{children:"UART0 on GPIO0/GPIO1"})]}),"\n",(0,s.jsx)(t.A,{image:i(99736).A,size:"100%",align:"Center"}),"\n"]}),"\n"]})]})}function c(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},82993:(e,n,i)=>{i.d(n,{Ay:()=>c,RM:()=>o});var s=i(86070),r=i(15658),t=i(61706);const o=[];function l(e){const n={admonition:"admonition",code:"code",li:"li",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["You need an upper computer with the ",(0,s.jsx)(n.code,{children:"klipper"})," service installed  ",(0,s.jsx)(t.A,{variant:"contained",disableElevation:!0,href:"/docs/DebugDoc/BasicTutorial/",children:"Connect via SSH over the network"})]}),"\n",(0,s.jsx)(n.li,{children:"And make sure the device is connected to the upper computer"}),"\n",(0,s.jsx)(n.li,{children:"Note: Please use a regular upper computer, such as a Raspberry Pi FLY board, etc. If you are using a modified upper computer, we cannot provide much assistance due to too many issues."}),"\n"]}),"\n",(0,s.jsx)(n.admonition,{title:"Note",type:"warning",children:(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Do not use the ",(0,s.jsx)(n.code,{children:"ROOT"})," user"]}),"\n"]})})]})}function c(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},63489:(e,n,i)=>{i.d(n,{Ay:()=>c,RM:()=>o});var s=i(86070),r=i(15658),t=i(63436);const o=[];function l(e){const n={admonition:"admonition",code:"code",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Please ensure the host machine can connect to the internet normally."}),"\n",(0,s.jsx)(n.li,{children:"Please ensure the data cable connecting the lower-level machine to the host machine has data transfer capabilities."}),"\n",(0,s.jsxs)(n.li,{children:["After SSH connecting to the host machine, input ",(0,s.jsx)(n.code,{children:"lsusb"})," and press enter. One of the following three situations may occur:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"It displays USB devices that have been recognized."}),"\n",(0,s.jsxs)(n.li,{children:["It prompts that there is no ",(0,s.jsx)(n.code,{children:"ls"})," command, you can execute this command to install it:","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"sudo apt-get install usbutils\n"})}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"There are no errors, but no other information (this indicates a system problem and needs a system replacement)."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["If there is no reaction after entering ",(0,s.jsx)(n.code,{children:"lsusb"}),", this indicates a system problem and we cannot help here; you need to replace with a confirmed normal system."]}),"\n",(0,s.jsxs)(n.li,{children:["If the information circled in the following image appears, you can proceed to the next step.","\n",(0,s.jsx)(t.A,{image:i(85284).A,size:"80%",align:"left"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"2e8a:0003"})," belongs to the device you will use this time. Ignore the subsequent prompts as system issues might cause them to display incompletely or not at all."]}),"\n",(0,s.jsx)(n.li,{children:"If not, please check if the data cable is properly connected or if the motherboard is in Katapult mode (formerly CANBOOT)."}),"\n"]}),"\n",(0,s.jsx)(n.admonition,{title:"Note",type:"warning",children:(0,s.jsxs)(n.p,{children:["Proceed to the next step only when you have ",(0,s.jsx)(n.code,{children:"2e8a:0003"}),"."]})})]})}function c(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},85500:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>u,contentTitle:()=>m,default:()=>j,frontMatter:()=>p,metadata:()=>s,toc:()=>x});const s=JSON.parse('{"id":"ProductDoc/ToolBoard/fly-ercf/ercfv2/flash/rs232","title":"RS232 Firmware Compilation","description":"Start Compilation","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/ProductDoc/ToolBoard/fly-ercf/ercfv2/flash/rs232.mdx","sourceDirName":"ProductDoc/ToolBoard/fly-ercf/ercfv2/flash","slug":"/ProductDoc/ToolBoard/fly-ercf/ercfv2/flash/rs232","permalink":"/fly-docs-next/en/docs/ProductDoc/ToolBoard/fly-ercf/ercfv2/flash/rs232","draft":false,"unlisted":false,"editUrl":"https://github.com/kluoyun/fly-docs-next/tree/master/docs/ProductDoc/ToolBoard/fly-ercf/ercfv2/flash/rs232.mdx","tags":[],"version":"current","lastUpdatedBy":"XiaoK","lastUpdatedAt":1730539595000,"sidebarPosition":4,"frontMatter":{"sidebar_position":4,"sidebar_label":"RS232 Firmware Flashing"},"sidebar":"tutorialSidebar","previous":{"title":"CAN Firmware Flashing","permalink":"/fly-docs-next/en/docs/ProductDoc/ToolBoard/fly-ercf/ercfv2/flash/can"},"next":{"title":"USB Firmware Burning","permalink":"/fly-docs-next/en/docs/ProductDoc/ToolBoard/fly-ercf/ercfv2/flash/usb"}}');var r=i(86070),t=i(15658),o=i(86012),l=i(31481),c=i(13410),a=i(82993),d=i(63436),h=i(63489);const p={sidebar_position:4,sidebar_label:"RS232 Firmware Flashing"},m="RS232 Firmware Compilation",u={},x=[{value:"Start Compilation",id:"start-compilation",level:2},...a.RM,...l.RM,...c.RM,{value:"Enter Flash Mode",id:"enter-flash-mode",level:2},{value:"Confirm Entry into Flash Mode",id:"confirm-entry-into-flash-mode",level:2},...h.RM,{value:"Flash Firmware",id:"flash-firmware",level:2},...o.RM,{value:"Confirm Firmware Startup",id:"confirm-firmware-startup",level:2}];function f(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"rs232-firmware-compilation",children:"RS232 Firmware Compilation"})}),"\n",(0,r.jsx)(n.h2,{id:"start-compilation",children:"Start Compilation"}),"\n",(0,r.jsx)(a.Ay,{}),"\n",(0,r.jsx)(l.Ay,{}),"\n",(0,r.jsx)(c.Ay,{}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Select GPIO pins to set at micro-controller startup, input: gpio17"}),"\n",(0,r.jsx)(d.A,{image:i(69268).A,size:"100%",align:"center"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Press ",(0,r.jsx)(n.code,{children:"Q"})," key, the prompt ",(0,r.jsx)(n.strong,{children:"Save configuration"})," appears, then press ",(0,r.jsx)(n.code,{children:"Y"})," key"]}),"\n",(0,r.jsx)(d.A,{image:i(78674).A,size:"50%",align:"center"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Now the configuration should be saved and you are back in the command line interface"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Input ",(0,r.jsx)(n.code,{children:"make -j4"})," to start compilation, it will take some time"]}),"\n",(0,r.jsx)(d.A,{image:i(88984).A,size:"50%",align:"center"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"The following output indicates successful compilation"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"Linking out/klipper.elf\nCreating uf2 file out/klipper.uf2\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"enter-flash-mode",children:"Enter Flash Mode"}),"\n",(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsxs)(n.p,{children:["Circled as ",(0,r.jsx)(n.code,{children:"BOOT button"})]})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["To enter DFU mode, the motherboard must be completely powered off. Hold the BOOT button while connecting the data transfer cable to the motherboard and your host machine.","\n",(0,r.jsx)(d.A,{image:i(45772).A,size:"100%",align:"center"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"confirm-entry-into-flash-mode",children:"Confirm Entry into Flash Mode"}),"\n",(0,r.jsx)(h.Ay,{}),"\n",(0,r.jsx)(n.h2,{id:"flash-firmware",children:"Flash Firmware"}),"\n",(0,r.jsx)(o.Ay,{}),"\n",(0,r.jsx)(n.h2,{id:"confirm-firmware-startup",children:"Confirm Firmware Startup"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["If the firmware starts up correctly, the LED will light up","\n",(0,r.jsx)(d.A,{image:i(26277).A,size:"100%",align:"center"}),"\n"]}),"\n"]})]})}function j(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(f,{...e})}):f(e)}},83538:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/2040-bfebec4ffca3221fea25ecef3ad1914c.png"},99736:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/rs232-a9dc17b9dfa74e9bb9fedebf49337684.png"},75757:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/0kb-215ef12396ac0cb2eedd23b0fae9ef0b.png"},68962:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/make1-572f4a7d4a6b312f4120a3d41416e20a.png"},17145:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/make2-691f9310cfdb0bcb49854b9c9410a867.png"},78674:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/configuration-8b7fe8f451ec7f34a0afa369a0cbddef.png"},88984:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/make-f3329d5ec4c75596863e7589713aae1c.png"},85284:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/2e8a-5bc7c58f995abf8e3174d6c8e696caa6.png"},45772:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/boot-8cd0bb263cfda37b553885ac70590e0c.png"},69268:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/can-4f4e0b6ead6f5ddae9132630d38b97ec.png"},26277:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/led-55424b722c49171a3469a4ad7defbe39.png"}}]);