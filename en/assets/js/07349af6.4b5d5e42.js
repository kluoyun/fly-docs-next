"use strict";(self.webpackChunkklipper_docs=self.webpackChunkklipper_docs||[]).push([["10297"],{44323:function(e,n,i){i.r(n),i.d(n,{default:()=>u,frontMatter:()=>l,metadata:()=>t,assets:()=>c,toc:()=>a,contentTitle:()=>o});var t=JSON.parse('{"id":"ProductDoc/ExtensionBoard/fly-airclick/button","title":"Add Wireless Button","description":"* The wireless button requires a battery to be installed, the battery model is CR927","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/ProductDoc/ExtensionBoard/fly-airclick/button.mdx","sourceDirName":"ProductDoc/ExtensionBoard/fly-airclick","slug":"/ProductDoc/ExtensionBoard/fly-airclick/button","permalink":"/fly-docs-next/en/docs/ProductDoc/ExtensionBoard/fly-airclick/button","draft":false,"unlisted":false,"editUrl":"https://github.com/kluoyun/fly-docs-next/tree/master/docs/ProductDoc/ExtensionBoard/fly-airclick/button.mdx","tags":[],"version":"current","lastUpdatedBy":"Xiaok","lastUpdatedAt":1743130497000,"sidebarPosition":6,"frontMatter":{"sidebar_position":6,"sidebar_label":"Add Button"},"sidebar":"tutorialSidebar","previous":{"title":"Connect to BambuLab","permalink":"/fly-docs-next/en/docs/ProductDoc/ExtensionBoard/fly-airclick/bambulab"},"next":{"title":"Wired Connection Klipper Configuration","permalink":"/fly-docs-next/en/docs/ProductDoc/ExtensionBoard/fly-airclick/offline-operation-support"}}'),s=i("74132"),r=i("94551");let l={sidebar_position:6,sidebar_label:"Add Button"},o="Add Wireless Button",c={},a=[{value:"Custom GCODE",id:"custom-gcode",level:2},{value:"Request API",id:"request-api",level:2},{value:"Trigger GPIO (Only Klipper)",id:"trigger-gpio-only-klipper",level:2}];function d(e){let n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,r.a)(),...e.components},{Button:t,ImageView:l,TabItem:o,Tabs:c}=n;return t||h("Button",!0),l||h("ImageView",!0),o||h("TabItem",!0),c||h("Tabs",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"add-wireless-button",children:"Add Wireless Button"})}),"\n",(0,s.jsx)(n.admonition,{title:"Important Note",type:"info",children:(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["The wireless button requires a battery to be installed, the battery model is ",(0,s.jsx)(n.code,{children:"CR927"})]}),"\n"]})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["After returning to the homepage, click the ",(0,s.jsx)(n.code,{children:"+"})," inside the red box in the picture","\n",(0,s.jsx)(l,{image:i(83963).Z,size:"80%",align:"Center"}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"After the following interface appears, press the wireless button with the installed battery normally"}),"\n",(0,s.jsxs)(n.li,{children:["The ID of the wireless button will be automatically generated in the red box, this ID is unique","\n",(0,s.jsx)(l,{image:i(79483).Z,size:"80%",align:"Center"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Enter the name you want to call the button in the red box","\n",(0,s.jsx)(l,{image:i(77297).Z,size:"80%",align:"Center"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Click the first red box, and the second blue box will appear","\n",(0,s.jsx)(l,{image:i(82003).Z,size:"80%",align:"Center"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.admonition,{title:"Notice",type:"danger",children:(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Custom GCODE and API requests are controlled through a wireless connection"}),"\n",(0,s.jsx)(n.li,{children:"Triggering GPIO is controlled through a wired connection"}),"\n"]})}),"\n",(0,s.jsx)(n.h2,{id:"custom-gcode",children:"Custom GCODE"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Customize ",(0,s.jsx)(n.code,{children:"GCODE"}),", you can enter the code or macro name you need to execute in the red box, AirClick will automatically send it to the printer for execution","\n",(0,s.jsx)(l,{image:i(37362).Z,size:"80%",align:"Center"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"request-api",children:"Request API"}),"\n",(0,s.jsxs)(c,{children:[(0,s.jsxs)(o,{value:"ka",label:"Klipper API Settings",default:!0,children:[(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Predefined APIs can achieve custom macros, emergency stop, Klipper restart, firmware restart, system shutdown, etc."}),"\n"]}),(0,s.jsx)(l,{image:i(52092).Z,size:"80%",align:"Center"}),(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsxs)(n.li,{children:["Custom API Description","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["All API reference documents ",(0,s.jsx)(n.a,{href:"https://moonraker.readthedocs.io/en/latest/web_api/",children:"Moonraker API"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"method"})," is consistent with MoonrakerAPI's ",(0,s.jsx)(n.code,{children:"method"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"params"})," is consistent with MoonrakerAPI's ",(0,s.jsx)(n.code,{children:"params"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["The following takes the API for starting to print a specified file as an example","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"The following is an example of the official Klipper documentation"}),"\n"]}),"\n",(0,s.jsx)(l,{image:i(30965).Z,size:"80%",align:"Center"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"The following is an example of AirClick's API filling"}),"\n"]}),"\n",(0,s.jsx)(l,{image:i(2568).Z,size:"80%",align:"Center"}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"Save this button, and you can start printing the specified file"}),"\n"]})]}),(0,s.jsx)(o,{value:"ra",label:"RRF API Settings",children:(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Custom API Description","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["All API reference documents ",(0,s.jsx)(n.a,{href:"https://github.com/Duet3D/RepRapFirmware/wiki/HTTP-requests",children:"RepRapFirmware HTTP API"})]}),"\n",(0,s.jsx)(n.li,{children:"Only supports GET request interface"}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"method"})," is consistent with RRF HTTP API's ",(0,s.jsx)(n.code,{children:"uri"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"params"})," is consistent with RRF HTTP API's ",(0,s.jsx)(n.code,{children:"url query"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["The following takes the API for deleting a specified file or folder as an example","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"The following is an example of the official RRF documentation"}),"\n"]}),"\n",(0,s.jsx)(l,{image:i(24932).Z,size:"80%",align:"Center"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"The following is an example of AirClick's API filling"}),"\n"]}),"\n",(0,s.jsx)(l,{image:i(22775).Z,size:"80%",align:"Center"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["The params here need to rewrite the URL parameters into JSON format, such as ",(0,s.jsx)(n.code,{children:"/?aaaa=bbb&cccc=ddd"})]}),"\n",(0,s.jsxs)(n.li,{children:["Modified to","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n    "aaaa": "bbb",\n    "cccc": "ddd"\n}\n'})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"Save this button, and you can delete the specified file or folder"}),"\n"]})}),(0,s.jsxs)(o,{value:"ba",label:"BambuLab API Settings",children:[(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Predefined APIs can achieve pause printing, cancel printing, LED control, etc."}),"\n"]}),(0,s.jsx)(l,{image:i(72579).Z,size:"80%",align:"Center"}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"It is recommended to use the automatic switch mode for LED control. In this mode, the LED status will be automatically detected and the status will be automatically switched. Achieve one-key on or off"}),"\n"]}),(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsxs)(n.li,{children:["Custom API Description","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"BambuLab API needs to find the relevant Github Open BambuAPI documentation by yourself"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["The following takes the API for setting the printing speed as an example","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["The following is the complete parameter sent by BambuLab local area network MQTT","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n    "print": {\n        "sequence_id": "0",\n        "command": "print_speed",\n        "param": "2" // Print speed level as a string\n                     // 1 = silent\n                     // 2 = standard\n                     // 3 = sport\n                     // 4 = ludicrous\n    }\n}\n'})}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"The following is an example of AirClick's API filling"}),"\n"]}),"\n",(0,s.jsx)(l,{image:i(64573).Z,size:"80%",align:"Center"}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"Save this button, and you can set the printing speed"}),"\n"]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"trigger-gpio-only-klipper",children:"Trigger GPIO (Only Klipper)"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Triggering GPIO requires STM32F072 to be connected to Klipper"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Firmware burning and connection need to refer to this document ",(0,s.jsx)(t,{variant:"contained",disableElevation:!0,href:"/docs/ProductDoc/ExtensionBoard/fly-airclick/offline-operation-support",children:"Firmware Burning and Connection"})]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["The IOs that can be used are ",(0,s.jsx)(n.code,{children:"PB0"})," to ",(0,s.jsx)(n.code,{children:"PB9"}),", a total of ten IOs. After the firmware is normally burned and connected to Klipper, it only needs to be normally configured. The following is the reference configuration"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cfg",children:"[mcu AirClick]\nserial: /dev/serial/by-id/usb-Klipper_stm32f072xb_AirClick-if00\n### Need to search USBID and modify here\n\n[gcode_button _test]\npin: ^!AirClick:PB0\npress_gcode:\n    M118 PB0\n\n[gcode_button _test1]\npin: ^!AirClick:PB1\npress_gcode:\n    M118 PB1\n\n[gcode_button _test2]\npin: ^!AirClick:PB2\npress_gcode:\n    M118 PB2\n\n[gcode_button _test3]\npin: ^!AirClick:PB3\npress_gcode:\n    M118 PB3\n\n[gcode_button _test4]\npin: ^!AirClick:PB4\npress_gcode:\n    M118 PB4\n\n[gcode_button _test5]\npin: ^!AirClick:PB5\npress_gcode:\n    M118 PB5\n\n[gcode_button _test6]\npin: ^!AirClick:PB6\npress_gcode:\n    M118 PB6\n\n[gcode_button _test7]\npin: ^!AirClick:PB7\npress_gcode:\n    M118 PB7\n\n[gcode_button _test8]\npin: ^!AirClick:PB8\npress_gcode:\n    M118 PB8\n\n[gcode_button _test9]\npin: ^!AirClick:PB9\npress_gcode:\n    M118 PB9\n"})}),"\n"]}),"\n"]})]})}function u(e={}){let{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}function h(e,n){throw Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},52092:function(e,n,i){i.d(n,{Z:function(){return t}});let t=i.p+"assets/images/api-2af73b6b4ebea6721d10fe2a0bd6ff6b.webp"},72579:function(e,n,i){i.d(n,{Z:function(){return t}});let t=i.p+"assets/images/bambu-api-1-742abcddb517d529fe02cd33929948f9.webp"},64573:function(e,n,i){i.d(n,{Z:function(){return t}});let t=i.p+"assets/images/bambu-api-2-650785d85fbf48a977e64ebe36ea0c22.webp"},79483:function(e,n,i){i.d(n,{Z:function(){return t}});let t=i.p+"assets/images/button-1-0d8a116019030586c24cc22580c3bc45.webp"},77297:function(e,n,i){i.d(n,{Z:function(){return t}});let t=i.p+"assets/images/button-2-b7d5020af6446d2f7e864cb7fe1f22a1.webp"},82003:function(e,n,i){i.d(n,{Z:function(){return t}});let t=i.p+"assets/images/button-3-dec9d14925864c3fed0b159930ae5a8b.webp"},83963:function(e,n,i){i.d(n,{Z:function(){return t}});let t=i.p+"assets/images/button-0c3d2f9521727bd781609e9e4e1ff6b9.webp"},37362:function(e,n,i){i.d(n,{Z:function(){return t}});let t=i.p+"assets/images/gcode-8fc68035b21ed6c795b12d7c61266d6f.webp"},30965:function(e,n,i){i.d(n,{Z:function(){return t}});let t=i.p+"assets/images/klipper-api-1-418789b68e680f59fb30c89eb79bc7a1.webp"},2568:function(e,n,i){i.d(n,{Z:function(){return t}});let t=i.p+"assets/images/klipper-api-2-8f63b28adc7813934fc850f9aeaf6730.webp"},24932:function(e,n,i){i.d(n,{Z:function(){return t}});let t=i.p+"assets/images/rrf-api-1-46710949cb0083c257ef2d5ca7e6c191.webp"},22775:function(e,n,i){i.d(n,{Z:function(){return t}});let t=i.p+"assets/images/rrf-api-2-acadcc94001e329a5efad508ed2b6134.webp"},94551:function(e,n,i){i.d(n,{Z:function(){return o},a:function(){return l}});var t=i(39546);let s={},r=t.createContext(s);function l(e){let n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);