"use strict";(self.webpackChunkklipper_docs=self.webpackChunkklipper_docs||[]).push([["99647"],{16864:function(e,n,t){t.r(n),t.d(n,{frontMatter:()=>a,default:()=>T,toc:()=>E,metadata:()=>o,assets:()=>i,contentTitle:()=>d});var o=JSON.parse('{"id":"ProductDoc/ToolBoard/fly-sht36/sht36_v3/cfg2","title":"cfg2","description":"\u8BF7\u4E0D\u8981\u6253\u5F00\u7F51\u9875\u7FFB\u8BD1\u65F6\u5019\u4FEE\u6539\u914D\u7F6E","source":"@site/docs/ProductDoc/ToolBoard/fly-sht36/sht36_v3/cfg2.mdx","sourceDirName":"ProductDoc/ToolBoard/fly-sht36/sht36_v3","slug":"/ProductDoc/ToolBoard/fly-sht36/sht36_v3/cfg2","permalink":"/fly-docs-next/docs/ProductDoc/ToolBoard/fly-sht36/sht36_v3/cfg2","draft":false,"unlisted":false,"editUrl":"https://github.com/kluoyun/fly-docs-next/tree/master/docs/ProductDoc/ToolBoard/fly-sht36/sht36_v3/cfg2.mdx","tags":[],"version":"current","lastUpdatedBy":"xishangyue","lastUpdatedAt":1744621503000,"sidebarPosition":5,"frontMatter":{"sidebar_position":5,"sidebar_label":"eddy\u53C2\u8003\u914D\u7F6E"},"sidebar":"tutorialSidebar","previous":{"title":"\u914D\u7F6E\u53C2\u8003","permalink":"/fly-docs-next/docs/ProductDoc/ToolBoard/fly-sht36/sht36_v3/cfg"},"next":{"title":"\u52A0\u901F\u5EA6\u8BA1\u4F7F\u7528","permalink":"/fly-docs-next/docs/ProductDoc/ToolBoard/fly-sht36/sht36_v3/adxl"}}'),r=t(85893),_=t(50065);let a={sidebar_position:5,sidebar_label:"eddy\u53C2\u8003\u914D\u7F6E"},d="\u53C2\u8003\u914D\u7F6E",i={},E=[];function s(e){let n={admonition:"admonition",code:"code",h1:"h1",header:"header",p:"p",pre:"pre",...(0,_.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsx)(n.p,{children:"\u8BF7\u4E0D\u8981\u6253\u5F00\u7F51\u9875\u7FFB\u8BD1\u65F6\u5019\u4FEE\u6539\u914D\u7F6E"})}),"\n",(0,r.jsx)(n.admonition,{title:"\u6CE8\u610F\u4E8B\u9879",type:"warning",children:(0,r.jsx)(n.p,{children:"\u8BF7\u4E0D\u8981\u6253\u5F00\u7F51\u9875\u7FFB\u8BD1\u65F6\u5019\u4FEE\u6539\u914D\u7F6E"})}),"\n",(0,r.jsx)(n.admonition,{title:"\u987B\u77E5",type:"danger",children:(0,r.jsx)(n.p,{children:"\u8BF7\u4E0D\u8981\u6253\u5F00\u7F51\u9875\u7FFB\u8BD1\u65F6\u5019\u4FEE\u6539\u914D\u7F6E"})}),"\n",(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"\u53C2\u8003\u914D\u7F6E",children:"\u53C2\u8003\u914D\u7F6E"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-cfg",children:'[probe_eddy_current fly_eddy_probe]\nsensor_type: ldc1612\ni2c_address: 43\ni2c_mcu: SHT36\ni2c_bus: i2c1e\nx_offset: 0 #\u8BB0\u5F97\u8BBE\u7F6Ex\u504F\u79FB\ny_offset: 0 #\u8BB0\u5F97\u8BBE\u7F6Ey\u504F\u79FB \nspeed:10\nlift_speed: 15.0\ni2c_speed: 4000000\n\n[temperature_probe fly_eddy_probe]\nsensor_type: Generic 3950\nsensor_pin:SHT36:gpio28\n\n[force_move]\nenable_force_move: true\n\n[gcode_macro CALIBRATE_EDDY]\ndescription: \u6267\u884CEddy\u7535\u6D41\u4F20\u611F\u5668\u6821\u51C6\u53CA\u540E\u7EED\u8C03\u5E73\u6D41\u7A0B \ngcode:\n    # ========== \u5F00\u59CB\u6821\u51C6 Eddy \u7535\u6D41\u4F20\u611F\u5668 ==========\n    M117 \u5F00\u59CB\u6821\u51C6 Eddy \u7535\u6D41\u4F20\u611F\u5668...\n\n    # \u5B89\u5168\u68C0\u6D4B\uFF1A\u68C0\u67E5\u6253\u5370\u673A\u662F\u5426\u5904\u4E8E\u6682\u505C\u72B6\u6001\n    {% if printer.pause_resume.is_paused|lower == \'true\' %}\n        {action_raise_error("\u6821\u51C6\u524D\u8BF7\u5148\u6062\u590D\u6253\u5370\u72B6\u6001")}\n    {% endif %}\n    \n    SET_KINEMATIC_POSITION X={printer.toolhead.axis_maximum.x / 2} Y={printer.toolhead.axis_maximum.y / 2} Z=0\n\n    # \u6267\u884C\u6821\u51C6\u6D41\u7A0B \n    LDC_CALIBRATE_DRIVE_CURRENT CHIP=fly_eddy_probe \n\n    # \u5C1D\u8BD5\u8F93\u51FA DRIVE_CURRENT_FEEDBACK \u7684\u503C\n    M117 Eddy \u7535\u6D41\u6821\u51C6\u5B8C\u6210\uFF0C\u53CD\u9988\u503C: {DRIVE_CURRENT_FEEDBACK}\n\n    # \u68C0\u67E5\u53CD\u9988\u503C\u662F\u5426\u5728\u6B63\u5E38\u8303\u56F4\u5185\n    {% if DRIVE_CURRENT_FEEDBACK is defined %}\n        {% if DRIVE_CURRENT_FEEDBACK < 10 or DRIVE_CURRENT_FEEDBACK > 20 %}\n            M117 \u8B66\u544A\uFF1AEddy \u7535\u6D41\u53CD\u9988\u503C\u5F02\u5E38\uFF08{DRIVE_CURRENT_FEEDBACK}\uFF09\u3002\u8BF7\u68C0\u67E5\u8FDE\u63A5\u3002\n        {% else %}\n            M117 Eddy \u7535\u6D41\u53CD\u9988\u503C\u6B63\u5E38\uFF08{DRIVE_CURRENT_FEEDBACK}\uFF09\u3002\n        {% endif %}\n    {% else %}\n        M117 \u9519\u8BEF\uFF1A\u65E0\u6CD5\u83B7\u53D6 DRIVE_CURRENT_FEEDBACK \u503C\u3002\n    {% endif %}\n    \n    G1 Z2 F300\n    \n    # \u63D0\u793A\u7528\u6237\u6267\u884C\u624B\u52A8Z\u504F\u79FB\u6821\u51C6\n    M117 \u8BF7\u6267\u884C\u624B\u52A8Z\u504F\u79FB\u6821\u51C6\u3002\n\n    # \u6267\u884CEddy\u6709\u6548\u8DDD\u79BB\u6821\u51C6\n    PROBE_EDDY_CURRENT_CALIBRATE CHIP=fly_eddy_probe \n\n    # \u63D0\u793A\u6821\u51C6\u5B8C\u6210\n    M117 \u5DF2\u5B8C\u6210\u6240\u6709\u6821\u51C6\u6D41\u7A0B\uFF01\n\n[gcode_macro TEMP_COMPENSATION]\ndescription: \u6E29\u5EA6\u8865\u507F\u6821\u51C6\u6D41\u7A0B\ngcode:\n  {% set bed_temp = params.BED_TEMP|default(90)|int %}\n  {% set nozzle_temp = params.NOZZLE_TEMP|default(250)|int %}\n  {% set temperature_range_value = params.TEMPERATURE_RANGE_VALUE|default(3)|int %}\n  {% set desired_temperature = params.DESIRED_TEMPERATURE|default(80)|int %}\n  {% set Temperature_Timeout_Duration = params.TEMPERATURE_TIMEOUT_DURATION|default(6500000000)|int %}\n    # \u5B89\u5168\u68C0\u67E5\uFF1A\u786E\u4FDD\u6240\u6709\u8F74\u672A\u9501\u5B9A\n    {% if printer.pause_resume.is_paused %}\n        { action_raise_error("\u9519\u8BEF\uFF1A\u6253\u5370\u673A\u5904\u4E8E\u6682\u505C\u72B6\u6001\uFF0C\u8BF7\u5148\u6062\u590D\u4F7F\u80FD") }\n    {% endif %}\n    # \u7B2C\u4E00\u6B65\uFF1A\u5F52\u4F4D\u6240\u6709\u8F74\n    STATUS_MESSAGE="\u6B63\u5728\u5F52\u4F4D\u6240\u6709\u8F74..."\n    G28\n    STATUS_MESSAGE="\u5F52\u4F4D\u5B8C\u6210"\n    # \u7B2C\u4E8C\u6B65\uFF1A\u81EA\u52A8\u8C03\u5E73\n    Z_TILT_ADJUST\n    # \u7B2C\u4E09\u6B65\uFF1AZ\u8F74\u5B89\u5168\u62AC\u5347\n    STATUS_MESSAGE="Z\u8F74\u62AC\u5347\u4E2D..."\n    G90\n    G0 Z5 F2000  # \u4EE5\u8F83\u6162\u901F\u5EA6\u62AC\u5347\u9632\u6B62\u78B0\u649E\n    # \u7B2C\u56DB\u6B65\uFF1A\u8BBE\u7F6E\u8D85\u65F6\u548C\u6E29\u5EA6\u6821\u51C6\n    SET_IDLE_TIMEOUT TIMEOUT={Temperature_Timeout_Duration}\n    STATUS_MESSAGE="\u5F00\u59CB\u6E29\u5EA6\u63A2\u5934\u6821\u51C6..."\n    TEMPERATURE_PROBE_CALIBRATE PROBE=fly_eddy_probe TARGET={desired_temperature} STEP={temperature_range_value}\n    # \u7B2C\u4E94\u6B65\uFF1A\u8BBE\u7F6E\u6253\u5370\u6E29\u5EA6\uFF08\u6839\u636E\u5B9E\u9645\u9700\u6C42\u4FEE\u6539\uFF09\n    STATUS_MESSAGE="\u8BBE\u7F6E\u5DE5\u4F5C\u6E29\u5EA6..."\n    SET_HEATER_TEMPERATURE HEATER=heater_bed TARGET={bed_temp}\n    SET_HEATER_TEMPERATURE HEATER=extruder TARGET={nozzle_temp}\n    # \u5B8C\u6210\u63D0\u793A\n    STATUS_MESSAGE="\u6E29\u5EA6\u8865\u507F\u6D41\u7A0B\u5B8C\u6210\uFF01"\n    description: G-Code macro\n\n[gcode_macro BED_MESH_CALIBRATE]\nrename_existing: _BED_MESH_CALIBRATE\ngcode: \n       _BED_MESH_CALIBRATE horizontal_move_z=2 METHOD=rapid_scan {rawparams}\n       G28 X Y\n### 3z\u8F74\u8C03\u5E73\u5B8F\n[gcode_macro Z_TILT_ADJUST]\nrename_existing: _Z_TILT_ADJUST\ngcode:\n    # ========== \u72B6\u6001\u4FDD\u5B58 ==========\n    SAVE_GCODE_STATE NAME=STATE_Z_TILT\n    \n    # ========== \u73AF\u5883\u51C6\u5907 ==========\n    BED_MESH_CLEAR                       # \u6E05\u9664\u65E7\u5E8A\u7F51\u6570\u636E \n    \n    # ========== \u4E3B\u8C03\u5E73\u6D41\u7A0B ==========\n    {% if not printer.z_tilt.applied %}\n        # \u9996\u6B21\u5FEB\u901F\u7C97\u8C03 \n        _Z_TILT_ADJUST horizontal_move_z=10 retry_tolerance=1\n        G0 Z10 F6000                     # \u4F7F\u7528\u6807\u51C6 G-code \u547D\u4EE4\u66FF\u4EE3 HORIZONTAL_MOVE_Z\n    {% endif %}\n    \n    # \u7CBE\u786E\u4E8C\u6B21\u8C03\u5E73 \n     _Z_TILT_ADJUST horizontal_move_z=2 retry_tolerance=0.005 retries=20 METHOD=rapid_scan ADAPTIVE=1\n        G0 Z10 F6000                     # \u4F7F\u7528\u6807\u51C6 G-code \u547D\u4EE4\u66FF\u4EE3 HORIZONTAL_MOVE_Z\n\n    # ========== \u540E\u5904\u7406 ==========\n    G90                                 # \u5F3A\u5236\u7EDD\u5BF9\u5750\u6807\u6A21\u5F0F \n    G0 Z10 F6000                        # \u62AC\u5347Z\u8F74\u5230\u5B89\u5168\u9AD8\u5EA6 \n    M117 z_tilt Completed                  # \u663E\u793A\u5B8C\u6210\u72B6\u6001 \n    G28                                 # \u56DE\u5230\u539F\u70B9\n    # ========== \u72B6\u6001\u6062\u590D ==========\n    RESTORE_GCODE_STATE NAME=STATE_Z_TILT\n    M400          \n\n### 4z\u8F74\u8C03\u5E73\u5B8F\n[gcode_macro QUAD_GANTRY_LEVEL]\nrename_existing: _QUAD_GANTRY_LEVEL \ngcode:\n    # ========== State Save ==========\n    SAVE_GCODE_STATE NAME=STATE_QGL \n    \n    # ========== Environment Preparation ==========\n    BED_MESH_CLEAR                       # Clear existing bed mesh data \n    \n    # ========== Main Leveling Process ==========\n    {% if not printer.quad_gantry_level.applied %}\n        # Initial coarse adjustment \n        _QUAD_GANTRY_LEVEL horizontal_move_z=10 retry_tolerance=1\n        G0 Z10 F6000                     # Use standard G-code commands instead of HORIZONTAL_MOVE_Z\n        # Set retry tolerance and speed\n        # Note: Specific parameters depend on _QUAD_GANTRY_LEVEL macro implementation\n        # For example, if _QUAD_GANTRY_LEVEL supports RETRY_TOLERANCE parameter:\n        # _QUAD_GANTRY_LEVEL RETRY_TOLERANCE=0.1 SPEED=200.0\n    {% endif %}\n    \n    # Fine secondary leveling \n     _QUAD_GANTRY_LEVEL horizontal_move_z=2 retry_tolerance=0.005 retries=20 METHOD=rapid_scan ADAPTIVE=1\n        G0 Z10 F6000                     # Use standard G-code commands instead of HORIZONTAL_MOVE_Z\n        # Set auto-compensation algorithm, maximum adjustments, and speed\n        # Note: RETRY_TOLERANCE may have been set previously or adjusted as needed\n    \n    # ========== Post-Processing ==========\n    G90                                 # Force absolute coordinate mode \n    G0 Z10 F6000                        # Raise Z axis to safe height \n    M117 QGL Completed                  # Display completion status \n    G28                                 # Return to origin\n    # ========== State Restore ==========\n    RESTORE_GCODE_STATE NAME=STATE_QGL \n    M400                \n\n[gcode_macro CALIBRATE_DD]\ndescription: \u79FB\u52A8\u8F74\u5B8F \ngcode:\n    # \u5F52\u96F6X/Y\u8F74 \n    G28 X Y \n\n    # \u79FB\u52A8\u6253\u5370\u5934\u5230\u70ED\u5E8A\u4E2D\u5FC3\uFF08\u9002\u914D\u591A\u6570CoreXY\u673A\u578B\uFF09\n    G0 X{printer.toolhead.axis_maximum.x / 2} Y{printer.toolhead.axis_maximum.y / 2} F6000 \n    SET_KINEMATIC_POSITION Z={printer.toolhead.axis_maximum.z-10}\n'})})]})}function T(e={}){let{wrapper:n}={...(0,_.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(s,{...e})}):s(e)}},50065:function(e,n,t){t.d(n,{Z:()=>d,a:()=>a});var o=t(67294);let r={},_=o.createContext(r);function a(e){let n=o.useContext(_);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),o.createElement(_.Provider,{value:n},e.children)}}}]);