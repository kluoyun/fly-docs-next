"use strict";(self.webpackChunkklipper_docs=self.webpackChunkklipper_docs||[]).push([["53091"],{92798:function(e,n,i){i.d(n,{ZP:function(){return l},d$:function(){return o}});var r=i(52676),t=i(79938);let o=[];function s(e){let n={admonition:"admonition",li:"li",ul:"ul",...(0,t.a)(),...e.components};return(0,r.jsx)(n.admonition,{title:"Infinite Position Usage Tip",type:"tip",children:(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Infinite position usage requires occupying a limit port, normally IO1 is used for the first drive position, IO2 for the second drive position, and so on."}),"\n",(0,r.jsx)(n.li,{children:"When using infinite position, please make sure not to connect anything to the corresponding limit port."}),"\n",(0,r.jsx)(n.li,{children:"For some FLY motherboards, the drive ports are directly connected, please pay attention to whether DIAG is directly connected to the corresponding pin."}),"\n"]})})}function l(e={}){let{wrapper:n}={...(0,t.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(s,{...e})}):s(e)}},24042:function(e,n,i){i.r(n),i.d(n,{metadata:()=>r,contentTitle:()=>d,default:()=>u,assets:()=>a,toc:()=>c,frontMatter:()=>l});var r=JSON.parse('{"id":"ProductDoc/ModuleDrive/tmc5160_pro_1.5","title":"TMC 5160 Pro V1.5","description":"Basic Parameters","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/ProductDoc/ModuleDrive/tmc5160_pro_1.5.mdx","sourceDirName":"ProductDoc/ModuleDrive","slug":"/ProductDoc/ModuleDrive/tmc5160_pro_1.5","permalink":"/fly-docs-next/en/docs/ProductDoc/ModuleDrive/tmc5160_pro_1.5","draft":false,"unlisted":false,"editUrl":"https://github.com/kluoyun/fly-docs-next/tree/master/docs/ProductDoc/ModuleDrive/tmc5160_pro_1.5.mdx","tags":[],"version":"current","lastUpdatedBy":"Xiaok","lastUpdatedAt":1732265789000,"sidebarPosition":5,"frontMatter":{"sidebar_position":5},"sidebar":"tutorialSidebar","previous":{"title":"TMC 5160 Pro V1.2","permalink":"/fly-docs-next/en/docs/ProductDoc/ModuleDrive/tmc5160_pro"},"next":{"title":"TMC 5160 Plus","permalink":"/fly-docs-next/en/docs/ProductDoc/ModuleDrive/tmc5160_plus"}}'),t=i("52676"),o=i("79938"),s=i("92798");let l={sidebar_position:5},d="TMC 5160 Pro V1.5",a={},c=[{value:"Basic Parameters",id:"basic-parameters",level:2},{value:"Jumper Explanation for Mainboard",id:"jumper-explanation-for-mainboard",level:2},{value:"Installation of Mainboard FPC",id:"installation-of-mainboard-fpc",level:2},{value:"Wiring for 12V FAN",id:"wiring-for-12v-fan",level:2},{value:"Reference Configuration for TMC5160 Pro",id:"reference-configuration-for-tmc5160-pro",level:2},{value:"Reference Configuration for SPI Mode",id:"reference-configuration-for-spi-mode",level:3},{value:"Usage Instructions for Endstop-Free Operation",id:"usage-instructions-for-endstop-free-operation",level:2},...s.d$];function p(e){let n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",pre:"pre",ul:"ul",...(0,o.a)(),...e.components},{ImageView:r}=n;return!r&&function(e,n){throw Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("ImageView",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"tmc-5160-pro-v15",children:"TMC 5160 Pro V1.5"})}),"\n",(0,t.jsx)(r,{image:i(700).Z,size:"80%",align:"center"}),"\n",(0,t.jsx)(n.h2,{id:"basic-parameters",children:"Basic Parameters"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Input Voltage: 24-48V"}),"\n",(0,t.jsx)(n.li,{children:"Maximum Current: 6A"}),"\n",(0,t.jsx)(n.li,{children:"Suitable for: Marlin/Klipper/RRF firmware"}),"\n",(0,t.jsx)(n.li,{children:"Driver Mode Support: TMC: SPI"}),"\n",(0,t.jsx)(n.li,{children:"Stepper/Direction Interface with microPlyer for micro-stepping interpolation"}),"\n",(0,t.jsx)(n.li,{children:"Highest Resolution: 256 microsteps"}),"\n",(0,t.jsx)(n.li,{children:"Supports stealthChop2 silent operation and smooth motion"}),"\n",(0,t.jsx)(n.li,{children:"Supports resonance suppression at mid-frequency"}),"\n",(0,t.jsx)(n.li,{children:"Supports spreadCycle high dynamic motor control chopper"}),"\n",(0,t.jsx)(n.li,{children:"Supports dcStep load-related speed control"}),"\n",(0,t.jsx)(n.li,{children:"Supports stallGuard2 high precision sensorless motor load detection"}),"\n",(0,t.jsx)(n.li,{children:"Supports coolStep current control, up to 75% energy saving"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"jumper-explanation-for-mainboard",children:"Jumper Explanation for Mainboard"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"TMC5160 Pro uses SPI jumpers"}),"\n",(0,t.jsxs)(n.li,{children:["The SPI pin for FLY drive is the fourth pin from the top on the left side, and the CS pin is the SPI pin. If the mainboard does not have the corresponding pin position, SPI cannot be used.","\n",(0,t.jsx)(r,{image:i(12142).Z,size:"100%",align:"center"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"installation-of-mainboard-fpc",children:"Installation of Mainboard FPC"}),"\n",(0,t.jsx)(r,{image:i(13288).Z,size:"80%",align:"center"}),"\n",(0,t.jsx)(n.h2,{id:"wiring-for-12v-fan",children:"Wiring for 12V FAN"}),"\n",(0,t.jsx)(r,{image:i(34171).Z,size:"80%",align:"center"}),"\n",(0,t.jsx)(n.h2,{id:"reference-configuration-for-tmc5160-pro",children:"Reference Configuration for TMC5160 Pro"}),"\n",(0,t.jsx)(n.admonition,{type:"danger",children:(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["The sampling resistor for the driver is ",(0,t.jsx)(n.code,{children:"sense_resistor: 0.033"}),". Please do not set it incorrectly."]}),"\n",(0,t.jsxs)(n.li,{children:["Only one of ",(0,t.jsx)(n.code,{children:"spi_bus"})," and ",(0,t.jsx)(n.code,{children:"spi_software"})," can be selected."]}),"\n"]})}),"\n",(0,t.jsx)(n.h3,{id:"reference-configuration-for-spi-mode",children:"Reference Configuration for SPI Mode"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cfg",children:"[tmc5160 stepper_x]\ncs_pin:\nspi_bus:\n# spi_software_mosi_pin:\n# spi_software_miso_pin:\n# spi_software_sclk_pin: \nrun_current: 1.0                    # Motor running current value\ninterpolate: False                  # Whether to enable 256 microstep interpolation (enable is True, disable is False)\nsense_resistor: 0.033\nstealthchop_threshold: 0\ndriver_DISS2G: 1\ndriver_DISS2VS: 1\n"})}),"\n",(0,t.jsx)(n.h2,{id:"usage-instructions-for-endstop-free-operation",children:"Usage Instructions for Endstop-Free Operation"}),"\n",(0,t.jsx)(s.ZP,{}),"\n",(0,t.jsx)(n.admonition,{title:"Endstop-Free Usage Tips",type:"tip",children:(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"This driver needs to have a 4-pin FPC installed to be usable."}),"\n",(0,t.jsxs)(n.li,{children:["The original ",(0,t.jsx)(n.code,{children:"endstop_pin:"})," needs to be disabled or deleted, and ",(0,t.jsx)(n.code,{children:"endstop_pin: tmc5160_stepper_x:virtual_endstop"})," should be added."]}),"\n",(0,t.jsxs)(n.li,{children:["After configuring ",(0,t.jsx)(n.code,{children:"diag0_pin:"}),", the limit status should be untriggered."]}),"\n",(0,t.jsxs)(n.li,{children:["The value for ",(0,t.jsx)(n.code,{children:"driver_SGT:"})," needs to be tested and set appropriately."]}),"\n"]})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Reference Configuration"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cfg",children:'[stepper_x]\n# endstop_pin:PF3\nendstop_pin: tmc5160_stepper_x:virtual_endstop\nhoming_retract_dist: 0        # Retract distance should not be changed to 0 as it may cause homing failure\n\n[tmc5160 stepper_x]\ndiag0_pin: ^!\ndriver_SGT: 1\n\n#   Ensure that the limit status is untriggered after configuration.\n#   This pin usually uses the "^" prefix to enable internal pull-up.\n#   Sensitivity is related to belt tension and needs to be adjusted accordingly.\n#  (Ensure that `driver_SGTHRS` is set to an appropriate sensitivity.)\n'})})]})}function u(e={}){let{wrapper:n}={...(0,o.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(p,{...e})}):p(e)}},34171:function(e,n,i){i.d(n,{Z:function(){return r}});let r=i.p+"assets/images/5160pro-fan-c93a42b5258ea6e2a831626bd46dc9bb.webp"},700:function(e,n,i){i.d(n,{Z:function(){return r}});let r=i.p+"assets/images/5160pro-7d10e297511488f746345cc6de2a0794.webp"},12142:function(e,n,i){i.d(n,{Z:function(){return r}});let r=i.p+"assets/images/jumper-b7f0cad58ee1720512eaebc40deee431.webp"},13288:function(e,n,i){i.d(n,{Z:function(){return r}});let r=i.p+"assets/images/line-d8ed13b5977b20667eedfef3648e9e15.webp"},79938:function(e,n,i){i.d(n,{Z:function(){return l},a:function(){return s}});var r=i(75271);let t={},o=r.createContext(t);function s(e){let n=r.useContext(o);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:s(e.components),r.createElement(o.Provider,{value:n},e.children)}}}]);