"use strict";(self.webpackChunkklipper_docs=self.webpackChunkklipper_docs||[]).push([["84489"],{56615:function(e,t,n){n.r(t),n.d(t,{metadata:()=>i,contentTitle:()=>o,default:()=>u,assets:()=>d,toc:()=>a,frontMatter:()=>s});var i=JSON.parse('{"id":"ProductDoc/ExtensionBoard/fly-kppm/index","title":"Product Introduction","description":"FLY-KPPM installation shutdown module is designed specifically for development boards such as Raspberry Pi to ensure data security. When a power outage occurs, it automatically switches to capacitor power to ensure stable operation of the development board for 15 seconds, safeguarding data integrity. Compact and easy to install.","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/ProductDoc/ExtensionBoard/fly-kppm/index.mdx","sourceDirName":"ProductDoc/ExtensionBoard/fly-kppm","slug":"/ProductDoc/ExtensionBoard/fly-kppm/","permalink":"/fly-docs-next/en/docs/ProductDoc/ExtensionBoard/fly-kppm/","draft":false,"unlisted":false,"editUrl":"https://github.com/kluoyun/fly-docs-next/tree/master/docs/ProductDoc/ExtensionBoard/fly-kppm/index.mdx","tags":[],"version":"current","lastUpdatedBy":"Xiaok","lastUpdatedAt":1732265789000,"sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"FLY-KPPM-\u5B89\u5168\u5173\u673A\u6A21\u5757","permalink":"/fly-docs-next/en/docs/category/fly-kppm-\u5B89\u5168\u5173\u673A\u6A21\u5757"},"next":{"title":"Power Failure Resume for Klipper","permalink":"/fly-docs-next/en/docs/ProductDoc/ExtensionBoard/fly-kppm/power_resume"}}'),l=n("52676"),r=n("79938");let s={sidebar_position:1},o="Product Introduction",d={},a=[{value:"Product Precautions",id:"product-precautions",level:2},{value:"Explanation of Display Content on the Product Screen",id:"explanation-of-display-content-on-the-product-screen",level:2},{value:"Download Fixed Housing Model",id:"download-fixed-housing-model",level:2},{value:"Pinout Description",id:"pinout-description",level:2},{value:"FLY Main Unit Usage Tutorial",id:"fly-main-unit-usage-tutorial",level:2},{value:"FLY Main Unit Wiring Tutorial",id:"fly-main-unit-wiring-tutorial",level:3},{value:"Raspberry Pi Main Unit Usage Tutorial",id:"raspberry-pi-main-unit-usage-tutorial",level:2}];function c(e){let t={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.a)(),...e.components},{ImageView:i,TabItem:s,Tabs:o}=t;return!i&&h("ImageView",!0),!s&&h("TabItem",!0),!o&&h("Tabs",!0),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(t.header,{children:(0,l.jsx)(t.h1,{id:"product-introduction",children:"Product Introduction"})}),"\n",(0,l.jsx)(t.p,{children:"FLY-KPPM installation shutdown module is designed specifically for development boards such as Raspberry Pi to ensure data security. When a power outage occurs, it automatically switches to capacitor power to ensure stable operation of the development board for 15 seconds, safeguarding data integrity. Compact and easy to install."}),"\n",(0,l.jsx)(i,{image:n(47905).Z,size:"100%",align:"left"}),"\n",(0,l.jsx)(t.h2,{id:"product-precautions",children:"Product Precautions"}),"\n",(0,l.jsx)(t.admonition,{title:"Note",type:"danger",children:(0,l.jsx)(t.p,{children:"The input power only supports DC12-24V. Ensure correct polarity when wiring, and perform wiring in a power-off state. We are not liable for any damage caused by incorrect wiring."})}),"\n",(0,l.jsx)(t.admonition,{title:"Note",type:"danger",children:(0,l.jsx)(t.p,{children:"The +5V at the 5V OUT socket is emergency power output and should not be used for regular power supply. Use USB-OUT or SIG/IO for powering the main unit."})}),"\n",(0,l.jsx)(t.admonition,{title:"Note",type:"danger",children:(0,l.jsx)(t.p,{children:"When using the safety shutdown module, a 12V-24V power supply must be used. To ensure normal operation of the module, the internal 5V output voltage of the safety shutdown module must not be lower than 4.9V, otherwise the safety shutdown module will draw additional power internally, causing the capacitors to remain charged and leading to continuous heating of the module."})}),"\n",(0,l.jsx)(t.h2,{id:"explanation-of-display-content-on-the-product-screen",children:"Explanation of Display Content on the Product Screen"}),"\n",(0,l.jsxs)(t.table,{children:[(0,l.jsx)(t.thead,{children:(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.th,{style:{textAlign:"left"},children:"Screen Content Description"}),(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Left Side Explanation"}),(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Right Side Parameter"}),(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Right Side Explanation"})]})}),(0,l.jsxs)(t.tbody,{children:[(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"IN:"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Input Voltage"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"OUT:"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Output Voltage"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"CA:"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Total Capacitor Voltage"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"OI:"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Output Load Current"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"C1:"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"C1 Capacitor Voltage"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"C2:"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"C2 Capacitor Voltage"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"Temp:"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Temperature of the Safety Shutdown Module"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.code,{children:"E:"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Status Prompt, see below"})]})]})]}),"\n",(0,l.jsxs)(t.table,{children:[(0,l.jsx)(t.thead,{children:(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.th,{style:{textAlign:"left"},children:"Display Content"}),(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Status Description"})]})}),(0,l.jsxs)(t.tbody,{children:[(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"Ready!"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Normal Startup"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"IN LOW!"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Low Input Voltage"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"IN OVR!"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Overcurrent Output"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"OV LOE!"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Low Output Voltage"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"OV OVR"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Overcurrent Output"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"TP OVR!"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"High Temperature"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"NONE"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"Unknown Error"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"R: XX Sec"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"If power is interrupted within 10 seconds before re-powering, this prompt will show. After countdown ends, restart the main unit"})]})]})]}),"\n",(0,l.jsx)(t.h2,{id:"download-fixed-housing-model",children:"Download Fixed Housing Model"}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-bash",children:"https://cdn.mellow.klipper.cn/STEP/KPPM.zip\n"})}),"\n",(0,l.jsx)(t.h2,{id:"pinout-description",children:"Pinout Description"}),"\n",(0,l.jsxs)(t.ul,{children:["\n",(0,l.jsxs)(t.li,{children:["\n",(0,l.jsx)(t.p,{children:"OUT-RST Reset"}),"\n"]}),"\n",(0,l.jsxs)(t.li,{children:["\n",(0,l.jsx)(t.p,{children:"OUT-PDN Power Down"}),"\n"]}),"\n",(0,l.jsxs)(t.li,{children:["\n",(0,l.jsx)(t.p,{children:"IN-PIN"}),"\n",(0,l.jsx)(t.p,{children:"Pull-up by default. The module will automatically detect the last power failure time upon power-up. If the power failure duration is less than 10 seconds, it will wait until 10 seconds after power-down to switch the 5V output once (ensuring the main unit completes shutdown and can be restarted). Connecting to GND will disable the automatic detection of power failure duration."}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(i,{image:n(49562).Z,size:"100%",align:"left"}),"\n",(0,l.jsx)(t.h2,{id:"fly-main-unit-usage-tutorial",children:"FLY Main Unit Usage Tutorial"}),"\n",(0,l.jsx)(t.admonition,{type:"info",children:(0,l.jsx)(t.p,{children:"Applicable only to FLY-Pi, FLY-Pi-V2, FLY-C8"})}),"\n",(0,l.jsx)(t.p,{children:"To use the FLY main unit, execute the following commands via SSH:"}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-bash",children:"sudo curl -kfSL --progress-bar https://cdn.mellow.klipper.cn/firmware/sun50i-h5-power-key.dtbo -o /boot/dtb/allwinner/overlay/sun50i-h5-power-key.dtbo\nsudo grep -q \"^overlays=.*power-key\" /boot/FlyOS-Env.txt || sudo sed -i '/^overlays=/ s/$/ power-key/' /boot/FlyOS-Env.txt\n"})}),"\n",(0,l.jsx)(t.p,{children:"Reboot the system:"}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-bash",children:"sudo reboot\n"})}),"\n",(0,l.jsx)(t.h3,{id:"fly-main-unit-wiring-tutorial",children:"FLY Main Unit Wiring Tutorial"}),"\n",(0,l.jsx)(o,{children:(0,l.jsx)(s,{value:"serial",label:"FLY Main Unit Wiring Tutorial",default:!0,children:(0,l.jsxs)(o,{children:[(0,l.jsxs)(s,{value:"1",label:"FLY-C8 Using 5V Wiring",default:!0,children:[(0,l.jsxs)(t.ul,{children:["\n",(0,l.jsx)(t.li,{children:"FLY-C8 Using 5V Wiring"}),"\n"]}),(0,l.jsx)(i,{image:n(12523).Z,size:"80%",align:"center"})]}),(0,l.jsxs)(s,{value:"2",label:"FLY-C8 Using USB Wiring",default:!0,children:[(0,l.jsxs)(t.ul,{children:["\n",(0,l.jsx)(t.li,{children:"FLY-C8 Using USB Wiring"}),"\n"]}),(0,l.jsx)(i,{image:n(94839).Z,size:"80%",align:"center"})]}),(0,l.jsxs)(s,{value:"3",label:"FLY-Pi(\u03C0) Using 5V Wiring",default:!0,children:[(0,l.jsxs)(t.ul,{children:["\n",(0,l.jsx)(t.li,{children:"FLY-Pi Using 5V Wiring"}),"\n"]}),(0,l.jsx)(i,{image:n(53913).Z,size:"80%",align:"center"})]}),(0,l.jsxs)(s,{value:"4",label:"FLY-Pi(\u03C0) Using USB Wiring",default:!0,children:[(0,l.jsxs)(t.ul,{children:["\n",(0,l.jsx)(t.li,{children:"FLY-Pi Using USB Wiring"}),"\n"]}),(0,l.jsx)(i,{image:n(76005).Z,size:"80%",align:"center"})]}),(0,l.jsxs)(s,{value:"5",label:"FLY-Pi-V2 Using 5V Wiring",default:!0,children:[(0,l.jsxs)(t.ul,{children:["\n",(0,l.jsx)(t.li,{children:"FLY-Pi-V2 Using 5V Wiring"}),"\n"]}),(0,l.jsx)(i,{image:n(90557).Z,size:"80%",align:"center"})]}),(0,l.jsxs)(s,{value:"6",label:"FLY-Pi-V2 Using USB Wiring",default:!0,children:[(0,l.jsxs)(t.ul,{children:["\n",(0,l.jsx)(t.li,{children:"FLY-Pi-V2 Using USB Wiring"}),"\n"]}),(0,l.jsx)(i,{image:n(10245).Z,size:"80%",align:"center"})]})]})})}),"\n",(0,l.jsx)(t.h2,{id:"raspberry-pi-main-unit-usage-tutorial",children:"Raspberry Pi Main Unit Usage Tutorial"}),"\n",(0,l.jsxs)(t.p,{children:["Similar to the above steps, for Raspberry Pi, insert the system image SD card into your computer, add the command ",(0,l.jsx)(t.code,{children:"dtoverlay=gpio-shutdown,gpio_pin=21"})," to the config.txt file, then save and exit."]}),"\n",(0,l.jsx)(i,{image:n(58629).Z,size:"80%",align:"left"}),"\n",(0,l.jsx)(o,{children:(0,l.jsx)(s,{value:"serial",label:"Raspberry Pi Main Unit Wiring Tutorial",default:!0,children:(0,l.jsxs)(o,{children:[(0,l.jsxs)(s,{value:"1",label:"Raspberry Pi Using 5V Wiring",default:!0,children:[(0,l.jsxs)(t.ul,{children:["\n",(0,l.jsx)(t.li,{children:"Raspberry Pi Using 5V Wiring"}),"\n"]}),(0,l.jsx)(i,{image:n(28038).Z,size:"80%",align:"center"})]}),(0,l.jsxs)(s,{value:"2",label:"Raspberry Pi Using USB Wiring",default:!0,children:[(0,l.jsxs)(t.ul,{children:["\n",(0,l.jsx)(t.li,{children:"Raspberry Pi Using USB Wiring"}),"\n"]}),(0,l.jsx)(i,{image:n(99427).Z,size:"80%",align:"center"})]})]})})})]})}function u(e={}){let{wrapper:t}={...(0,r.a)(),...e.components};return t?(0,l.jsx)(t,{...e,children:(0,l.jsx)(c,{...e})}):c(e)}function h(e,t){throw Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},12523:function(e,t,n){n.d(t,{Z:function(){return i}});let i=n.p+"assets/images/fly_c8_5v-1e3fcd88f65555d38f6306a0d4723121.webp"},94839:function(e,t,n){n.d(t,{Z:function(){return i}});let i=n.p+"assets/images/fly_c8_usb-2814a7b258dc08a3319ed333f300499d.webp"},53913:function(e,t,n){n.d(t,{Z:function(){return i}});let i=n.p+"assets/images/fly_pi_5v-ebdcfb5be8a5ac70ef3c15eee51f1cba.webp"},76005:function(e,t,n){n.d(t,{Z:function(){return i}});let i=n.p+"assets/images/fly_pi_usb-65d3403309341573a5db67965b1bdff2.webp"},90557:function(e,t,n){n.d(t,{Z:function(){return i}});let i=n.p+"assets/images/fly_pi_v2_5v-a47872f6bf0c457489612d37e746bf86.webp"},10245:function(e,t,n){n.d(t,{Z:function(){return i}});let i=n.p+"assets/images/fly_pi_v2_usb-192fcc316fbb61fc4eb96ba5e51d2e49.webp"},47905:function(e,t,n){n.d(t,{Z:function(){return i}});let i=n.p+"assets/images/kppm-4188d010226e4d9e4b9b6c79a6f234ee.webp"},28038:function(e,t,n){n.d(t,{Z:function(){return i}});let i=n.p+"assets/images/pi_5v-52c37d9f4902ed20e592aa3cfeb5a7ca.webp"},99427:function(e,t,n){n.d(t,{Z:function(){return i}});let i=n.p+"assets/images/pi_usb-e6efe3a9b052b517bc971df7a07e4a1c.webp"},49562:function(e,t,n){n.d(t,{Z:function(){return i}});let i=n.p+"assets/images/pins-50c25a6ff1457a8d1acea339c1b159e5.webp"},58629:function(e,t,n){n.d(t,{Z:function(){return i}});let i=n.p+"assets/images/rpi-config-0d33a20e85aaf435c6d5f0e211c44ea0.webp"},79938:function(e,t,n){n.d(t,{Z:function(){return o},a:function(){return s}});var i=n(75271);let l={},r=i.createContext(l);function s(e){let t=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:s(e.components),i.createElement(r.Provider,{value:t},e.children)}}}]);