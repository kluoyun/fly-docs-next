<!doctype html><html lang=en dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-ProductDoc/MainBoard/fly-gemini/fly-gemini-v3/cfg" data-has-hydrated=false><meta charset=UTF-8><meta name=generator content="Docusaurus v3.6.3"><title data-rh=true>klipper参考配置 | FLY Docs</title><meta data-rh=true name=viewport content="width=device-width,initial-scale=1.0"><meta data-rh=true name=twitter:card content=summary_large_image><meta data-rh=true property=og:image content=https://mellow.klipper.cn/fly-docs-next/en/img/docusaurus-social-card.jpg><meta data-rh=true name=twitter:image content=https://mellow.klipper.cn/fly-docs-next/en/img/docusaurus-social-card.jpg><meta data-rh=true property=og:url content=https://mellow.klipper.cn/fly-docs-next/en/docs/ProductDoc/MainBoard/fly-gemini/fly-gemini-v3/cfg><meta data-rh=true property=og:locale content=en><meta data-rh=true property=og:locale:alternate content=zh_Hans><meta data-rh=true property=og:locale:alternate content=ja><meta data-rh=true property=og:locale:alternate content=fr><meta data-rh=true property=og:locale:alternate content=ru><meta data-rh=true property=og:locale:alternate content=ko><meta data-rh=true name=docusaurus_locale content=en><meta data-rh=true name=docsearch:language content=en><meta data-rh=true name=keywords content=fly,fly3d,mellow,3dmellow,klipper,rrf,3dprinter,fly-sb2040,fly-sht36><meta data-rh=true name=docusaurus_version content=current><meta data-rh=true name=docusaurus_tag content=docs-default-current><meta data-rh=true name=docsearch:version content=current><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-current><meta data-rh=true property=og:title content="klipper参考配置 | FLY Docs"><link data-rh=true rel=icon href=/fly-docs-next/en/img/favicon.ico><link data-rh=true rel=canonical href=https://mellow.klipper.cn/fly-docs-next/en/docs/ProductDoc/MainBoard/fly-gemini/fly-gemini-v3/cfg><link data-rh=true rel=alternate href=https://mellow.klipper.cn/fly-docs-next/docs/ProductDoc/MainBoard/fly-gemini/fly-gemini-v3/cfg hreflang=zh-Hans><link data-rh=true rel=alternate href=https://mellow.klipper.cn/fly-docs-next/en/docs/ProductDoc/MainBoard/fly-gemini/fly-gemini-v3/cfg hreflang=en><link data-rh=true rel=alternate href=https://mellow.klipper.cn/fly-docs-next/ja/docs/ProductDoc/MainBoard/fly-gemini/fly-gemini-v3/cfg hreflang=ja><link data-rh=true rel=alternate href=https://mellow.klipper.cn/fly-docs-next/fr/docs/ProductDoc/MainBoard/fly-gemini/fly-gemini-v3/cfg hreflang=fr><link data-rh=true rel=alternate href=https://mellow.klipper.cn/fly-docs-next/ru/docs/ProductDoc/MainBoard/fly-gemini/fly-gemini-v3/cfg hreflang=ru><link data-rh=true rel=alternate href=https://mellow.klipper.cn/fly-docs-next/ko/docs/ProductDoc/MainBoard/fly-gemini/fly-gemini-v3/cfg hreflang=ko><link data-rh=true rel=alternate href=https://mellow.klipper.cn/fly-docs-next/docs/ProductDoc/MainBoard/fly-gemini/fly-gemini-v3/cfg hreflang=x-default><link data-rh=true rel=preconnect href=https://LZ40BJW1SW-dsn.algolia.net crossorigin><link rel=alternate type=application/rss+xml href=/fly-docs-next/en/blog/rss.xml title="FLY Docs RSS Feed"><link rel=alternate type=application/atom+xml href=/fly-docs-next/en/blog/atom.xml title="FLY Docs Atom Feed"><link rel=search type=application/opensearchdescription+xml title="FLY Docs" href=/fly-docs-next/en/opensearch.xml><link rel=icon href=/fly-docs-next/en/img/logo.png><link rel=manifest href=/fly-docs-next/en/manifest.json><meta name=theme-color content="rgb(37, 194, 160)"><link rel=stylesheet href=/fly-docs-next/en/assets/css/styles.1afc42d8.css><script src=/fly-docs-next/en/assets/js/main.785faf4c.js defer></script><script src=/fly-docs-next/en/assets/js/runtime~main.b623e56a.js defer></script><body class=navigation-with-keyboard><script>!function(){var t,e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t=null!==e?e:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":(window.matchMedia("(prefers-color-scheme: light)").matches,"light"),document.documentElement.setAttribute("data-theme",t)}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id=__docusaurus><div role=region aria-label="Skip to main content"><a class=skipToContent_v6O0 href=#__docusaurus_skipToContent_fallback>Skip to main content</a></div><div class=announcementBar_kUWf role=banner><div class=announcementBarPlaceholder_w69Y></div><div class="content_CRVz announcementBarContent_W13K">⏰ <b>多语言由AI自动生成，请注意辨别。尤其是执行命令与配置</b> </div><button type=button aria-label=Close class="clean-btn close closeButton_ME4o announcementBarClose_oEzB"><svg viewBox="0 0 15 15" width=14 height=14><g stroke=currentColor stroke-width=3.1><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"/></g></svg></button></div><nav aria-label=Main class="navbar navbar--fixed-top"><div class=navbar__inner><div class=navbar__items><button aria-label="Toggle navigation bar" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/fly-docs-next/en/><div class=navbar__logo><img src=/fly-docs-next/en/img/logo.svg alt="FLY Logo" class="themedComponent__KzL themedComponent--light_j6Nx"><img src=/fly-docs-next/en/img/logo.svg alt="FLY Logo" class="themedComponent__KzL themedComponent--dark_Aoaz"></div><b class="navbar__title text--truncate">FLY docs</b></a><a aria-current=page class="navbar__item navbar__link navbar__link--active" href=/fly-docs-next/en/docs/intro>Product Doc</a><a class="navbar__item navbar__link" href=/fly-docs-next/en/docs/debug-doc>Debug Docs</a><a class="navbar__item navbar__link" href=/fly-docs-next/en/docs/tools>Utilities</a><a class="navbar__item navbar__link" href=/fly-docs-next/en/blog>Blog</a><a class="navbar__item navbar__link" href=/fly-docs-next/en/docs/down>Download</a></div><div class="navbar__items navbar__items--right"><div class=navbarSearchContainer_FotQ><button type=button class="DocSearch DocSearch-Button" aria-label=Search><span class=DocSearch-Button-Container><svg width=20 height=20 class=DocSearch-Search-Icon viewBox="0 0 20 20" aria-hidden=true><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke=currentColor fill=none fill-rule=evenodd stroke-linecap=round stroke-linejoin=round /></svg><span class=DocSearch-Button-Placeholder>Search</span></span><span class=DocSearch-Button-Keys></span></button></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href=# aria-haspopup=true aria-expanded=false role=button class=navbar__link><svg viewBox="0 0 24 24" width=20 height=20 aria-hidden=true class=iconLanguage_w_V0><path fill=currentColor d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"/></svg>English</a><ul class=dropdown__menu><li><a href="/fly-docs-next/docs/ProductDoc/MainBoard/fly-gemini/fly-gemini-v3/cfg?persistLocale=true" rel="noopener noreferrer" class=dropdown__link lang=zh-Hans>简体中文</a><li><a href="/fly-docs-next/en/docs/ProductDoc/MainBoard/fly-gemini/fly-gemini-v3/cfg?persistLocale=true" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang=en>English</a><li><a href="/fly-docs-next/ja/docs/ProductDoc/MainBoard/fly-gemini/fly-gemini-v3/cfg?persistLocale=true" rel="noopener noreferrer" class=dropdown__link lang=ja>日本語</a><li><a href="/fly-docs-next/fr/docs/ProductDoc/MainBoard/fly-gemini/fly-gemini-v3/cfg?persistLocale=true" rel="noopener noreferrer" class=dropdown__link lang=fr>Français</a><li><a href="/fly-docs-next/ru/docs/ProductDoc/MainBoard/fly-gemini/fly-gemini-v3/cfg?persistLocale=true" rel="noopener noreferrer" class=dropdown__link lang=ru>Русский</a><li><a href="/fly-docs-next/ko/docs/ProductDoc/MainBoard/fly-gemini/fly-gemini-v3/cfg?persistLocale=true" rel="noopener noreferrer" class=dropdown__link lang=ko>한국어</a><li><hr style="margin: 0.3rem 0;"><li><a href=https://gitlocalize.com/repo/9688 target=_blank rel="noopener noreferrer" class=dropdown__link>Help Us Translate<svg width=12 height=12 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_YXFs><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a></ul></div><a href=https://github.com/Mellow-3D/klipper-docs target=_blank rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_MoGF colorModeToggle_sKci"><button class="clean-btn toggleButton_zBEz toggleButtonDisabled_LMC4" type=button disabled title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live=polite aria-pressed=false><svg viewBox="0 0 24 24" width=24 height=24 class=lightToggleIcon_z7G7><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 class=darkToggleIcon_oz4I><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg></button></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="main-wrapper mainWrapper_fyJT"><div class=docsWrapper_eZMy><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_LZRc" type=button></button><div class=docRoot_zIo8><aside class="theme-doc-sidebar-container docSidebarContainer_qDTe"><div class=sidebarViewport_dmrr><div class=sidebar_Qmp0><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_B6fV menuWithAnnouncementBar_Z2T2"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/fly-docs-next/en/docs/intro>🖐 Welcome to Mellow 🎉️</a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--active" href=/fly-docs-next/en/docs/category/主板类>Motherboard</a><button aria-label="Collapse sidebar category 'Motherboard'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/fly-docs-next/en/docs/category/fly-pro-系列主板>FLY-Pro series motherboards</a><button aria-label="Expand sidebar category 'FLY-Pro series motherboards'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/fly-docs-next/en/docs/category/fly-super-系列主板>FLY-Super series motherboards</a><button aria-label="Expand sidebar category 'FLY-Super series motherboards'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/fly-docs-next/en/docs/category/fly-c-系列主板>FLY-C Series Boards</a><button aria-label="Expand sidebar category 'FLY-C Series Boards'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/fly-docs-next/en/docs/category/fly-d-系列主板>FLY-D Series Boards</a><button aria-label="Expand sidebar category 'FLY-D Series Boards'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--active" tabindex=0 href=/fly-docs-next/en/docs/category/fly-gemini-系列主板>FLY-Gemini series motherboards</a><button aria-label="Collapse sidebar category 'FLY-Gemini series motherboards'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--active" tabindex=0 href=/fly-docs-next/en/docs/category/fly-gemini-v3>FLY-Gemini v3</a><button aria-label="Collapse sidebar category 'FLY-Gemini v3'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/fly-docs-next/en/docs/ProductDoc/MainBoard/fly-gemini/fly-gemini-v3/>Introduction</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/fly-docs-next/en/docs/ProductDoc/MainBoard/fly-gemini/fly-gemini-v3/fly-os>System Flashing</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/fly-docs-next/en/docs/ProductDoc/MainBoard/fly-gemini/fly-gemini-v3/wifi>Connect to WIFI</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/fly-docs-next/en/docs/ProductDoc/MainBoard/fly-gemini/fly-gemini-v3/ssh>SSH Connection to Host Machine</a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/fly-docs-next/en/docs/category/gemini-v3固件编译与烧录>Gemini V3 firmware compilation and flashing</a><button aria-label="Expand sidebar category 'Gemini V3 firmware compilation and flashing'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/fly-docs-next/en/docs/ProductDoc/MainBoard/fly-gemini/fly-gemini-v3/cfg>klipper参考配置</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/fly-docs-next/en/docs/ProductDoc/MainBoard/fly-gemini/fly-gemini-v3/wiring>Main Board Wiring</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/fly-docs-next/en/docs/ProductDoc/MainBoard/fly-gemini/fly-gemini-v3/canbridge>CAN Bridge</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/fly-docs-next/en/docs/ProductDoc/MainBoard/fly-gemini/fly-gemini-v3/screen>Screen Wiring and Configuration</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/fly-docs-next/en/docs/ProductDoc/MainBoard/fly-gemini/fly-gemini-v3/fan>Main Control Fan</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/fly-docs-next/en/docs/ProductDoc/MainBoard/fly-gemini/fly-gemini-v3/schematic>3D Model and Schematic</a></ul></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/fly-docs-next/en/docs/category/fly-micro-系列主板>FLY-Micro series motherboards</a><button aria-label="Expand sidebar category 'FLY-Micro series motherboards'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/fly-docs-next/en/docs/category/fly-e3-系列主板>FLY-E3 Series Boards</a><button aria-label="Expand sidebar category 'FLY-E3 Series Boards'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/fly-docs-next/en/docs/category/fly-cdy-系列主板>FLY-CDY Series Boards</a><button aria-label="Expand sidebar category 'FLY-CDY Series Boards'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/fly-docs-next/en/docs/category/fly-9轴>FLY-9 axis</a><button aria-label="Expand sidebar category 'FLY-9 axis'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/fly-docs-next/en/docs/category/fly-rpfmex>FLY-Rpfmex</a><button aria-label="Expand sidebar category 'FLY-Rpfmex'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/fly-docs-next/en/docs/category/工具板类>Tool Board</a><button aria-label="Expand sidebar category 'Tool Board'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/fly-docs-next/en/docs/category/上位机类>Host computer</a><button aria-label="Expand sidebar category 'Host computer'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/fly-docs-next/en/docs/category/显示屏类>Display screen</a><button aria-label="Expand sidebar category 'Display screen'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/fly-docs-next/en/docs/category/fly-驱动系列>FLY-Drive series</a><button aria-label="Expand sidebar category 'FLY-Drive series'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/fly-docs-next/en/docs/category/模块--扩展板类>Modules & Expansion Board Classes</a><button aria-label="Expand sidebar category 'Modules & Expansion Board Classes'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div></ul></nav><button type=button title="Collapse the sidebar" aria-label="Collapse the sidebar" class="button button--secondary button--outline collapseSidebarButton_draf"><svg width=20 height=20 aria-hidden=true class=collapseSidebarButtonIcon_wg2c><g fill=#7a7a7a><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"/><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"/></g></svg></button></div></div></aside><main class=docMainContainer_Mvfr><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_FbbE"><div class=docItemContainer_KXpV><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_TxBv" aria-label=Breadcrumbs><ul class=breadcrumbs itemscope itemtype=https://schema.org/BreadcrumbList><li class=breadcrumbs__item><a aria-label="Home page" class=breadcrumbs__link href=/fly-docs-next/en/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_dn8U><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class=breadcrumbs__item><a class=breadcrumbs__link itemprop=item href=/fly-docs-next/en/docs/category/主板类><span itemprop=name>Motherboard</span></a><meta itemprop=position content=1><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class=breadcrumbs__item><a class=breadcrumbs__link itemprop=item href=/fly-docs-next/en/docs/category/fly-gemini-系列主板><span itemprop=name>FLY-Gemini series motherboards</span></a><meta itemprop=position content=2><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class=breadcrumbs__item><a class=breadcrumbs__link itemprop=item href=/fly-docs-next/en/docs/category/fly-gemini-v3><span itemprop=name>FLY-Gemini v3</span></a><meta itemprop=position content=3><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link itemprop=name>klipper参考配置</span><meta itemprop=position content=4></ul></nav><div class="theme-doc-markdown markdown"><header><h1>klipper参考配置</h1></header>
<div class="language-cfg codeBlockContainer_SLDg theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class=codeBlockContent_zn0S><pre tabindex=0 class="prism-code language-cfg codeBlock_wfcL thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class=codeBlockLines_CKAc><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">####################################################################################</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">#                         3D MELLOW / FLY_GEMINI                                   #</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">####################################################################################</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">## FLY_GEMINI资料网址：http://mellow.klipper.cn/#/board/fly_gemini_</span><span class="token pin">v3</span><span class="token plain">/README</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">## FLY_GEMINI原理图网址：https://github.com/Mellow-3D/Fly-Gemini-</span><span class="token pin">V3</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">## FLY 官方淘宝店：https://sh</span><span class="token pin">op12</span><span class="token number" style="color:hsl(35, 99%, 36%)">6791347</span><span class="token plain">.taobao.com/shop/view_shop.htm?spm=</span><span class="token pin">a23</span><span class="token plain">0r</span><span class="token number" style="color:hsl(35, 99%, 36%)">.1</span><span class="token number" style="color:hsl(35, 99%, 36%)">.14</span><span class="token number" style="color:hsl(35, 99%, 36%)">.4</span><span class="token plain">.1</span><span class="token pin">a48</span><span class="token plain">40</span><span class="token pin">a8</span><span class="token plain">hyvpPJ&user_number_id=</span><span class="token number" style="color:hsl(35, 99%, 36%)">2464680006</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">## 如需售后，请联系淘宝客服</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">## FLY 售后技术支持群：</span><span class="token number" style="color:hsl(35, 99%, 36%)">621032883</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">## FLY-RRF固件交流群：</span><span class="token number" style="color:hsl(35, 99%, 36%)">786561979</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">#####################################################################</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">#                               注意事项                              #</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">#####################################################################</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">##***需要更改/检查的事项：***</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">## </span><span class="token known_config_block_name">MCU</span><span class="token plain"> 路径                                [</span><span class="token known_config_block_name">mcu</span><span class="token plain">] </span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">## 打印机活动范围                           xyz的position   </span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">## 热敏电阻类型                                [</span><span class="token known_config_block_name">extruder</span><span class="token plain">] 和 [</span><span class="token known_config_block_name">heater_bed</span><span class="token plain">]</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">## </span><span class="token property" style="color:hsl(5, 74%, 59%)">Z</span><span class="token plain">轴限位开关停止位置                      [</span><span class="token known_config_block_name">safe_z_home</span><span class="token plain">] </span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">## </span><span class="token property" style="color:hsl(5, 74%, 59%)">Z</span><span class="token plain">轴限位开关偏移位置                      [</span><span class="token known_config_block_name">stepper_z</span><span class="token plain">] </span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">## </span><span class="token known_control_type">PID</span><span class="token plain"> 校准                                    [</span><span class="token known_config_block_name">extruder</span><span class="token plain">] 和 [</span><span class="token known_config_block_name">heater_bed</span><span class="token plain">] </span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">## 微调挤出机电机步进值                     [</span><span class="token known_config_block_name">extruder</span><span class="token plain">] </span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">#####################################################################</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">#                               文件调用                              #</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">#####################################################################</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">#[</span><span class="token known_config_block_name">include</span><span class="token plain"> fluidd.cfg]          # FLUIDD调用文件。</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">#[</span><span class="token known_config_block_name">include</span><span class="token plain"> mainsail.cfg]        # MAINSDIL调用文件。</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">#需要自行确定使用哪个文件</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">#####################################################################</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">#                               主板配置                               #</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">#####################################################################</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">[mcu]</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">serial</span><span class="token config_line value">: /dev/ttyA</span><span class="token pin">CM0</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">#canbus_uuid: </span><span class="token pin">e51</span><span class="token pin">d5</span><span class="token pin">c71</span><span class="token pin">a90</span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">### 查询can固件id是：~/klippy-env/bin/python ~/klipper/scripts/canbus_query.py c</span><span class="token pin">an0</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">### can的id需要把serial替换成canbus_uuid: 后面添加id </span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">#####################################################################</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">#                            机型和加速度                            #</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">#####################################################################</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">[printer]</span><span class="token plain">                       # 打印机设置</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">kinematics</span><span class="token config_line value">: corexy              </span><span class="token config_line value comment" style="color:hsl(230, 4%, 64%)"># 运动学结构分为：笛卡尔和corexy等等。笛卡尔：cartesian</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">max_velocity</span><span class="token config_line value">: </span><span class="token number" style="color:hsl(35, 99%, 36%)">200</span><span class="token plain">               # 打印机最大速度   </span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">max_accel</span><span class="token config_line value">: </span><span class="token number" style="color:hsl(35, 99%, 36%)">2000</span><span class="token plain">                 # 最大加速度 最大</span><span class="token number" style="color:hsl(35, 99%, 36%)">3000</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">max_z_velocity</span><span class="token config_line value">: </span><span class="token number" style="color:hsl(35, 99%, 36%)">15</span><span class="token plain">              # z轴最大速度</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">max_z_accel</span><span class="token config_line value">: </span><span class="token number" style="color:hsl(35, 99%, 36%)">300</span><span class="token plain">                # z轴最大加速度</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">square_corner_velocity</span><span class="token config_line value">: </span><span class="token number" style="color:hsl(35, 99%, 36%)">6.0</span><span class="token plain">     # 方形拐角速度，小一点可以有效避免平台重带来的惯性</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">#####################################################################</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">#                             温度监控                               #</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">#####################################################################</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">[temperature_sensor FLY MCU]</span><span class="token plain">      # FLY主板温度</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">sensor_type</span><span class="token config_line value">: temperature_mcu      </span><span class="token config_line value comment" style="color:hsl(230, 4%, 64%)"># 关联</span><span class="token known_config_block_name">mcu</span><span class="token plain">（默认）</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">#--------------------------------------------------------------------</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">[temperature_sensor FLY-π]</span><span class="token plain">        # 上位机温度</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">sensor_type</span><span class="token config_line value">: temperature_host     </span><span class="token config_line value comment" style="color:hsl(230, 4%, 64%)"># 关联上位机</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">#####################################################################</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">#             </span><span class="token property" style="color:hsl(5, 74%, 59%)">X</span><span class="token plain">/</span><span class="token property" style="color:hsl(5, 74%, 59%)">Y</span><span class="token plain">步进电机设置 </span><span class="token comment" style="color:hsl(230, 4%, 64%)">(X/Y Stepper Settings)</span><span class="token plain">                 # </span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">#####################################################################</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">#   </span><span class="token property" style="color:hsl(5, 74%, 59%)">B</span><span class="token plain"> Motor ---- Motor </span><span class="token property" style="color:hsl(5, 74%, 59%)">A</span><span class="token plain"> </span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">#   |                  |</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">#   |------挤出机-------|</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">#   |                  |</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">#   |                  |</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">#          正前方   </span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">#####################################################################</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">#                  </span><span class="token property" style="color:hsl(5, 74%, 59%)">X</span><span class="token plain"> 轴步进电机     </span><span class="token property" style="color:hsl(5, 74%, 59%)">X</span><span class="token plain">电机位 </span><span class="token comment" style="color:hsl(230, 4%, 64%)">(B Motor)</span><span class="token plain">                 #</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">#####################################################################</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">#注：接完线需测试运行方向,deiv</span><span class="token pin">er0</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">[stepper_x]</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">step_pin</span><span class="token config_line value">: </span><span class="token number" style="color:hsl(35, 99%, 36%)">PC13</span><span class="token plain">                      # </span><span class="token property" style="color:hsl(5, 74%, 59%)">X</span><span class="token plain">轴电机脉冲引脚设置</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">dir_pin</span><span class="token config_line value">: </span><span class="token number" style="color:hsl(35, 99%, 36%)">PC1</span><span class="token plain">                        # </span><span class="token property" style="color:hsl(5, 74%, 59%)">X</span><span class="token plain">轴电机运行引脚设置,方向按实际判断，加感叹号会让运行方向反转</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">enable_pin</span><span class="token config_line value">: </span><span class="token number" style="color:hsl(35, 99%, 36%)">!PA3</span><span class="token plain">                    # </span><span class="token property" style="color:hsl(5, 74%, 59%)">X</span><span class="token plain">轴电机使能引脚设置,使能引脚需要加感叹号，否者电机不工作</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">rotation_distance</span><span class="token config_line value">: </span><span class="token number" style="color:hsl(35, 99%, 36%)">40</span><span class="token plain">               # 主动带轮周长mm（2GT-20T带轮</span><span class="token number" style="color:hsl(35, 99%, 36%)">40</span><span class="token plain">，2GT-16T带轮</span><span class="token number" style="color:hsl(35, 99%, 36%)">32</span><span class="token plain">）</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">microsteps</span><span class="token config_line value">: </span><span class="token number" style="color:hsl(35, 99%, 36%)">16</span><span class="token plain">                      # 电机细分设置，细分越高，质量越高，但主控负荷越大</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">full_steps_per_rotation</span><span class="token config_line value">: </span><span class="token number" style="color:hsl(35, 99%, 36%)">200</span><span class="token plain">        # 电机单圈所需脉冲数（</span><span class="token number" style="color:hsl(35, 99%, 36%)">1.8</span><span class="token plain">度电机:</span><span class="token number" style="color:hsl(35, 99%, 36%)">200</span><span class="token plain">，</span><span class="token number" style="color:hsl(35, 99%, 36%)">0.9</span><span class="token plain">度电机:</span><span class="token number" style="color:hsl(35, 99%, 36%)">400</span><span class="token plain">）</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">endstop_pin</span><span class="token config_line value">: </span><span class="token number" style="color:hsl(35, 99%, 36%)">!PA4</span><span class="token plain">                   # 限位开关PIN脚,建议常闭接常闭</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">#endstop_pin: t</span><span class="token pin">mc22</span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">09_stepper_x</span><span class="token config_line value">:virtual_endstop  </span><span class="token config_line value comment" style="color:hsl(230, 4%, 64%)">#无限位</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">###接常闭后是触发状态，加感叹号可以反转这个状态，万一断线时候可以避免撞机</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">position_endstop</span><span class="token config_line value">: </span><span class="token number" style="color:hsl(35, 99%, 36%)">120</span><span class="token plain">               # 软限位最大行程 </span><span class="token comment" style="color:hsl(230, 4%, 64%)">(250mm-300mm-350mm)</span><span class="token plain">（vor</span><span class="token pin">on0.1</span><span class="token plain">是</span><span class="token number" style="color:hsl(35, 99%, 36%)">120</span><span class="token plain">）</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">position_max</span><span class="token config_line value">: </span><span class="token number" style="color:hsl(35, 99%, 36%)">120</span><span class="token plain">                   # 机械限位最大行程 </span><span class="token comment" style="color:hsl(230, 4%, 64%)">(250mm-300mm-350mm)</span><span class="token plain">（vor</span><span class="token pin">on0.1</span><span class="token plain">是</span><span class="token number" style="color:hsl(35, 99%, 36%)">120</span><span class="token plain">）</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">homing_speed</span><span class="token config_line value">: </span><span class="token number" style="color:hsl(35, 99%, 36%)">50</span><span class="token plain">                    # 复位速度，最大为</span><span class="token number" style="color:hsl(35, 99%, 36%)">100</span><span class="token plain">.归位速度建议别太快</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">homing_retract_dist</span><span class="token config_line value">: </span><span class="token number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain">              # 第一次触发复位开关之后的后退距离</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">homing_positive_dir</span><span class="token config_line value">: </span><span class="token boolean" style="color:hsl(35, 99%, 36%)">true</span><span class="token plain">           # 复位方向（一般不需要改动）</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">step_pulse_duration</span><span class="token config_line value">: </span><span class="token number" style="color:hsl(35, 99%, 36%)">0.000004</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">#--------------------------------------------------------------------</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">##  请确保驱动型号配置正确 </span><span class="token comment" style="color:hsl(230, 4%, 64%)">(2208 or 2209)</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">[tmc2209 stepper_x]</span><span class="token plain">                 # </span><span class="token property" style="color:hsl(5, 74%, 59%)">X</span><span class="token plain"> 驱动配置 -</span><span class="token known_driver_type">TMC2209</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">uart_pin</span><span class="token config_line value">: </span><span class="token number" style="color:hsl(35, 99%, 36%)">PB11</span><span class="token plain">                      # 通讯端口Pin脚定义</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">interpolate</span><span class="token config_line value">: </span><span class="token boolean" style="color:hsl(35, 99%, 36%)">False</span><span class="token plain">                  # 是否开启</span><span class="token number" style="color:hsl(35, 99%, 36%)">256</span><span class="token plain">微步插值（开启是</span><span class="token boolean" style="color:hsl(35, 99%, 36%)">True</span><span class="token plain">，关闭是</span><span class="token boolean" style="color:hsl(35, 99%, 36%)">False</span><span class="token plain">）</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">run_current</span><span class="token config_line value">: </span><span class="token number" style="color:hsl(35, 99%, 36%)">0.8</span><span class="token plain">                    # 电机运行电流值（单位：mA）</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">sense_resistor</span><span class="token config_line value">: </span><span class="token number" style="color:hsl(35, 99%, 36%)">0.110</span><span class="token plain">               # 驱动采样电阻不要改</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">stealthchop_threshold</span><span class="token config_line value">: </span><span class="token number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain">            # 静音阀值（如果不需要静音，请将数值改为</span><span class="token number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain">）</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">diag_pin</span><span class="token config_line value">: </span><span class="token number" style="color:hsl(35, 99%, 36%)">^PA4</span><span class="token plain">                      # If you have Mellows </span><span class="token number" style="color:hsl(35, 99%, 36%)">2209</span><span class="token plain"> drivers they have a small dip switch on the driver to enable sensorless homing, other wise no jumper is needed </span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">driver_SGTHRS</span><span class="token config_line value">: </span><span class="token number" style="color:hsl(35, 99%, 36%)">255</span><span class="token plain">                  # this is set to </span><span class="token number" style="color:hsl(35, 99%, 36%)">255</span><span class="token plain"> which is the MAX sensitivity for sensorless homing, you will need to tune this later</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">#--------------------------------------------------------------------</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">#[</span><span class="token known_driver_type">tmc5160</span><span class="token plain"> </span><span class="token known_config_block_name">stepper_x</span><span class="token plain">]                 # 挤出机驱动配置- </span><span class="token known_driver_type">TMC5160</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">#cs_pin: </span><span class="token number" style="color:hsl(35, 99%, 36%)">PB11</span><span class="token plain">                        # SPI 片选Pin脚定义</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">#spi_bus: s</span><span class="token pin">pi3</span><span class="token plain">                       # SPI 通讯总线定义</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">#run_current: </span><span class="token number" style="color:hsl(35, 99%, 36%)">1.0</span><span class="token plain">                    # 电机运行电流值</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">#interpolate: </span><span class="token boolean" style="color:hsl(35, 99%, 36%)">False</span><span class="token plain">                  # 是否开启</span><span class="token number" style="color:hsl(35, 99%, 36%)">256</span><span class="token plain">微步插值（开启是</span><span class="token boolean" style="color:hsl(35, 99%, 36%)">True</span><span class="token plain">，关闭是</span><span class="token boolean" style="color:hsl(35, 99%, 36%)">False</span><span class="token plain">）</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">#sense_resistor: </span><span class="token number" style="color:hsl(35, 99%, 36%)">0.075</span><span class="token plain">               # 驱动采样电阻不要改（如果使用</span><span class="token number" style="color:hsl(35, 99%, 36%)">5160</span><span class="token plain"> Pro，请将数值修改为</span><span class="token number" style="color:hsl(35, 99%, 36%)">0.033</span><span class="token plain">）</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">#stealthchop_threshold: </span><span class="token number" style="color:hsl(35, 99%, 36%)">500</span><span class="token plain">          # 静音阀值（如果不需要静音，请将数值改为</span><span class="token number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain">）</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">#####################################################################</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">#                  </span><span class="token property" style="color:hsl(5, 74%, 59%)">Y</span><span class="token plain"> 轴步进电机     </span><span class="token property" style="color:hsl(5, 74%, 59%)">Y</span><span class="token plain">电机位 </span><span class="token comment" style="color:hsl(230, 4%, 64%)">(A Motor)</span><span class="token plain">                 #</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">#####################################################################</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">#注：接完线需测试运行方向,deiv</span><span class="token pin">er1</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">[stepper_y]</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">step_pin</span><span class="token config_line value">: </span><span class="token number" style="color:hsl(35, 99%, 36%)">PC14</span><span class="token plain">                      # </span><span class="token property" style="color:hsl(5, 74%, 59%)">Y</span><span class="token plain">轴电机脉冲引脚设置</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">dir_pin</span><span class="token config_line value">: </span><span class="token number" style="color:hsl(35, 99%, 36%)">PC4</span><span class="token plain">                        # </span><span class="token property" style="color:hsl(5, 74%, 59%)">Y</span><span class="token plain">轴电机运行引脚设置,方向按实际判断x，加感叹号会让运行方向反转</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">enable_pin</span><span class="token config_line value">: </span><span class="token number" style="color:hsl(35, 99%, 36%)">!PD2</span><span class="token plain">                    # </span><span class="token property" style="color:hsl(5, 74%, 59%)">Y</span><span class="token plain">轴电机使能引脚设置,使能引脚需要加感叹号，否者电机不工作</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">rotation_distance</span><span class="token config_line value">: </span><span class="token number" style="color:hsl(35, 99%, 36%)">40</span><span class="token plain">               # 主动带轮周长mm（2GT-20T带轮</span><span class="token number" style="color:hsl(35, 99%, 36%)">40</span><span class="token plain">，2GT-16T带轮</span><span class="token number" style="color:hsl(35, 99%, 36%)">32</span><span class="token plain">）</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">microsteps</span><span class="token config_line value">: </span><span class="token number" style="color:hsl(35, 99%, 36%)">16</span><span class="token plain">                      # 电机细分设置，细分越高，质量越高，但主控负荷越大</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">full_steps_per_rotation</span><span class="token config_line value">: </span><span class="token number" style="color:hsl(35, 99%, 36%)">200</span><span class="token plain">        # 电机单圈所需脉冲数（</span><span class="token number" style="color:hsl(35, 99%, 36%)">1.8</span><span class="token plain">度电机:</span><span class="token number" style="color:hsl(35, 99%, 36%)">200</span><span class="token plain">，</span><span class="token number" style="color:hsl(35, 99%, 36%)">0.9</span><span class="token plain">度电机:</span><span class="token number" style="color:hsl(35, 99%, 36%)">400</span><span class="token plain">）</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">endstop_pin</span><span class="token config_line value">: </span><span class="token number" style="color:hsl(35, 99%, 36%)">!PA5</span><span class="token plain">                   # 限位开关PIN脚,建议常闭然后添加！反转状态</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">#endstop_pin: t</span><span class="token pin">mc22</span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">09_stepper_y</span><span class="token config_line value">:virtual_endstop  </span><span class="token config_line value comment" style="color:hsl(230, 4%, 64%)">#无限位</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">###接常闭后是触发状态，加感叹号可以反转这个状态，万一断线时候可以避免撞机</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">position_endstop</span><span class="token config_line value">: </span><span class="token number" style="color:hsl(35, 99%, 36%)">120</span><span class="token plain">               # 软限位最大行程 </span><span class="token comment" style="color:hsl(230, 4%, 64%)">(250mm-300mm-350mm)</span><span class="token plain">（vor</span><span class="token pin">on0.1</span><span class="token plain">是</span><span class="token number" style="color:hsl(35, 99%, 36%)">120</span><span class="token plain">）</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">position_max</span><span class="token config_line value">: </span><span class="token number" style="color:hsl(35, 99%, 36%)">120</span><span class="token plain">                   # 机械限位最大行程 </span><span class="token comment" style="color:hsl(230, 4%, 64%)">(250mm-300mm-350mm)</span><span class="token plain">（vor</span><span class="token pin">on0.1</span><span class="token plain">是</span><span class="token number" style="color:hsl(35, 99%, 36%)">120</span><span class="token plain">）</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">homing_speed</span><span class="token config_line value">: </span><span class="token number" style="color:hsl(35, 99%, 36%)">50</span><span class="token plain">                    # 复位速度，最大为</span><span class="token number" style="color:hsl(35, 99%, 36%)">100</span><span class="token plain">        归位速度建议别太快</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">homing_retract_dist</span><span class="token config_line value">: </span><span class="token number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain">              # 第一次触发复位开关之后的后退距离</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">homing_positive_dir</span><span class="token config_line value">: </span><span class="token boolean" style="color:hsl(35, 99%, 36%)">true</span><span class="token plain">           # 复位方向（一般不需要改动）</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">step_pulse_duration</span><span class="token config_line value">: </span><span class="token number" style="color:hsl(35, 99%, 36%)">0.000004</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">#--------------------------------------------------------------------</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">##  请确保驱动型号配置正确 </span><span class="token comment" style="color:hsl(230, 4%, 64%)">(2208 or 2209)</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">[tmc2209 stepper_y]</span><span class="token plain">                 # </span><span class="token property" style="color:hsl(5, 74%, 59%)">Y</span><span class="token plain">驱动配置 -</span><span class="token known_driver_type">TMC2209</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">uart_pin</span><span class="token config_line value">: </span><span class="token number" style="color:hsl(35, 99%, 36%)">PC10</span><span class="token plain">                      # 通讯端口Pin脚定义</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">interpolate</span><span class="token config_line value">: </span><span class="token boolean" style="color:hsl(35, 99%, 36%)">False</span><span class="token plain">                  # 是否开启</span><span class="token number" style="color:hsl(35, 99%, 36%)">256</span><span class="token plain">微步插值（开启是</span><span class="token boolean" style="color:hsl(35, 99%, 36%)">True</span><span class="token plain">，关闭是</span><span class="token boolean" style="color:hsl(35, 99%, 36%)">False</span><span class="token plain">）</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">run_current</span><span class="token config_line value">: </span><span class="token number" style="color:hsl(35, 99%, 36%)">0.8</span><span class="token plain">                    # 电机运行电流值（单位：mA）</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">sense_resistor</span><span class="token config_line value">: </span><span class="token number" style="color:hsl(35, 99%, 36%)">0.110</span><span class="token plain">               # 驱动采样电阻不要改</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">stealthchop_threshold</span><span class="token config_line value">: </span><span class="token number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain">            # 静音阀值（如果不需要静音，请将数值改为</span><span class="token number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain">）</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">diag_pin</span><span class="token config_line value">: </span><span class="token number" style="color:hsl(35, 99%, 36%)">^PA5</span><span class="token plain">                      # If you have Mellows </span><span class="token number" style="color:hsl(35, 99%, 36%)">2209</span><span class="token plain"> drivers they have a small dip switch on the driver to enable sensorless homing, other wise no jumper is needed</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">driver_SGTHRS</span><span class="token config_line value">: </span><span class="token number" style="color:hsl(35, 99%, 36%)">255</span><span class="token plain">                  # this is set to </span><span class="token number" style="color:hsl(35, 99%, 36%)">255</span><span class="token plain"> which is the MAX sensitivity for sensorless homing, you will need to tune this later</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">#--------------------------------------------------------------------</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">#[</span><span class="token known_driver_type">tmc5160</span><span class="token plain"> </span><span class="token known_config_block_name">stepper_y</span><span class="token plain">]                 # 挤出机驱动配置- </span><span class="token known_driver_type">TMC5160</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">#cs_pin: </span><span class="token number" style="color:hsl(35, 99%, 36%)">PC10</span><span class="token plain">                        # SPI 片选Pin脚定义</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">#spi_bus: s</span><span class="token pin">pi3</span><span class="token plain">                       # SPI 通讯总线定义</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">#run_current: </span><span class="token number" style="color:hsl(35, 99%, 36%)">1.0</span><span class="token plain">                    # 电机运行电流值</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">#interpolate: </span><span class="token boolean" style="color:hsl(35, 99%, 36%)">False</span><span class="token plain">                  # 是否开启</span><span class="token number" style="color:hsl(35, 99%, 36%)">256</span><span class="token plain">微步插值（开启是</span><span class="token boolean" style="color:hsl(35, 99%, 36%)">True</span><span class="token plain">，关闭是</span><span class="token boolean" style="color:hsl(35, 99%, 36%)">False</span><span class="token plain">）</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">#sense_resistor: </span><span class="token number" style="color:hsl(35, 99%, 36%)">0.075</span><span class="token plain">               # 驱动采样电阻不要改（如果使用</span><span class="token number" style="color:hsl(35, 99%, 36%)">5160</span><span class="token plain"> Pro，请将数值修改为</span><span class="token number" style="color:hsl(35, 99%, 36%)">0.033</span><span class="token plain">）</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">#stealthchop_threshold: </span><span class="token number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain">            # 静音阀值（如果不需要静音，请将数值改为</span><span class="token number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain">）</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">#####################################################################</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">#                           </span><span class="token property" style="color:hsl(5, 74%, 59%)">Z</span><span class="token plain">轴步进电机                              #</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">#####################################################################</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">#注：接完线需测试运行方向,deiv</span><span class="token pin">er2</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">[stepper_z]</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">step_pin</span><span class="token config_line value">: </span><span class="token number" style="color:hsl(35, 99%, 36%)">PC15</span><span class="token plain">                 # z轴电机脉冲引脚设置</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">dir_pin</span><span class="token config_line value">: </span><span class="token number" style="color:hsl(35, 99%, 36%)">!PC5</span><span class="token plain">                  # z轴电机方向引脚设置,方向引脚需要按实际判断，加感叹号会让运行方向反转</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">enable_pin</span><span class="token config_line value">: </span><span class="token number" style="color:hsl(35, 99%, 36%)">!PC12</span><span class="token plain">              # z轴电机使能引脚设置,使能引脚需要加感叹号，否者电机不工作</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">### </span><span class="token pin">T8</span><span class="token pin">x4</span><span class="token plain">丝杠。旋转一圈，热床床可移动</span><span class="token number" style="color:hsl(35, 99%, 36%)">4</span><span class="token plain">毫米 </span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">### 请根据购买的丝杆参数进行修改</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">rotation_distance</span><span class="token config_line value">: </span><span class="token number" style="color:hsl(35, 99%, 36%)">8</span><span class="token plain">          # 丝杆导程为 </span><span class="token number" style="color:hsl(35, 99%, 36%)">8</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">full_steps_per_rotation</span><span class="token config_line value">: </span><span class="token number" style="color:hsl(35, 99%, 36%)">200</span><span class="token plain">  # 电机单圈所需脉冲数（</span><span class="token number" style="color:hsl(35, 99%, 36%)">1.8</span><span class="token plain">度电机:</span><span class="token number" style="color:hsl(35, 99%, 36%)">200</span><span class="token plain">，</span><span class="token number" style="color:hsl(35, 99%, 36%)">0.9</span><span class="token plain">度电机:</span><span class="token number" style="color:hsl(35, 99%, 36%)">400</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">microsteps</span><span class="token config_line value">: </span><span class="token number" style="color:hsl(35, 99%, 36%)">16</span><span class="token plain">                # 电机细分设置,细分越高，质量越高，但主控负荷越大</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">endstop_pin</span><span class="token config_line value">: </span><span class="token number" style="color:hsl(35, 99%, 36%)">!PA6</span><span class="token plain">             # 限位开关PIN脚,建议常闭然后添加！反转状态</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">## position_endstop 是喷嘴相对于打印表面</span><span class="token comment" style="color:hsl(230, 4%, 64%)">(Z0)</span><span class="token plain">到</span><span class="token property" style="color:hsl(5, 74%, 59%)">Z</span><span class="token plain">限位停止触发点的位置</span><span class="token comment" style="color:hsl(230, 4%, 64%)">(单位:mm)</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">## 正数值 = 高于平台的终止点，负数值 = 低于平台的的终止点</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">## 增加position_ endstop的数值会使喷嘴更靠近床</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">## 在运行Z_ENDSTOP_CALIBRATE之后，position_endstop将存储在CFG配置的最后</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">position_min</span><span class="token config_line value">: </span><span class="token number" style="color:hsl(35, 99%, 36%)">-1.5</span><span class="token plain">            # 配置喷嘴清洁需要</span><span class="token number" style="color:hsl(35, 99%, 36%)">-5</span><span class="token plain">左右</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">position_endstop</span><span class="token config_line value">: </span><span class="token number" style="color:hsl(35, 99%, 36%)">120</span><span class="token plain">         # 软限位最大行程 </span><span class="token comment" style="color:hsl(230, 4%, 64%)">(250mm-300mm-350mm)</span><span class="token plain">（vor</span><span class="token pin">on0.1</span><span class="token plain">是</span><span class="token number" style="color:hsl(35, 99%, 36%)">120</span><span class="token plain">）</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">position_max</span><span class="token config_line value">: </span><span class="token number" style="color:hsl(35, 99%, 36%)">120</span><span class="token plain">             # 机械限位最大行程 </span><span class="token comment" style="color:hsl(230, 4%, 64%)">(250mm-300mm-350mm)</span><span class="token plain">（vor</span><span class="token pin">on0.1</span><span class="token plain">是</span><span class="token number" style="color:hsl(35, 99%, 36%)">120</span><span class="token plain">）</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">homing_speed</span><span class="token config_line value">: </span><span class="token number" style="color:hsl(35, 99%, 36%)">20</span><span class="token plain">              # 复位速度-最大 </span><span class="token number" style="color:hsl(35, 99%, 36%)">20</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">second_homing_speed</span><span class="token config_line value">: </span><span class="token number" style="color:hsl(35, 99%, 36%)">3</span><span class="token plain">        # 二次复位速度-最大 </span><span class="token number" style="color:hsl(35, 99%, 36%)">10</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">homing_retract_dist</span><span class="token config_line value">: </span><span class="token number" style="color:hsl(35, 99%, 36%)">3</span><span class="token plain">        # 后撤距离</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">step_pulse_duration</span><span class="token config_line value">: </span><span class="token number" style="color:hsl(35, 99%, 36%)">0.000004</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">#--------------------------------------------------------------------</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">[tmc2209 stepper_z]</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">uart_pin</span><span class="token config_line value">: </span><span class="token number" style="color:hsl(35, 99%, 36%)">PB7</span><span class="token plain">                 # 驱动通信端口</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">interpolate</span><span class="token config_line value">: </span><span class="token boolean" style="color:hsl(35, 99%, 36%)">false</span><span class="token plain">            # 微步插值</span><span class="token number" style="color:hsl(35, 99%, 36%)">256</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">run_current</span><span class="token config_line value">: </span><span class="token number" style="color:hsl(35, 99%, 36%)">0.8</span><span class="token plain">              # 运行电流mA</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">sense_resistor</span><span class="token config_line value">: </span><span class="token number" style="color:hsl(35, 99%, 36%)">0.110</span><span class="token plain">         # 驱动采样电阻不要改</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">stealthchop_threshold</span><span class="token config_line value">: </span><span class="token number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain">      # 静音阀值（如果不需要静音，请将数值改为</span><span class="token number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain">）</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">#--------------------------------------------------------------------</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">#[</span><span class="token known_driver_type">tmc5160</span><span class="token plain"> </span><span class="token known_config_block_name">stepper_z</span><span class="token plain">]            # 挤出机驱动配置- </span><span class="token known_driver_type">TMC5160</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">#cs_pin: </span><span class="token number" style="color:hsl(35, 99%, 36%)">PB7</span><span class="token plain">                    # SPI 片选Pin脚定义</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">#spi_bus: s</span><span class="token pin">pi3</span><span class="token plain">                  # SPI 通讯总线定义</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">#run_current: </span><span class="token number" style="color:hsl(35, 99%, 36%)">1.0</span><span class="token plain">               # 电机运行电流值</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">#interpolate: </span><span class="token boolean" style="color:hsl(35, 99%, 36%)">False</span><span class="token plain">             # 是否开启</span><span class="token number" style="color:hsl(35, 99%, 36%)">256</span><span class="token plain">微步插值（不建议开启）</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">#sense_resistor: </span><span class="token number" style="color:hsl(35, 99%, 36%)">0.075</span><span class="token plain">          # 驱动采样电阻不要改（如果使用</span><span class="token number" style="color:hsl(35, 99%, 36%)">5160</span><span class="token plain"> Pro，请将数值修改为</span><span class="token number" style="color:hsl(35, 99%, 36%)">0.033</span><span class="token plain">）</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">#stealthchop_threshold: </span><span class="token number" style="color:hsl(35, 99%, 36%)">500</span><span class="token plain">     # 静音阀值（如果不需要静音，请将数值改为</span><span class="token number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain">）</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">#####################################################################</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">#                     </span><span class="token pin">E0</span><span class="token plain"> 挤出机设置 （</span><span class="token pin">E0</span><span class="token plain"> Settings）                  # </span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">#####################################################################</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">#注：接完线需测试运行方向,deiv</span><span class="token pin">er3</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">[extruder]</span><span class="token plain">                         # 挤出机</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">step_pin</span><span class="token config_line value">: </span><span class="token number" style="color:hsl(35, 99%, 36%)">PC3</span><span class="token plain">                       # 挤出电机方脉冲引脚</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">dir_pin</span><span class="token config_line value">: </span><span class="token number" style="color:hsl(35, 99%, 36%)">PC8</span><span class="token plain">                        # 挤出电机方向引脚设置</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">enable_pin</span><span class="token config_line value">: </span><span class="token number" style="color:hsl(35, 99%, 36%)">!PC11</span><span class="token plain">                   # 挤出电机方使能引脚设置</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">## 执行挤出机校准时，更新以下值</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">## 比如你要求</span><span class="token number" style="color:hsl(35, 99%, 36%)">100</span><span class="token plain">毫米的进料，但实际上是</span><span class="token number" style="color:hsl(35, 99%, 36%)">102</span><span class="token plain">：</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">## rotation_distance = &lt;旧rotation_distance> * &lt;实际挤出长度> / &lt;请求的挤出长度></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">## 校准步进值: </span><span class="token number" style="color:hsl(35, 99%, 36%)">22.44</span><span class="token plain">=旧值</span><span class="token number" style="color:hsl(35, 99%, 36%)">22</span><span class="token plain">*实际值</span><span class="token number" style="color:hsl(35, 99%, 36%)">102</span><span class="token plain">/目标值</span><span class="token number" style="color:hsl(35, 99%, 36%)">100</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">rotation_distance</span><span class="token config_line value">: </span><span class="token number" style="color:hsl(35, 99%, 36%)">22.23</span><span class="token plain">            # 步进值</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">gear_ratio</span><span class="token config_line value">: </span><span class="token number" style="color:hsl(35, 99%, 36%)">50</span><span class="token plain">:</span><span class="token number" style="color:hsl(35, 99%, 36%)">10</span><span class="token plain">                   # 减速比（伽利略齿比</span><span class="token number" style="color:hsl(35, 99%, 36%)">7.5</span><span class="token plain">:</span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain"> 并且这行注释掉；BMG为</span><span class="token number" style="color:hsl(35, 99%, 36%)">50</span><span class="token plain">：</span><span class="token number" style="color:hsl(35, 99%, 36%)">17</span><span class="token plain">，输出轴在前，输入轴在后）</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">microsteps</span><span class="token config_line value">: </span><span class="token number" style="color:hsl(35, 99%, 36%)">16</span><span class="token plain">                      # 电机细分设置,细分越高，质量越高，但主控负荷越大</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">full_steps_per_rotation</span><span class="token config_line value">: </span><span class="token number" style="color:hsl(35, 99%, 36%)">200</span><span class="token plain">        # 单圈脉冲数 （</span><span class="token number" style="color:hsl(35, 99%, 36%)">200</span><span class="token plain"> 为 </span><span class="token number" style="color:hsl(35, 99%, 36%)">1.8</span><span class="token plain"> 度, </span><span class="token number" style="color:hsl(35, 99%, 36%)">400</span><span class="token plain"> 为 </span><span class="token number" style="color:hsl(35, 99%, 36%)">0.9</span><span class="token plain"> 度）</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">nozzle_diameter</span><span class="token config_line value">: </span><span class="token number" style="color:hsl(35, 99%, 36%)">0.400</span><span class="token plain">              # 喷嘴直径</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">filament_diameter</span><span class="token config_line value">: </span><span class="token number" style="color:hsl(35, 99%, 36%)">1.75</span><span class="token plain">             # 耗材直径</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">heater_pin</span><span class="token config_line value">: </span><span class="token number" style="color:hsl(35, 99%, 36%)">PA0</span><span class="token plain">                     # 加热棒引脚,接到HE</span><span class="token pin">TA0</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">sensor_type</span><span class="token config_line value">: </span><span class="token known_thermistor_type">ATC Semitec 104GT-2</span><span class="token plain">    # 传感器型号  </span><span class="token comment" style="color:hsl(230, 4%, 64%)">(generic 3950, ATC Semitec 104GT-2， PT1000)</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">sensor_pin</span><span class="token config_line value">: </span><span class="token number" style="color:hsl(35, 99%, 36%)">PC0</span><span class="token plain">                     # 传感器引脚  </span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">min_temp</span><span class="token config_line value">: </span><span class="token number" style="color:hsl(35, 99%, 36%)">10</span><span class="token plain">                        # 最小温度（注意：测量温度超过设定值会触发紧急停止）</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">max_temp</span><span class="token config_line value">: </span><span class="token number" style="color:hsl(35, 99%, 36%)">350</span><span class="token plain">                       # 最大温度（注意：测量温度超过设定值会触发紧急停止）</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">max_power</span><span class="token config_line value">: </span><span class="token number" style="color:hsl(35, 99%, 36%)">1.0</span><span class="token plain">                      # 最大功率</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">min_extrude_temp</span><span class="token config_line value">: </span><span class="token number" style="color:hsl(35, 99%, 36%)">170</span><span class="token plain">               # 最小挤出温度（至少需要达到这个温度，挤出机才能挤出）</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">pressure_advance</span><span class="token config_line value">: </span><span class="token number" style="color:hsl(35, 99%, 36%)">0.00</span><span class="token plain">              # 推进压力-尽量将压力保持在</span><span class="token number" style="color:hsl(35, 99%, 36%)">1.0</span><span class="token plain">以下</span><span class="token comment" style="color:hsl(230, 4%, 64%)">(压力提前是调整这个)</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">pressure_advance_smooth_time</span><span class="token config_line value">: </span><span class="token number" style="color:hsl(35, 99%, 36%)">0.040</span><span class="token plain"> # 平稳推进时间-默认值为</span><span class="token number" style="color:hsl(35, 99%, 36%)">0.040</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">#压力提前调整方法:https://www.klipp</span><span class="token pin">er3</span><span class="token plain">d.org/zh/Pressure_Advance.html</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">pressure_advance_smooth_time</span><span class="token config_line value">: </span><span class="token number" style="color:hsl(35, 99%, 36%)">0.040</span><span class="token plain"> # 平稳推进时间-默认值为</span><span class="token number" style="color:hsl(35, 99%, 36%)">0.040</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">#max_extrude_only_distance: </span><span class="token number" style="color:hsl(35, 99%, 36%)">200.0</span><span class="token plain">   # 挤出流量报错可以注释这个，但是建议重新切片</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">#喷嘴温度</span><span class="token known_control_type">PID</span><span class="token plain">校准命令：  </span><span class="token string" style="color:hsl(119, 34%, 47%)">"PID_CALIBRATE HEATER=extruder TARGET=245</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">control = pid                # PID喷嘴温度自动校准项（pid校准完成后，会被注释）</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">pid_kp = 26.213              # PID喷嘴温度自动校准项（pid校准完成后，会被注释）</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">pid_ki = 1.304               # PID喷嘴温度自动校准项（pid校准完成后，会被注释）</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">pid_kd = 131.721             # PID喷嘴温度自动校准项（pid校准完成后，会被注释）</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">step_pulse_duration: 0.000004</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">#--------------------------------------------------------------------</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">[tmc2209 extruder]                 # 挤出机驱动配置- TMC2209</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">uart_pin: PB6                       # 通讯端口Pin脚定义</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">interpolate: False                  # 是否开启256微步插值（开启是True，关闭是False）</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">run_current: 0.8                    # 电机运行电流值</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">sense_resistor: 0.110               # 驱动采样电阻不要改</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">stealthchop_threshold: 500          # 静音阀值（如果不需要静音，请将数值改为0）</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">#--------------------------------------------------------------------</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">#[tmc5160 extruder]                  # 挤出机驱动配置- TMC5160</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">#cs_pin: PB6                         # SPI 片选Pin脚定义</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">#spi_bus: spi3                       # SPI 通讯总线定义</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">#run_current: 1.0                    # 电机运行电流值</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">#interpolate: False                  # 是否开启256微步插值（开启是True，关闭是False）</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">#sense_resistor: 0.075               # 驱动采样电阻不要改（如果使用5160 Pro，请将数值修改为0.033）</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">#stealthchop_threshold: 500          # 静音阀值（如果不需要静音，请将数值改为0）</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">#####################################################################</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">#                            热床配置                                # </span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">#####################################################################</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">[heater_bed]</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">heater_pin: PA2              # 热床接口</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">sensor_type: Generic 3950    # 传感器型号  (generic 3950, ATC Semitec 104GT-2， PT1000)</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">sensor_pin: PC2              # 热床传感器接口</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">smooth_time: 3.0</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">max_power: 1.0               # 热床功率</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">min_temp: 0                  # 最小温度（注意：测量温度超过设定值会触发紧急停止）</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">max_temp: 120                # 最大温度（注意：测量温度超过设定值会触发紧急停止）</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)"># 热床温度PID校准命令：  "</span><span class="token plain">PID_CALIBRATE HEATER=</span><span class="token known_config_block_name">heater_bed</span><span class="token plain"> TARGET=</span><span class="token number" style="color:hsl(35, 99%, 36%)">100</span><span class="token string" style="color:hsl(119, 34%, 47%)">"</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">control: pid                # PID热床温度自动校准项（pid校准完成后，会被注释）</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">pid_kp: 68.453              # PID热床温度自动校准项（pid校准完成后，会被注释）</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">pid_ki: 2.749               # PID热床温度自动校准项（pid校准完成后，会被注释）</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">pid_kd: 426.122             # PID热床温度自动校准项（pid校准完成后，会被注释）</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">#####################################################################</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">#                            风扇配置                                # </span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">#####################################################################</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">[fan]                        # 模型冷却风扇 </span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">pin: PC6                     # 信号接口</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">kick_start_time: 0.5         # 启动时间（勿动）</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">off_below: 0.13              # 勿动</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">cycle_time: 0.010</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">#--------------------------------------------------------------------</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">[heater_fan hotend_fan]      # 喉管冷却风扇</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">pin: PC7                     # 信号接口</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">max_power: 1.0               # 最大转速</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">kick_start_time: 0.5         # 启动时间（勿动）</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">heater: extruder             # 关联的设备：挤出机</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">heater_temp: 50              # 挤出机达到多少度启动风扇</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">#fan_speed: 1.0              # 风扇转速</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">#--------------------------------------------------------------------</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">#Fly Gemini does have another controllable fan header but its 5v only, and its on the HOST mcu, if you have a 24v fan to use then you will need to power this off the always on fan header </span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)"># [controller_fan MCU_fan]</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)"># pin: host:gpiochip0/gpio3 </span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)"># max_power: 1.0</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)"># kick_start_time: 0.5</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)"># heater: extruder</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)"># #fan_speed: 1.0 </span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">#####################################################################</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)"># Homing and Gantry Adjustment Routines</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">#####################################################################</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">[homing_override]</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">axes: xyz</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">set_position_z: 0</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">gcode:</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">    G90</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">    G0 Z5 F600</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">    {% set home_all = 'X' not in params and 'Y' not in params and 'Z' not in params %}</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">    {% if home_all or 'X' in params %}</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">        _HOME_X</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">    {% endif %}</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">    </span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">    {% if home_all or 'Y' in params %}</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">        _HOME_Y</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">    {% endif %}</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">    </span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">    {% if home_all or 'Z' in params %}</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">        _HOME_Z</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">    {% endif %}</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">#[safe_z_home]                      Only needed if you are using V0.0 or V0.1 Z endstop location</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">#home_xy_position: 120,120</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">#speed: 50.0</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">#z_hop: 5</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">## To be used with BED_SCREWS_ADJUST</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">[bed_screws]</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">screw1: 60,5</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">screw1_name: front screw</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">screw2: 5,115</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">screw2_name: back left</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">screw3: 115,115</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">screw3_name: back right</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">Probe_height: 0.1</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">#####################################################################</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">#                                    Neopixel</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">#####################################################################</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">[neopixel board_rgb]</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">pin: PA9</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">chain_count: 1</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">color_order: GRB</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">initial_RED: 0.0</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">initial_GREEN: 0.1</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">initial_BLUE: 0.0</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">#####################################################################</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">#                      FLY-Mini 12864 LCD                           #</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">#####################################################################</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">[board_pins]</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">aliases:</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">    # EXP1 header</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">    EXP1_1=PC9,  EXP1_3=PA13,  EXP1_5=PA9,   EXP1_7=&lt;NC>,  EXP1_9=&lt;GND>,</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">    EXP1_2=PB10,  EXP1_4=PA10,  EXP1_6=PA8,   EXP1_8=&lt;NC>,  EXP1_10=&lt;5V>,</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">    # EXP2 header</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">    EXP2_1=PB14, EXP2_3=PA15,  EXP2_5=PA14,  EXP2_7=PA7,  EXP2_9=&lt;GND>,</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">    EXP2_2=PB13, EXP2_4=PB12,  EXP2_6=PB15,  EXP2_8=&lt;RST>, EXP2_10=&lt;NC>,</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">#--------------------------------------------------------------------</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">#[display]</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">#lcd_type: uc1701                # 显示屏驱动类型</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">#cs_pin: EXP1_3                  # 显示屏片选cs引脚设置</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">#a0_pin: EXP1_4                  # 显示屏数据a0引脚设置</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">#rst_pin: EXP1_5                 # 显示屏复位rst脚设置</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">#contrast: 63                    # 对比度</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">#encoder_pins: ^EXP2_5, ^!EXP2_3 # 旋转编码器（旋钮开关）引脚设置</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">#click_pin: ^!EXP1_2             # 旋转编码器（旋钮开关）确认按键的引脚设置</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">#spi_bus: spi1                   # 必须指定SPI通道</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">#--------------------------------------------------------------------</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">#####适用于FLY Mini12864</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">#[neopixel fly_mini12864]</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">#pin: EXP1_6                     # 显示屏背光灯控制引脚设置</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">#chain_count: 3</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">#initial_RED: 1.0                # 红色LED灯亮度控制（范围：0-1）</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">#initial_GREEN: 1.0              # 绿色LED灯亮度控制（范围：0-1）</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">#initial_BLUE: 1.0               # 蓝色LED灯亮度控制（范围：0-1）</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">#color_order: RGB                # 颜色顺序</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">#####################################################################</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">#                          闲置关闭热床</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">#####################################################################</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">[idle_timeout]</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">timeout: 1800                # 空闲时间超过30分钟则关闭热床</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">#####################################################################</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">#                           自定义gcode宏                            #</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">#####################################################################</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">[gcode_macro PRINT_START]          # 将 PRINT_START 设置为开始打印时的宏，自定义打印前的动作</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">gcode:</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">    G92 E0                         # 重置挤出</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">    G28                            # 归位所有轴</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">    G1 Z20 F3000                   # 抬高龙门</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">    #SET_LED LED=LEDlight RED=0.2 GREEN=0.2 BLUE=0.5   # LED灯控制</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">    #M117 Printing                 # 向屏幕发送文本</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">    </span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">#--------------------------------------------------------------------</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">[gcode_macro PRINT_HUAXIAN]        # 将 PRINT_HUAXIAN 设置为PRINT_START后的宏，自定义打印前的动作</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">gcode:</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">    G1 Z5 F3000 </span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">    G92 E0;              # 重置挤出</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">    G90                  # 设置绝对坐标体系</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">    G0 X5 Y1 F6000       # 移动至x5 y1位置，速度100mm/s（F6000，意思为6000mm每分钟）</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">    G0 Z0.4              # 移动z轴高度至0.4</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">    G91                  # 设置坐标体系为相对坐标</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">    G1 X100 E20 F1200;   # 移动x轴100mm，并挤出，更改F可更改挤出率</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">    G1 Y1                # 移动y轴1mm</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">    G1 X-100 E20 F1200;  # 反方向移动x轴100mm，并挤出，更改F可更改挤出率</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">    G0 z5                # 抬高z轴5mm</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">    G1 E-5.0 F3600       # 缩回耗材丝</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">    G92 E0;              # 重置挤出</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">    G90                  # 设置绝对坐标体系 </span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">#--------------------------------------------------------------------</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">[gcode_macro PRINT_END]            # 将 PRINT_END 设置为打印结束时的宏，自定义打印完成之后动作</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">gcode:</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">    #   Get Boundaries</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">    {% set max_x = printer.configfile.config["</span><span class="token known_config_block_name">stepper_x</span><span class="token string" style="color:hsl(119, 34%, 47%)">"]["</span><span class="token plain">position_max</span><span class="token string" style="color:hsl(119, 34%, 47%)">"]|float %}</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">    {% set max_y = printer.configfile.config["</span><span class="token known_config_block_name">stepper_y</span><span class="token string" style="color:hsl(119, 34%, 47%)">"]["</span><span class="token plain">position_max</span><span class="token string" style="color:hsl(119, 34%, 47%)">"]|float %}</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">    {% set max_z = printer.configfile.config["</span><span class="token known_config_block_name">stepper_z</span><span class="token string" style="color:hsl(119, 34%, 47%)">"]["</span><span class="token plain">position_max"]|float %}</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    #   Check end position to determine safe directions to move</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    {% if </span><span class="token known_config_block_name">printer</span><span class="token plain">.toolhead.position.x &lt; </span><span class="token comment" style="color:hsl(230, 4%, 64%)">(max_x - 20)</span><span class="token plain"> %}</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">        {% set x_safe = </span><span class="token number" style="color:hsl(35, 99%, 36%)">20.0</span><span class="token plain"> %}</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token gcode_macro_block macro">{% else %}</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">        {% set x_safe = </span><span class="token number" style="color:hsl(35, 99%, 36%)">-20.0</span><span class="token plain"> %}</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token gcode_macro_block macro">{% endif %}</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    {% if </span><span class="token known_config_block_name">printer</span><span class="token plain">.toolhead.position.y &lt; </span><span class="token comment" style="color:hsl(230, 4%, 64%)">(max_y - 20)</span><span class="token plain"> %}</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">        {% set y_safe = </span><span class="token number" style="color:hsl(35, 99%, 36%)">20.0</span><span class="token plain"> %}</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token gcode_macro_block macro">{% else %}</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">        {% set y_safe = </span><span class="token number" style="color:hsl(35, 99%, 36%)">-20.0</span><span class="token plain"> %}</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token gcode_macro_block macro">{% endif %}</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    {% if </span><span class="token known_config_block_name">printer</span><span class="token plain">.toolhead.position.z &lt; </span><span class="token comment" style="color:hsl(230, 4%, 64%)">(max_z - 2)</span><span class="token plain"> %}</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">        {% set z_safe = </span><span class="token number" style="color:hsl(35, 99%, 36%)">2.0</span><span class="token plain"> %}</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token gcode_macro_block macro">{% else %}</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">        {% set z_safe = max_z - </span><span class="token known_config_block_name">printer</span><span class="token plain">.toolhead.position.z %}</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token gcode_macro_block macro">{% endif %}</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">M400</span><span class="token plain">                              # 等待缓冲区清除</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">G92</span><span class="token plain"> </span><span class="token pin">E0</span><span class="token plain">                            # 将挤出机归零</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">G1</span><span class="token plain"> </span><span class="token property" style="color:hsl(5, 74%, 59%)">E</span><span class="token number" style="color:hsl(35, 99%, 36%)">-10.0</span><span class="token plain"> </span><span class="token pin">F36</span><span class="token number" style="color:hsl(35, 99%, 36%)">00</span><span class="token plain">                   # 缩回耗材丝</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">G91</span><span class="token plain">                               # 相对定位</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">G0</span><span class="token plain"> </span><span class="token property" style="color:hsl(5, 74%, 59%)">Z</span><span class="token gcode_macro_block macro">{z_safe}</span><span class="token plain"> </span><span class="token pin">F36</span><span class="token number" style="color:hsl(35, 99%, 36%)">00</span><span class="token plain">               # 抬高龙门</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">G0</span><span class="token plain"> </span><span class="token property" style="color:hsl(5, 74%, 59%)">X</span><span class="token gcode_macro_block macro">{x_safe}</span><span class="token plain"> </span><span class="token property" style="color:hsl(5, 74%, 59%)">Y</span><span class="token gcode_macro_block macro">{y_safe}</span><span class="token plain"> </span><span class="token pin">F20</span><span class="token number" style="color:hsl(35, 99%, 36%)">000</span><span class="token plain">    # 移动喷嘴以移除架线</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">M104</span><span class="token plain"> </span><span class="token pin">S0</span><span class="token plain">                           # 关闭挤出头</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">M140</span><span class="token plain"> </span><span class="token pin">S0</span><span class="token plain">                           # 关闭热床</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">M106</span><span class="token plain"> </span><span class="token pin">S0</span><span class="token plain">                           # 关闭模型风扇</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">G90</span><span class="token plain">                               # 设置绝对坐标体系</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">G0</span><span class="token plain"> </span><span class="token property" style="color:hsl(5, 74%, 59%)">X</span><span class="token plain">{max_x / </span><span class="token number" style="color:hsl(35, 99%, 36%)">2</span><span class="token plain">} </span><span class="token property" style="color:hsl(5, 74%, 59%)">Y</span><span class="token gcode_macro_block macro">{max_y}</span><span class="token plain"> </span><span class="token pin">F36</span><span class="token number" style="color:hsl(35, 99%, 36%)">00</span><span class="token plain">   # 将喷嘴停在后部</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    BED_MESH_CLEAR                   # 卸载网床</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">#--------------------------------------------------------------------    </span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">[gcode_macro LOAD_FILAMENT]</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">gcode</span><span class="token config_line value">:</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token config_line value">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">M83</span><span class="token plain">                            </span><span class="token comment" style="color:hsl(230, 4%, 64%)">; set extruder to relative</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">G1</span><span class="token plain"> </span><span class="token pin">E30</span><span class="token plain"> </span><span class="token pin">F30</span><span class="token number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain">                    </span><span class="token comment" style="color:hsl(230, 4%, 64%)">; load</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">G1</span><span class="token plain"> </span><span class="token pin">E15</span><span class="token plain"> </span><span class="token pin">F15</span><span class="token number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain">                    </span><span class="token comment" style="color:hsl(230, 4%, 64%)">; prime nozzle with filament</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">M82</span><span class="token plain">                            </span><span class="token comment" style="color:hsl(230, 4%, 64%)">; set extruder to absolute</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">[gcode_macro UNLOAD_FILAMENT]</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">gcode</span><span class="token config_line value">:</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token config_line value">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">M83</span><span class="token plain">                            </span><span class="token comment" style="color:hsl(230, 4%, 64%)">; set extruder to relative</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">G1</span><span class="token plain"> </span><span class="token pin">E10</span><span class="token plain"> </span><span class="token pin">F30</span><span class="token number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain">                    </span><span class="token comment" style="color:hsl(230, 4%, 64%)">; extrude a little to soften tip</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">G1</span><span class="token plain"> </span><span class="token property" style="color:hsl(5, 74%, 59%)">E</span><span class="token number" style="color:hsl(35, 99%, 36%)">-40</span><span class="token plain"> </span><span class="token pin">F18</span><span class="token number" style="color:hsl(35, 99%, 36%)">00</span><span class="token plain">                  </span><span class="token comment" style="color:hsl(230, 4%, 64%)">; retract some, but not too much or it will jam</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">M82</span><span class="token plain">                            </span><span class="token comment" style="color:hsl(230, 4%, 64%)">; set extruder to absolute</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">#--------------------------------------------------------------------</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">[gcode_macro _HOME_X]</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">gcode</span><span class="token config_line value">:</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token config_line value">    </span><span class="token config_line value comment" style="color:hsl(230, 4%, 64%)"># Always use consistent run_current on </span><span class="token property" style="color:hsl(5, 74%, 59%)">A</span><span class="token plain">/</span><span class="token property" style="color:hsl(5, 74%, 59%)">B</span><span class="token plain"> steppers during sensorless homing</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    {% set RUN_CURRENT_X = </span><span class="token known_config_block_name">printer</span><span class="token plain">.configfile.settings['</span><span class="token known_driver_type">tmc2209</span><span class="token plain"> </span><span class="token known_config_block_name">stepper_x</span><span class="token plain">'].run_current|float %}</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    {% set RUN_CURRENT_Y = </span><span class="token known_config_block_name">printer</span><span class="token plain">.configfile.settings['</span><span class="token known_driver_type">tmc2209</span><span class="token plain"> </span><span class="token known_config_block_name">stepper_y</span><span class="token plain">'].run_current|float %}</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    {% set HOME_CURRENT_RATIO = </span><span class="token number" style="color:hsl(35, 99%, 36%)">0.7</span><span class="token plain"> %} # by default we are dropping the motor current during homing. you can adjust this value if you are having trouble with skipping while homing</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    SET_TMC_CURRENT STEPPER=</span><span class="token known_config_block_name">stepper_x</span><span class="token plain"> CURRENT=</span><span class="token gcode_macro_block macro">{HOME_CURRENT_RATIO * RUN_CURRENT_X}</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    SET_TMC_CURRENT STEPPER=</span><span class="token known_config_block_name">stepper_y</span><span class="token plain"> CURRENT=</span><span class="token gcode_macro_block macro">{HOME_CURRENT_RATIO * RUN_CURRENT_Y}</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    # Home</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">G28</span><span class="token plain"> </span><span class="token property" style="color:hsl(5, 74%, 59%)">X</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    # Move away</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">G91</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">G1</span><span class="token plain"> </span><span class="token property" style="color:hsl(5, 74%, 59%)">X</span><span class="token number" style="color:hsl(35, 99%, 36%)">-10</span><span class="token plain"> </span><span class="token pin">F12</span><span class="token number" style="color:hsl(35, 99%, 36%)">00</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    # Wait just a second… </span><span class="token comment" style="color:hsl(230, 4%, 64%)">(give StallGuard registers time to clear)</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">G4</span><span class="token plain"> </span><span class="token pin">P10</span><span class="token number" style="color:hsl(35, 99%, 36%)">00</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">G90</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    # Set current during print</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    SET_TMC_CURRENT STEPPER=</span><span class="token known_config_block_name">stepper_x</span><span class="token plain"> CURRENT=</span><span class="token gcode_macro_block macro">{RUN_CURRENT_X}</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    SET_TMC_CURRENT STEPPER=</span><span class="token known_config_block_name">stepper_y</span><span class="token plain"> CURRENT=</span><span class="token gcode_macro_block macro">{RUN_CURRENT_Y}</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">#--------------------------------------------------------------------</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">[gcode_macro _HOME_Y]</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">gcode</span><span class="token config_line value">:</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token config_line value">    </span><span class="token config_line value comment" style="color:hsl(230, 4%, 64%)"># Set current for sensorless homing</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    {% set RUN_CURRENT_X = </span><span class="token known_config_block_name">printer</span><span class="token plain">.configfile.settings['</span><span class="token known_driver_type">tmc2209</span><span class="token plain"> </span><span class="token known_config_block_name">stepper_x</span><span class="token plain">'].run_current|float %}</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    {% set RUN_CURRENT_Y = </span><span class="token known_config_block_name">printer</span><span class="token plain">.configfile.settings['</span><span class="token known_driver_type">tmc2209</span><span class="token plain"> </span><span class="token known_config_block_name">stepper_y</span><span class="token plain">'].run_current|float %}</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    {% set HOME_CURRENT_RATIO = </span><span class="token number" style="color:hsl(35, 99%, 36%)">0.7</span><span class="token plain"> %} # by default we are dropping the motor current during homing. you can adjust this value if you are having trouble with skipping while homing</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    SET_TMC_CURRENT STEPPER=</span><span class="token known_config_block_name">stepper_x</span><span class="token plain"> CURRENT=</span><span class="token gcode_macro_block macro">{HOME_CURRENT_RATIO * RUN_CURRENT_X}</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    SET_TMC_CURRENT STEPPER=</span><span class="token known_config_block_name">stepper_y</span><span class="token plain"> CURRENT=</span><span class="token gcode_macro_block macro">{HOME_CURRENT_RATIO * RUN_CURRENT_Y}</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    # Home</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">G28</span><span class="token plain"> </span><span class="token property" style="color:hsl(5, 74%, 59%)">Y</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    # Move away</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">G91</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">G1</span><span class="token plain"> </span><span class="token property" style="color:hsl(5, 74%, 59%)">Y</span><span class="token number" style="color:hsl(35, 99%, 36%)">-10</span><span class="token plain"> </span><span class="token pin">F12</span><span class="token number" style="color:hsl(35, 99%, 36%)">00</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    # Wait just a second… </span><span class="token comment" style="color:hsl(230, 4%, 64%)">(give StallGuard registers time to clear)</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">G4</span><span class="token plain"> </span><span class="token pin">P10</span><span class="token number" style="color:hsl(35, 99%, 36%)">00</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">G90</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    # Set current during print</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    SET_TMC_CURRENT STEPPER=</span><span class="token known_config_block_name">stepper_x</span><span class="token plain"> CURRENT=</span><span class="token gcode_macro_block macro">{RUN_CURRENT_X}</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    SET_TMC_CURRENT STEPPER=</span><span class="token known_config_block_name">stepper_y</span><span class="token plain"> CURRENT=</span><span class="token gcode_macro_block macro">{RUN_CURRENT_Y}</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">#--------------------------------------------------------------------</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">[gcode_macro _HOME_Z]</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token config_line variable" style="color:hsl(221, 87%, 60%)">gcode</span><span class="token config_line value">:</span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token config_line value">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">G90</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">G28</span><span class="token plain"> </span><span class="token property" style="color:hsl(5, 74%, 59%)">Z</span><span class="token plain"></span><br></span><span class=token-line style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">G1</span><span class="token plain"> </span><span class="token pin">Z30</span><br></span></code></pre><div class=buttonGroup_mCtT><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_MmXF aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_IlRH><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_GzDi><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class=col><a href=https://github.com/kluoyun/fly-docs-next/tree/master/docs/ProductDoc/MainBoard/fly-gemini/fly-gemini-v3/cfg.mdx target=_blank rel="noopener noreferrer" class=theme-edit-this-page><svg fill=currentColor height=20 width=20 viewBox="0 0 40 40" class=iconEdit_lgHx aria-hidden=true><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"/></g></svg>Edit this page</a></div><div class="col lastUpdated_ziy3"><span class=theme-last-updated>Last updated<!-- --> on <b><time datetime=2024-10-25T09:22:40.000Z itemprop=dateModified>Oct 25, 2024</time></b> by <b>fenghua</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="File tab"><a class="pagination-nav__link pagination-nav__link--prev" href=/fly-docs-next/en/docs/ProductDoc/MainBoard/fly-gemini/fly-gemini-v3/flash/bl><div class=pagination-nav__sublabel>Previous</div><div class=pagination-nav__label>BL firmware, please ignore</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/fly-docs-next/en/docs/ProductDoc/MainBoard/fly-gemini/fly-gemini-v3/wiring><div class=pagination-nav__sublabel>Next</div><div class=pagination-nav__label>Main Board Wiring</div></a></nav></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class=footer__title>Document</div><ul class="footer__items clean-list"><li class=footer__item><a class=footer__link-item href=/fly-docs-next/en/docs/intro>Product Doc</a><li class=footer__item><a class=footer__link-item href=/fly-docs-next/en/docs/debug-doc>Debug Docs</a><li class=footer__item><a href=https://mellow-old.klipper.cn target=_blank rel="noopener noreferrer" class=footer__link-item>Original Docs Site<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_YXFs><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://teamgloomy.github.io/ target=_blank rel="noopener noreferrer" class=footer__link-item>RRF<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_YXFs><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a></ul></div><div class="col footer__col"><div class=footer__title>customer service</div><ul class="footer__items clean-list"><li class=footer__item><a href=mailto:service@3dmellow.com target=_blank rel="noopener noreferrer" class=footer__link-item>Solution</a><li class=footer__item><a href=mailto:service@3dmellow.com target=_blank rel="noopener noreferrer" class=footer__link-item>Technical Support</a><li class=footer__item><a href=mailto:service@3dmellow.com target=_blank rel="noopener noreferrer" class=footer__link-item>Contact us</a></ul></div><div class="col footer__col"><div class=footer__title>Product model</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://shop126791347.taobao.com/ target=_blank rel="noopener noreferrer" class=footer__link-item>Taobao<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_YXFs><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://mellow.aliexpress.com/ target=_blank rel="noopener noreferrer" class=footer__link-item>Aliexpress<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_YXFs><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a></ul></div><div class="col footer__col"><div class=footer__title>Community</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://qm.qq.com/q/WtBuUgkIWC target=_blank rel="noopener noreferrer" class=footer__link-item>QQ Group<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_YXFs><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://discord.gg/qMvp24jWNw target=_blank rel="noopener noreferrer" class=footer__link-item>Discord<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_YXFs><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://www.facebook.com/groups/395979321769632 target=_blank rel="noopener noreferrer" class=footer__link-item>Facebook<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_YXFs><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a></ul></div><div class="col footer__col"><div class=footer__title>More</div><ul class="footer__items clean-list"><li class=footer__item><a class=footer__link-item href=/fly-docs-next/en/blog>Blog</a><li class=footer__item><a href=https://github.com/Mellow-3D target=_blank rel="noopener noreferrer" class=footer__link-item>GitHub<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_YXFs><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a></ul></div></div><div class="footer__bottom text--center"><div class=margin-bottom--sm><a href=https://mellow.klipper.cn rel="noopener noreferrer" class=footerLogoLink_T8La><img src=/fly-docs-next/en/img/logo.png alt="Mellow Logo" class="footer__logo themedComponent__KzL themedComponent--light_j6Nx" width=64 height=64><img src=/fly-docs-next/en/img/logo.png alt="Mellow Logo" class="footer__logo themedComponent__KzL themedComponent--dark_Aoaz" width=64 height=64></a></div><div class=footer__copyright>Copyright © 2024 3D Mellow, Inc. All rights reserved</div></div></div></footer></div>