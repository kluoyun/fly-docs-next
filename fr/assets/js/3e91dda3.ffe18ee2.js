"use strict";(self.webpackChunkklipper_docs=self.webpackChunkklipper_docs||[]).push([["1007"],{4735:function(e,n,i){i.d(n,{ZP:function(){return l},d$:function(){return o}});var t=i(52676),r=i(79938);let o=[];function s(e){let n={admonition:"admonition",li:"li",ul:"ul",...(0,r.a)(),...e.components};return(0,t.jsx)(n.admonition,{title:"Conseils d'utilisation de la position infinie",type:"tip",children:(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"L'utilisation de la position infinie n\xe9cessite l'occupation d'un port de fin de course. Normalement, la position de conduite num\xe9ro un utilise IO1, la position de conduite num\xe9ro deux utilise IO2, et ainsi de suite."}),"\n",(0,t.jsx)(n.li,{children:"Veuillez noter que lors de l'utilisation de la position infinie, il ne faut rien connecter aux ports de fin de course correspondants."}),"\n",(0,t.jsx)(n.li,{children:"Pour certaines cartes m\xe8res FLY, les ports de commande sont directement connect\xe9s. Veuillez v\xe9rifier si DIAG est directement connect\xe9 aux broches correspondantes."}),"\n"]})})}function l(e={}){let{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(s,{...e})}):s(e)}},75479:function(e,n,i){i.r(n),i.d(n,{metadata:()=>t,contentTitle:()=>c,default:()=>p,assets:()=>d,toc:()=>a,frontMatter:()=>l});var t=JSON.parse('{"id":"ProductDoc/ModuleDrive/tp5160","title":"TP 5160","description":"TMC-5160","source":"@site/i18n/fr/docusaurus-plugin-content-docs/current/ProductDoc/ModuleDrive/tp5160.mdx","sourceDirName":"ProductDoc/ModuleDrive","slug":"/ProductDoc/ModuleDrive/tp5160","permalink":"/fly-docs-next/fr/docs/ProductDoc/ModuleDrive/tp5160","draft":false,"unlisted":false,"editUrl":"https://github.com/kluoyun/fly-docs-next/tree/master/docs/ProductDoc/ModuleDrive/tp5160.mdx","tags":[],"version":"current","lastUpdatedBy":"Xiaok","lastUpdatedAt":1732265789000,"sidebarPosition":9,"frontMatter":{"sidebar_position":9},"sidebar":"tutorialSidebar","previous":{"title":"TP 2209","permalink":"/fly-docs-next/fr/docs/ProductDoc/ModuleDrive/tp2209"},"next":{"title":"A4988","permalink":"/fly-docs-next/fr/docs/ProductDoc/ModuleDrive/4988"}}'),r=i("52676"),o=i("79938"),s=i("4735");let l={sidebar_position:9},c="TP 5160",d={},a=[{value:"TMC-5160",id:"tmc-5160",level:2},{value:"Configuration de r\xe9f\xe9rence TP5160",id:"configuration-de-r\xe9f\xe9rence-tp5160",level:2},{value:"Configuration de r\xe9f\xe9rence en mode SPI",id:"configuration-de-r\xe9f\xe9rence-en-mode-spi",level:3},{value:"Instructions pour l&#39;utilisation sans fin de course",id:"instructions-pour-lutilisation-sans-fin-de-course",level:2},...s.d$];function u(e){let n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",pre:"pre",ul:"ul",...(0,o.a)(),...e.components},{ImageView:t}=n;return!t&&function(e,n){throw Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("ImageView",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"tp-5160",children:"TP 5160"})}),"\n",(0,r.jsx)(t,{image:i(24914).Z,size:"60%",align:"center"}),"\n",(0,r.jsx)(n.h2,{id:"tmc-5160",children:"TMC-5160"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Tension d'entr\xe9e : 12V-48V"}),"\n",(0,r.jsx)(n.li,{children:"Courant maximum : 4.4A"}),"\n",(0,r.jsx)(n.li,{children:"Adapt\xe9 \xe0 : Firmware Marlin/Klipper/RRF"}),"\n",(0,r.jsx)(n.li,{children:"Modes de pilotage support\xe9s : TMC : SPI"}),"\n",(0,r.jsx)(n.li,{children:"Interface pas \xe0 pas/direction avec interpolation microPlyer"}),"\n",(0,r.jsx)(n.li,{children:"R\xe9solution maximale de 256 micro-pas"}),"\n",(0,r.jsx)(n.li,{children:"Supporte le fonctionnement silencieux et les mouvements fluides avec stealthChop2"}),"\n",(0,r.jsx)(n.li,{children:"Supporte la suppression de la r\xe9sonance \xe0 fr\xe9quence moyenne"}),"\n",(0,r.jsx)(n.li,{children:"Supporte le chopper de contr\xf4le moteur dynamique spreadCycle"}),"\n",(0,r.jsx)(n.li,{children:"Supporte le contr\xf4le de vitesse li\xe9 \xe0 la charge dcStep"}),"\n",(0,r.jsx)(n.li,{children:"Supporte la d\xe9tection de charge moteur sans capteur avec haute pr\xe9cision stallGuard2"}),"\n",(0,r.jsx)(n.li,{children:"Supporte le contr\xf4le de courant coolStep, \xe9conomisant jusqu'\xe0 75% d'\xe9nergie"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"configuration-de-r\xe9f\xe9rence-tp5160",children:"Configuration de r\xe9f\xe9rence TP5160"}),"\n",(0,r.jsx)(n.admonition,{type:"danger",children:(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["La r\xe9sistance d'\xe9chantillonnage du driver est ",(0,r.jsx)(n.code,{children:"sense_resistor: 0.075"}),", veuillez ne pas la configurer incorrectement"]}),"\n",(0,r.jsx)(n.li,{children:"spi_bus et spi_software ne peuvent \xeatre choisis que l'un ou l'autre"}),"\n"]})}),"\n",(0,r.jsx)(n.h3,{id:"configuration-de-r\xe9f\xe9rence-en-mode-spi",children:"Configuration de r\xe9f\xe9rence en mode SPI"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-cfg",children:"[tmc5160 stepper_x]\ncs_pin:\nspi_bus:\n# spi_software_mosi_pin:\n# spi_software_miso_pin:\n# spi_software_sclk_pin: \nrun_current: 1.0                    # Valeur du courant de fonctionnement du moteur\ninterpolate: False                  # Activer ou non l'interpolation de 256 micro-pas (True pour activer, False pour d\xe9sactiver)\nsense_resistor: 0.075\nstealthchop_threshold: 0\ndriver_DISS2G: 1\ndriver_DISS2VS: 1\n"})}),"\n",(0,r.jsx)(n.h2,{id:"instructions-pour-lutilisation-sans-fin-de-course",children:"Instructions pour l'utilisation sans fin de course"}),"\n",(0,r.jsx)(s.ZP,{}),"\n",(0,r.jsx)(n.admonition,{title:"Conseils pour l'utilisation sans fin de course",type:"tip",children:(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Pour utiliser la fonction sans fin de course du TP5160, il faut connecter le cavalier DIAG sur la carte m\xe8re"}),"\n",(0,r.jsxs)(n.li,{children:["L'ancien ",(0,r.jsx)(n.code,{children:"endstop_pin:"})," doit \xeatre masqu\xe9 ou supprim\xe9, en ajoutant ",(0,r.jsx)(n.code,{children:"endstop_pin: tmc5160_stepper_x:virtual_endstop"})]}),"\n",(0,r.jsxs)(n.li,{children:["Apr\xe8s avoir configur\xe9 ",(0,r.jsx)(n.code,{children:"diag1_pin:"}),", l'\xe9tat de la limite doit \xeatre non d\xe9clench\xe9"]}),"\n",(0,r.jsxs)(n.li,{children:["La configuration de ",(0,r.jsx)(n.code,{children:"driver_SGT: :"})," n\xe9cessite de tester une valeur appropri\xe9e"]}),"\n"]})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Configuration de r\xe9f\xe9rence"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-cfg",children:"[stepper_x]\n# endstop_pin:PF3\nendstop_pin: tmc5160_stepper_x:virtual_endstop\nhoming_retract_dist: 0        # Ne pas modifier la distance de r\xe9tractation \xe0 0, sinon cela pourrait entra\xeener un \xe9chec de l'homing\n\n[tmc5160 stepper_x]\ndiag1_pin: ^!\ndriver_SGT: 1\n\n#   Assurez-vous que l'\xe9tat de la limite est non d\xe9clench\xe9 apr\xe8s la configuration\n#   Ce pin utilise g\xe9n\xe9ralement le pr\xe9fixe \"^\" pour activer la r\xe9sistance de tirage interne\n#   La sensibilit\xe9 est li\xe9e \xe0 la tension de la courroie et doit \xeatre ajust\xe9e\n#  (Assurez-vous \xe9galement de d\xe9finir driver_SGTHRS \xe0 une sensibilit\xe9 appropri\xe9e)\n\n"})})]})}function p(e={}){let{wrapper:n}={...(0,o.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(u,{...e})}):u(e)}},24914:function(e,n,i){i.d(n,{Z:function(){return t}});let t=i.p+"assets/images/tp5160-f98b898b495fdc59b11c4aac6a910301.webp"},79938:function(e,n,i){i.d(n,{Z:function(){return l},a:function(){return s}});var t=i(75271);let r={},o=t.createContext(r);function s(e){let n=t.useContext(o);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),t.createElement(o.Provider,{value:n},e.children)}}}]);