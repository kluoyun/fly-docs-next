"use strict";(self.webpackChunkklipper_docs=self.webpackChunkklipper_docs||[]).push([["63597"],{4735:function(e,n,i){i.d(n,{ZP:function(){return l},d$:function(){return o}});var r=i(52676),t=i(79938);let o=[];function s(e){let n={admonition:"admonition",li:"li",ul:"ul",...(0,t.a)(),...e.components};return(0,r.jsx)(n.admonition,{title:"Conseils d'utilisation de la position infinie",type:"tip",children:(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"L'utilisation de la position infinie n\xe9cessite l'occupation d'un port de fin de course. Normalement, la position de conduite num\xe9ro un utilise IO1, la position de conduite num\xe9ro deux utilise IO2, et ainsi de suite."}),"\n",(0,r.jsx)(n.li,{children:"Veuillez noter que lors de l'utilisation de la position infinie, il ne faut rien connecter aux ports de fin de course correspondants."}),"\n",(0,r.jsx)(n.li,{children:"Pour certaines cartes m\xe8res FLY, les ports de commande sont directement connect\xe9s. Veuillez v\xe9rifier si DIAG est directement connect\xe9 aux broches correspondantes."}),"\n"]})})}function l(e={}){let{wrapper:n}={...(0,t.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(s,{...e})}):s(e)}},31884:function(e,n,i){i.r(n),i.d(n,{metadata:()=>r,contentTitle:()=>c,default:()=>p,assets:()=>d,toc:()=>a,frontMatter:()=>l});var r=JSON.parse('{"id":"ProductDoc/ModuleDrive/tmc5160","title":"TMC 5160","description":"Param\xe8tres de base","source":"@site/i18n/fr/docusaurus-plugin-content-docs/current/ProductDoc/ModuleDrive/tmc5160.mdx","sourceDirName":"ProductDoc/ModuleDrive","slug":"/ProductDoc/ModuleDrive/tmc5160","permalink":"/fly-docs-next/fr/docs/ProductDoc/ModuleDrive/tmc5160","draft":false,"unlisted":false,"editUrl":"https://github.com/kluoyun/fly-docs-next/tree/master/docs/ProductDoc/ModuleDrive/tmc5160.mdx","tags":[],"version":"current","lastUpdatedBy":"Xiaok","lastUpdatedAt":1732265789000,"sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"TMC 2240","permalink":"/fly-docs-next/fr/docs/ProductDoc/ModuleDrive/tmc2240"},"next":{"title":"TMC 5160HV","permalink":"/fly-docs-next/fr/docs/ProductDoc/ModuleDrive/tmc5160hv"}}'),t=i("52676"),o=i("79938"),s=i("4735");let l={sidebar_position:3},c="TMC 5160",d={},a=[{value:"Param\xe8tres de base",id:"param\xe8tres-de-base",level:2},{value:"Explication des cavaliers de la carte m\xe8re",id:"explication-des-cavaliers-de-la-carte-m\xe8re",level:2},{value:"Configuration de r\xe9f\xe9rence pour le TMC5160",id:"configuration-de-r\xe9f\xe9rence-pour-le-tmc5160",level:2},{value:"Configuration de r\xe9f\xe9rence en mode SPI",id:"configuration-de-r\xe9f\xe9rence-en-mode-spi",level:3},{value:"Explication de l&#39;utilisation sans fin de course",id:"explication-de-lutilisation-sans-fin-de-course",level:2},...s.d$];function u(e){let n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",pre:"pre",ul:"ul",...(0,o.a)(),...e.components},{ImageView:r}=n;return!r&&function(e,n){throw Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("ImageView",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"tmc-5160",children:"TMC 5160"})}),"\n",(0,t.jsx)(r,{image:i(25750).Z,size:"80%",align:"center"}),"\n",(0,t.jsx)(n.h2,{id:"param\xe8tres-de-base",children:"Param\xe8tres de base"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Tension d'entr\xe9e : 12V-24V"}),"\n",(0,t.jsx)(n.li,{children:"Courant maximum : 4.4A"}),"\n",(0,t.jsx)(n.li,{children:"Compatible avec : Firmware Marlin/Klipper/RRF"}),"\n",(0,t.jsx)(n.li,{children:"Mode de pilotage support\xe9 : TMC : SPI"}),"\n",(0,t.jsx)(n.li,{children:"Interface pas \xe0 pas / direction avec interpolation microPlyer"}),"\n",(0,t.jsx)(n.li,{children:"R\xe9solution maximale de 256 micro-pas"}),"\n",(0,t.jsx)(n.li,{children:"Supporte le mode de fonctionnement silencieux stealthChop2 et les mouvements fluides"}),"\n",(0,t.jsx)(n.li,{children:"Supporte la suppression de la r\xe9sonance \xe0 fr\xe9quence moyenne"}),"\n",(0,t.jsx)(n.li,{children:"Supporte le contr\xf4leur de moteur dynamique spreadCycle"}),"\n",(0,t.jsx)(n.li,{children:"Supporte le contr\xf4le de vitesse dcStep d\xe9pendant de la charge"}),"\n",(0,t.jsx)(n.li,{children:"Supporte la d\xe9tection de charge de moteur sans capteur stallGuard2 de haute pr\xe9cision"}),"\n",(0,t.jsx)(n.li,{children:"Supporte le contr\xf4le de courant coolStep, pouvant \xe9conomiser jusqu'\xe0 75% d'\xe9nergie"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"explication-des-cavaliers-de-la-carte-m\xe8re",children:"Explication des cavaliers de la carte m\xe8re"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Le TMC5160 utilise des cavaliers SPI"}),"\n",(0,t.jsxs)(n.li,{children:["La broche SPI du pilote FLY est la quatri\xe8me broche en partant du haut \xe0 gauche, la broche CS est la broche SPI. Si la carte m\xe8re n'a pas les broches correspondantes, le SPI ne peut pas \xeatre utilis\xe9.","\n",(0,t.jsx)(r,{image:i(12142).Z,size:"100%",align:"center"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"configuration-de-r\xe9f\xe9rence-pour-le-tmc5160",children:"Configuration de r\xe9f\xe9rence pour le TMC5160"}),"\n",(0,t.jsx)(n.admonition,{type:"danger",children:(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["La r\xe9sistance d'\xe9chantillonnage du pilote est ",(0,t.jsx)(n.code,{children:"sense_resistor: 0.075"}),", veuillez ne pas la configurer incorrectement"]}),"\n",(0,t.jsx)(n.li,{children:"spi_bus et spi_software ne peuvent \xeatre utilis\xe9s qu'en mode exclusif"}),"\n"]})}),"\n",(0,t.jsx)(n.h3,{id:"configuration-de-r\xe9f\xe9rence-en-mode-spi",children:"Configuration de r\xe9f\xe9rence en mode SPI"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cfg",children:"[tmc5160 stepper_x]\ncs_pin:\nspi_bus:\n# spi_software_mosi_pin:\n# spi_software_miso_pin:\n# spi_software_sclk_pin: \nrun_current: 1.0                    # Valeur du courant de fonctionnement du moteur\ninterpolate: False                  # Activer ou non l'interpolation \xe0 256 micro-pas (True pour activer, False pour d\xe9sactiver)\nsense_resistor: 0.075\nstealthchop_threshold: 0\ndriver_DISS2G: 1\ndriver_DISS2VS: 1\n"})}),"\n",(0,t.jsx)(n.h2,{id:"explication-de-lutilisation-sans-fin-de-course",children:"Explication de l'utilisation sans fin de course"}),"\n",(0,t.jsx)(s.ZP,{}),"\n",(0,t.jsx)(n.admonition,{title:"Conseils pour l'utilisation sans fin de course",type:"tip",children:(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Ce pilote n\xe9cessite de souder la broche DIAG pour utiliser la fonction sans fin de course"}),"\n",(0,t.jsxs)(n.li,{children:["L'ancien ",(0,t.jsx)(n.code,{children:"endstop_pin:"})," doit \xeatre d\xe9sactiv\xe9 ou supprim\xe9, et ",(0,t.jsx)(n.code,{children:"endstop_pin: tmc5160_stepper_x:virtual_endstop"})," doit \xeatre ajout\xe9"]}),"\n",(0,t.jsxs)(n.li,{children:["Apr\xe8s avoir configur\xe9 ",(0,t.jsx)(n.code,{children:"diag1_pin:"}),", v\xe9rifiez que l'\xe9tat de la fin de course n'est pas d\xe9clench\xe9"]}),"\n",(0,t.jsxs)(n.li,{children:["Configurez ",(0,t.jsx)(n.code,{children:"driver_SGT:"})," avec une valeur appropri\xe9e apr\xe8s des tests"]}),"\n"]})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Configuration de r\xe9f\xe9rence"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cfg",children:"[stepper_x]\n# endstop_pin:PF3\nendstop_pin: tmc5160_stepper_x:virtual_endstop\nhoming_retract_dist: 0        # R\xe9glage \xe0 0 peut provoquer un \xe9chec de retour \xe0 l'origine\n\n[tmc5160 stepper_x]\ndiag1_pin: ^!\ndriver_SGT: 1\n\n#   Assurez-vous que l'\xe9tat de la fin de course n'est pas d\xe9clench\xe9 apr\xe8s la configuration\n#   Cette broche utilise g\xe9n\xe9ralement le pr\xe9fixe \"^\" pour activer la r\xe9sistance de tirage interne\n#   La sensibilit\xe9 d\xe9pend de la tension de la courroie et doit \xeatre ajust\xe9e\n#   (Assurez-vous d'avoir \xe9galement configur\xe9 driver_SGTHRS avec une sensibilit\xe9 appropri\xe9e)\n\n"})})]})}function p(e={}){let{wrapper:n}={...(0,o.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(u,{...e})}):u(e)}},25750:function(e,n,i){i.d(n,{Z:function(){return r}});let r=i.p+"assets/images/5160-b4198dedca047f4587705812aac747a4.webp"},12142:function(e,n,i){i.d(n,{Z:function(){return r}});let r=i.p+"assets/images/jumper-b7f0cad58ee1720512eaebc40deee431.webp"},79938:function(e,n,i){i.d(n,{Z:function(){return l},a:function(){return s}});var r=i(75271);let t={},o=r.createContext(t);function s(e){let n=r.useContext(o);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:s(e.components),r.createElement(o.Provider,{value:n},e.children)}}}]);