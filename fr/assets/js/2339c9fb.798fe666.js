"use strict";(self.webpackChunkklipper_docs=self.webpackChunkklipper_docs||[]).push([["65629"],{75619:function(e,n,i){i.d(n,{ZP:function(){return c},d$:function(){return o}});var r=i(52676),t=i(79938);let o=[];function s(e){let n={admonition:"admonition",li:"li",ul:"ul",...(0,t.a)(),...e.components};return(0,r.jsx)(n.admonition,{title:"Conseils d'utilisation de la position infinie",type:"tip",children:(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"L'utilisation de la position infinie n\xe9cessite l'occupation d'un port de fin de course. Normalement, la position de conduite num\xe9ro un utilise IO1, la position de conduite num\xe9ro deux utilise IO2, et ainsi de suite."}),"\n",(0,r.jsx)(n.li,{children:"Veuillez noter que lors de l'utilisation de la position infinie, il ne faut rien connecter aux ports de fin de course correspondants."}),"\n",(0,r.jsx)(n.li,{children:"Pour certaines cartes m\xe8res FLY, les ports de commande sont directement connect\xe9s. Veuillez v\xe9rifier si DIAG est directement connect\xe9 aux broches correspondantes."}),"\n"]})})}function c(e={}){let{wrapper:n}={...(0,t.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(s,{...e})}):s(e)}},84205:function(e,n,i){i.r(n),i.d(n,{metadata:()=>r,contentTitle:()=>l,default:()=>p,assets:()=>a,toc:()=>d,frontMatter:()=>c});var r=JSON.parse('{"id":"ProductDoc/ModuleDrive/tmc2240","title":"TMC 2240","description":"Param\xe8tres de base","source":"@site/i18n/fr/docusaurus-plugin-content-docs/current/ProductDoc/ModuleDrive/tmc2240.mdx","sourceDirName":"ProductDoc/ModuleDrive","slug":"/ProductDoc/ModuleDrive/tmc2240","permalink":"/fly-docs-next/fr/docs/ProductDoc/ModuleDrive/tmc2240","draft":false,"unlisted":false,"editUrl":"https://github.com/kluoyun/fly-docs-next/tree/master/docs/ProductDoc/ModuleDrive/tmc2240.mdx","tags":[],"version":"current","lastUpdatedBy":"Xiaok","lastUpdatedAt":1732249869000,"sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"TMC 2209","permalink":"/fly-docs-next/fr/docs/ProductDoc/ModuleDrive/tmc2209"},"next":{"title":"TMC 5160","permalink":"/fly-docs-next/fr/docs/ProductDoc/ModuleDrive/tmc5160"}}'),t=i("52676"),o=i("79938"),s=i("75619");let c={sidebar_position:2},l="TMC 2240",a={},d=[{value:"Param\xe8tres de base",id:"param\xe8tres-de-base",level:2},{value:"Explication des cavaliers de la carte m\xe8re",id:"explication-des-cavaliers-de-la-carte-m\xe8re",level:2},{value:"Configuration de r\xe9f\xe9rence pour TMC2240",id:"configuration-de-r\xe9f\xe9rence-pour-tmc2240",level:2},{value:"Configuration de r\xe9f\xe9rence en mode SPI",id:"configuration-de-r\xe9f\xe9rence-en-mode-spi",level:3},{value:"Configuration de r\xe9f\xe9rence en mode UART",id:"configuration-de-r\xe9f\xe9rence-en-mode-uart",level:3},{value:"Explication de l&#39;utilisation sans fin de course",id:"explication-de-lutilisation-sans-fin-de-course",level:2},...s.d$];function u(e){let n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.a)(),...e.components},{ImageView:r}=n;return!r&&function(e,n){throw Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("ImageView",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"tmc-2240",children:"TMC 2240"})}),"\n",(0,t.jsx)(r,{image:i(66097).Z,size:"80%",align:"center"}),"\n",(0,t.jsx)(n.h2,{id:"param\xe8tres-de-base",children:"Param\xe8tres de base"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Tension d'entr\xe9e : 12V-36V"}),"\n",(0,t.jsx)(n.li,{children:"Convient pour : Firmware Klipper/RRF"}),"\n",(0,t.jsx)(n.li,{children:"Modes de pilotage support\xe9s : TMC : SPI/UART"}),"\n",(0,t.jsx)(n.li,{children:"D\xe9tection de temp\xe9rature int\xe9gr\xe9e"}),"\n",(0,t.jsx)(n.li,{children:"Entr\xe9e analogique universelle avec protection compl\xe8te et diagnostic"}),"\n",(0,t.jsx)(n.li,{children:"D\xe9tection de courant int\xe9gr\xe9e sans perte (ICS)"}),"\n",(0,t.jsx)(n.li,{children:"Interface pas-\xe0-pas/direction avec interpolation microPlyer"}),"\n",(0,t.jsx)(n.li,{children:"Protection contre les courts-circuits, verrouillage par sous-tension, protection contre la surchauffe du chip (arr\xeat thermique)"}),"\n",(0,t.jsx)(n.li,{children:"Support pour la d\xe9tection de charge du moteur sans capteur de haute pr\xe9cision StallGuard2"}),"\n",(0,t.jsx)(n.li,{children:"D\xe9tection de charge du moteur sans capteur int\xe9gr\xe9e StallGuard2 et StallGuard4"}),"\n",(0,t.jsx)(n.li,{children:"Combinaison sans tremblement de StealthChop et SpreadCycle, r\xe9solvant le probl\xe8me de rebond du moteur au point de commutation de la fr\xe9quence de d\xe9coupage."}),"\n",(0,t.jsx)(n.li,{children:"Plus de puissance, moins de chaleur (supporte une tension plus \xe9lev\xe9e, 3.0AMAX, adapt\xe9 \xe0 des domaines plus \xe9lev\xe9s de l'impression 3D, et fonctionne plus longtemps sans surchauffe ni dommages)."}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"explication-des-cavaliers-de-la-carte-m\xe8re",children:"Explication des cavaliers de la carte m\xe8re"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Par d\xe9faut, TMC2240 utilise le cavalier SPI","\n",(0,t.jsx)(r,{image:i(80485).Z,size:"100%",align:"center"}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["M\xe9thode d'utilisation du cavalier UART pour TMC2240","\n",(0,t.jsx)(r,{image:i(50954).Z,size:"100%",align:"center"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"configuration-de-r\xe9f\xe9rence-pour-tmc2240",children:"Configuration de r\xe9f\xe9rence pour TMC2240"}),"\n",(0,t.jsx)(n.admonition,{type:"danger",children:(0,t.jsxs)(n.p,{children:["La r\xe9sistance d'\xe9chantillonnage du pilote est ",(0,t.jsx)(n.code,{children:"rref: 12300"}),", veuillez ne pas la configurer incorrectement"]})}),"\n",(0,t.jsx)(n.h3,{id:"configuration-de-r\xe9f\xe9rence-en-mode-spi",children:"Configuration de r\xe9f\xe9rence en mode SPI"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cfg",children:"[tmc2240 stepper_x]\ncs_pin: \nspi_bus: \nrun_current: 0.65                   # Valeur du courant de fonctionnement du moteur\ninterpolate: False                  # Activer ou non l'interpolation en 256 micro-pas (non recommand\xe9)\nrref: 12300\nstealthchop_threshold: 0           # Seuil de silence (si le silence n'est pas n\xe9cessaire, changez la valeur en 0)\n"})}),"\n",(0,t.jsx)(n.h3,{id:"configuration-de-r\xe9f\xe9rence-en-mode-uart",children:"Configuration de r\xe9f\xe9rence en mode UART"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cfg",children:"[tmc2240 stepper_x]\nuart_pin:\nrun_current: 0.65                   # Valeur du courant de fonctionnement du moteur\ninterpolate: False                  # Activer ou non l'interpolation en 256 micro-pas (non recommand\xe9)\nrref: 12300                         # R\xe9sistance d'\xe9chantillonnage du pilote\nstealthchop_threshold: 0            # Seuil de silence (si le silence n'est pas n\xe9cessaire, changez la valeur en 0)\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Si l'erreur suivante appara\xeet"}),"\n",(0,t.jsx)(r,{image:i(55754).Z,size:"80%",align:"center"}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Vous devez vous connecter en tant qu'utilisateur klipper via SSH et ex\xe9cuter ce code"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"sed -i 's/\"uart_pin\"/\\'\"'\"'uart_pin'\\''/g' ~/klipper/klippy/extras/tmc2240.py\n"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"explication-de-lutilisation-sans-fin-de-course",children:"Explication de l'utilisation sans fin de course"}),"\n",(0,t.jsx)(s.ZP,{}),"\n",(0,t.jsx)(n.admonition,{title:"Conseils pour l'utilisation sans fin de course",type:"tip",children:(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Le ",(0,t.jsx)(n.code,{children:"endstop_pin:"})," d'origine doit \xeatre masqu\xe9 ou supprim\xe9, puis ajouter ",(0,t.jsx)(n.code,{children:"endstop_pin: tmc2240_stepper_x:virtual_endstop"})]}),"\n",(0,t.jsxs)(n.li,{children:["Apr\xe8s avoir configur\xe9 ",(0,t.jsx)(n.code,{children:"diag0_pin:"}),", l'\xe9tat de fin de course est non d\xe9clench\xe9 lors du rafra\xeechissement"]}),"\n",(0,t.jsxs)(n.li,{children:["La configuration de ",(0,t.jsx)(n.code,{children:"driver_SGT:"})," n\xe9cessite de tester une valeur appropri\xe9e, normalement ",(0,t.jsx)(n.code,{children:"1"})]}),"\n"]})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Configuration de r\xe9f\xe9rence"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cfg",children:"[stepper_x]\n# endstop_pin:PF3   # Le port de fin de course d'origine doit \xeatre masqu\xe9 ou supprim\xe9\nendstop_pin: tmc2240_stepper_x:virtual_endstop\nhoming_retract_dist: 0        # Un retrait diff\xe9rent de 0 peut entra\xeener un \xe9chec du retour \xe0 z\xe9ro\n\n[tmc2240 stepper_x]\ndiag0_pin: ^!PG12\ndriver_SGT: 1\n\n"})})]})}function p(e={}){let{wrapper:n}={...(0,o.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(u,{...e})}):u(e)}},66097:function(e,n,i){i.d(n,{Z:function(){return r}});let r=i.p+"assets/images/2240-ab4fdec8bbe32f523748866b571c8f3c.png"},55754:function(e,n,i){i.d(n,{Z:function(){return r}});let r=i.p+"assets/images/2240error-0f4799b48aa41d4154f03c856cae0611.png"},50954:function(e,n,i){i.d(n,{Z:function(){return r}});let r=i.p+"assets/images/2240uart-4c7c2b0da0720b901900efb919f81acd.png"},80485:function(e,n,i){i.d(n,{Z:function(){return r}});let r=i.p+"assets/images/jumper-8d242014fa678e0989e907da66a6d0ed.png"},79938:function(e,n,i){i.d(n,{Z:function(){return c},a:function(){return s}});var r=i(75271);let t={},o=r.createContext(t);function s(e){let n=r.useContext(o);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:s(e.components),r.createElement(o.Provider,{value:n},e.children)}}}]);