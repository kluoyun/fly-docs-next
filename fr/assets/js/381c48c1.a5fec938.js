"use strict";(self.webpackChunkklipper_docs=self.webpackChunkklipper_docs||[]).push([["65593"],{23468:function(e,n,r){r.d(n,{Z:()=>i});let i=r.p+"assets/images/boot-87a44735c653d3bbc0c60940ae9d5a50.webp"},24027:function(e,n,r){r.d(n,{Z:()=>i});let i=r.p+"assets/images/2e8a-387d46703c1d67dcf7b6fd514e28df22.webp"},27412:function(e,n,r){r.d(n,{Z:()=>i});let i=r.p+"assets/images/2040-cc7587e65304922141ed75654c56e8e0.webp"},29169:function(e,n,r){r.d(n,{Z:()=>i});let i=r.p+"assets/images/uf2-c04612a2d39377a5d2deda5ab967e7cf.webp"},50065:function(e,n,r){r.d(n,{Z:()=>t,a:()=>l});var i=r(67294);let a={},s=i.createContext(a);function l(e){let n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:l(e.components),i.createElement(s.Provider,{value:n},e.children)}},6327:function(e,n,r){r.r(n),r.d(n,{frontMatter:()=>d,default:()=>f,contentTitle:()=>c,assets:()=>u,toc:()=>p,metadata:()=>i});var i=JSON.parse('{"id":"ProductDoc/ToolBoard/fly-ercf/ercfv2/flash/bl","title":"Firmware Katapult","description":"Description du firmware Katapult","source":"@site/i18n/fr/docusaurus-plugin-content-docs/current/ProductDoc/ToolBoard/fly-ercf/ercfv2/flash/bl.mdx","sourceDirName":"ProductDoc/ToolBoard/fly-ercf/ercfv2/flash","slug":"/ProductDoc/ToolBoard/fly-ercf/ercfv2/flash/bl","permalink":"/fly-docs-next/fr/docs/ProductDoc/ToolBoard/fly-ercf/ercfv2/flash/bl","draft":false,"unlisted":false,"editUrl":"https://github.com/kluoyun/fly-docs-next/tree/master/docs/ProductDoc/ToolBoard/fly-ercf/ercfv2/flash/bl.mdx","tags":[],"version":"current","lastUpdatedBy":"Xiaok","lastUpdatedAt":1748320534000,"sidebarPosition":6,"frontMatter":{"sidebar_position":6,"sidebar_label":"BL firmware, ignore this"},"sidebar":"tutorialSidebar","previous":{"title":"Tutoriel de recherche d\'ID","permalink":"/fly-docs-next/fr/docs/ProductDoc/ToolBoard/fly-ercf/ercfv2/flash/id"},"next":{"title":"Compilation de la firme USB","permalink":"/fly-docs-next/fr/docs/ProductDoc/ToolBoard/fly-ercf/ercfv2/flash/usb"}}'),a=r(85893),s=r(50065),l=r(66235),t=r(93213),o=r(63310);let d={sidebar_position:6,sidebar_label:"BL firmware, ignore this"},c="Firmware Katapult",u={},p=[{value:"Description du firmware Katapult",id:"description-du-firmware-katapult",level:2},...o.d$,{value:"Mode d&#39;entr\xe9e en mode de programmation",id:"mode-dentr\xe9e-en-mode-de-programmation",level:2},{value:"Programmation du firmware",id:"programmation-du-firmware",level:2},...l.d$,...t.d$,{value:"V\xe9rification du d\xe9marrage du firmware",id:"v\xe9rification-du-d\xe9marrage-du-firmware",level:2}];function m(e){let n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,s.a)(),...e.components},{Button:i,ImageView:d,TabItem:c,Tabs:u}=n;return i||h("Button",!0),d||h("ImageView",!0),c||h("TabItem",!0),u||h("Tabs",!0),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"firmware-katapult",children:"Firmware Katapult"})}),"\n",(0,a.jsx)(n.h2,{id:"description-du-firmware-katapult",children:"Description du firmware Katapult"}),"\n",(0,a.jsx)(o.ZP,{}),"\n",(0,a.jsx)(n.admonition,{type:"tip",children:(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"ERCF V2 prend en charge CANR, S232, USB"}),"\n",(0,a.jsx)(n.li,{children:"Seule la version CAN du firmware est fournie, \xe0 des vitesses de 500K et 1M"}),"\n"]})}),"\n",(0,a.jsx)(n.h2,{id:"mode-dentr\xe9e-en-mode-de-programmation",children:"Mode d'entr\xe9e en mode de programmation"}),"\n",(0,a.jsx)(n.admonition,{type:"tip",children:(0,a.jsxs)(n.p,{children:["Le bouton marqu\xe9 est le ",(0,a.jsx)(n.code,{children:"BOOT button"})]})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Pour entrer en mode de programmation, il faut que la carte m\xe8re soit compl\xe8tement d\xe9branch\xe9e, appuyer sur le bouton BOOT puis connecter le c\xe2ble de transmission de donn\xe9es \xe0 la fois \xe0 la carte m\xe8re et \xe0 l'h\xf4te.","\n",(0,a.jsx)(d,{image:r(23468).Z,size:"100%",align:"center"}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"programmation-du-firmware",children:"Programmation du firmware"}),"\n",(0,a.jsxs)(u,{children:[(0,a.jsxs)(c,{value:"win",label:"Tutoriel de programmation sous Windows",default:!0,children:[(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Firmware Katapult pour ERCF V2 ",(0,a.jsx)(i,{variant:"contained",disableElevation:!0,component:"a",rel:"noopener",href:"https://cdn.mellow.klipper.cn/firmware/BL/ERCF_V2.zip",children:"Cliquez pour t\xe9l\xe9charger automatiquement le firmware"})]}),"\n"]}),(0,a.jsx)(l.ZP,{})]}),(0,a.jsxs)(c,{value:"linux",label:"Tutoriel de programmation \xe0 partir de l'h\xf4te",children:[(0,a.jsx)(t.ZP,{}),(0,a.jsxs)(n.ol,{start:"4",children:["\n",(0,a.jsx)(n.li,{children:"Programmation du firmware"}),"\n"]}),(0,a.jsx)(n.admonition,{type:"tip",children:(0,a.jsx)(n.p,{children:"Il suffit de programmer un seul firmware."})}),(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Ci-dessous est la commande pour programmer le firmware \xe0 une vitesse de CAN de 500K"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"sudo ~/klipper/lib/rp2040_flash/rp2040_flash ~/FLY_Katapult/BL/ERCF/FLY_ERCFV2_CANBOOT_CAN_500K.uf2\n"})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Ci-dessous est la commande pour programmer le firmware \xe0 une vitesse de CAN de 1M"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"sudo ~/klipper/lib/rp2040_flash/rp2040_flash ~/FLY_Katapult/BL/ERCF/FLY_ERCFV2_CANBOOT_CAN_1M.uf2\n"})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Ci-dessous est la commande pour programmer le firmware via USB"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"sudo ~/klipper/lib/rp2040_flash/rp2040_flash ~/FLY_Katapult/BL/FLY_ERCFV2_CANBOOT_USB.uf2\n"})}),"\n"]}),"\n"]}),(0,a.jsxs)(n.ol,{start:"5",children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Si vous voyez ci-dessous, la programmation a r\xe9ussi."}),"\n",(0,a.jsx)(d,{image:r(9246).Z,size:"100%",align:"center"}),"\n"]}),"\n"]}),(0,a.jsx)(n.admonition,{type:"tip",children:(0,a.jsx)(n.p,{children:"Apr\xe8s la programmation, il faut d\xe9brancher compl\xe8tement la carte m\xe8re."})})]})]}),"\n",(0,a.jsx)(n.h2,{id:"v\xe9rification-du-d\xe9marrage-du-firmware",children:"V\xe9rification du d\xe9marrage du firmware"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Si le firmware d\xe9marre correctement, la LED va clignoter.","\n",(0,a.jsx)(d,{image:r(82013).Z,size:"100%",align:"center"}),"\n"]}),"\n"]})]})}function f(e={}){let{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(m,{...e})}):m(e)}function h(e,n){throw Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},63310:function(e,n,r){r.d(n,{ZP:()=>t,d$:()=>s});var i=r(85893),a=r(50065);let s=[];function l(e){let n={admonition:"admonition",li:"li",p:"p",ul:"ul",...(0,a.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.admonition,{type:"tip",children:(0,i.jsx)(n.p,{children:"Katapult \xe9tait auparavant appel\xe9 CanBoot, puis renomm\xe9 katapult"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Le firmware Katapult est un type de bootloader qui peut \xeatre utilis\xe9 avec Klipper. Apr\xe8s avoir \xe9t\xe9 grav\xe9 via DFU ou d'autres m\xe9thodes, il permet une mise \xe0 jour du firmware via commande en un clic."}),"\n",(0,i.jsx)(n.li,{children:"Avantages : Un double appui rapide sur le bouton de r\xe9initialisation (reset) ou une coupure d'alimentation rapide deux fois permet d'entrer dans le firmware Katapult, auquel cas une LED clignote sur la carte m\xe8re."}),"\n",(0,i.jsx)(n.li,{children:"Le firmware Katapult ne peut \xeatre utilis\xe9 que pour graver des firmwares, et non pour se connecter \xe0 klipper !!!"}),"\n",(0,i.jsxs)(n.li,{children:["Le firmware Katapult supporte trois m\xe9thodes de connexion \xe0 l'ordinateur principal, les firmwares de ces trois m\xe9thodes sont ind\xe9pendants les uns des autres :","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Connexion CAN","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Avantages : Apr\xe8s la compilation du firmware KLIPPER, il est possible d'utiliser des commandes pour mettre \xe0 jour directement le firmware, r\xe9sistant aux interf\xe9rences."}),"\n",(0,i.jsx)(n.li,{children:"Inconv\xe9nients : Il faut conna\xeetre \xe0 l'avance le taux de transmission du firmware compil\xe9."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Connexion RS232","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Avantages : Apr\xe8s la compilation du firmware KLIPPER, il est possible d'utiliser des commandes pour mettre \xe0 jour le firmware, r\xe9sistant fortement aux interf\xe9rences."}),"\n",(0,i.jsx)(n.li,{children:"Inconv\xe9nients : Il n'est pas possible de mettre \xe0 jour le firmware en un clic via commande, il faut entrer manuellement dans le firmware Katapult."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Connexion USB","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Avantages : Apr\xe8s la compilation du firmware KLIPPER, il est possible d'utiliser des commandes pour mettre \xe0 jour directement le firmware."}),"\n",(0,i.jsx)(n.li,{children:"Inconv\xe9nients : Un c\xe2ble de donn\xe9es trop long peut \xeatre sujet aux interf\xe9rences, ce qui pourrait entra\xeener une d\xe9connexion."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]})]})}function t(e={}){let{wrapper:n}={...(0,a.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},66235:function(e,n,r){r.d(n,{ZP:()=>t,d$:()=>s});var i=r(85893),a=r(50065);let s=[];function l(e){let n={code:"code",li:"li",ul:"ul",...(0,a.a)(),...e.components},{ImageView:s}=n;return s||function(e,n){throw Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("ImageView",!0),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Pr\xe9parez un c\xe2ble de donn\xe9es avec fonction de transmission de donn\xe9es"}),"\n",(0,i.jsx)(n.li,{children:"T\xe9l\xe9chargez le firmware sur l'ordinateur"}),"\n",(0,i.jsxs)(n.li,{children:["Branchez ou maintenez enfonc\xe9 le sautateur BOOT puis reliez-le au ordinateur, cela fera appara\xeetre le disque ",(0,i.jsx)(n.code,{children:"RPI-RP2"}),"\n",(0,i.jsx)(s,{image:r(29169).Z,size:"100%",align:"center"}),"\n"]}),"\n",(0,i.jsx)(n.li,{children:"D\xe9sbranchez ou rel\xe2chez le sautateur BOOT !!!"}),"\n",(0,i.jsxs)(n.li,{children:["Copiez le firmware \xe0 graver dans le dossier, veillez \xe0 ne copier que des fichiers avec l'extension ",(0,i.jsx)(n.code,{children:".uf2"})," !!! (Ne modifiez pas l'extension du fichier, cela n'a aucun effet)"]}),"\n",(0,i.jsxs)(n.li,{children:["R\xe9f\xe9rez-vous","\n",(0,i.jsx)(s,{image:r(80737).Z,size:"100%",align:"center"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Une fois le firmware copi\xe9, le disque ",(0,i.jsx)(n.code,{children:"RPI-RP2"})," dispara\xeetra automatiquement, la gravure du firmware est termin\xe9e !"]}),"\n"]})}function t(e={}){let{wrapper:n}={...(0,a.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},80737:function(e,n,r){r.d(n,{Z:()=>i});let i=r.p+"assets/images/uf21-2c911712248e23dca385b8be6dc6f628.webp"},82013:function(e,n,r){r.d(n,{Z:()=>i});let i=r.p+"assets/images/led-a0dfc928386ffbd4fa6d7f867ae913b3.webp"},9246:function(e,n,r){r.d(n,{Z:()=>i});let i=r.p+"assets/images/flash3-ca07b1c5da933a137dbf5155a965a150.webp"},93213:function(e,n,r){r.d(n,{ZP:()=>t,d$:()=>s});var i=r(85893),a=r(50065);let s=[];function l(e){let n={admonition:"admonition",code:"code",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.a)(),...e.components},{ImageView:s}=n;return s||function(e,n){throw Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("ImageView",!0),(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Installation de l'outil de gravure"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Tapez la commande ci-dessous dans SSH"}),"\n",(0,i.jsx)(n.li,{children:"N\xe9cessaire uniquement lors de la premi\xe8re gravure, pas besoin de r\xe9p\xe9ter par la suite"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"cd ~/klipper/lib/rp2040_flash/ && make\n"})}),"\n",(0,i.jsx)(s,{image:r(27412).Z,size:"100%",align:"left"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Ex\xe9cutez la commande suivante pour v\xe9rifier si la connexion a r\xe9ussi."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Tapez ",(0,i.jsx)(n.code,{children:"lsusb"})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Si le p\xe9riph\xe9rique ",(0,i.jsx)(n.code,{children:"2e8a:0003"})," n'est pas pr\xe9sent, essayez de r\xe9entrer en ",(0,i.jsx)(n.strong,{children:"mode de gravage"})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["En raison des versions du syst\xe8me d'exploitation, le nom peut \xeatre diff\xe9rent ; la pr\xe9sence de ",(0,i.jsx)(n.code,{children:"2e8a:0003"})," indique que le mode de gravage a \xe9t\xe9 atteint"]}),"\n",(0,i.jsx)(s,{image:r(24027).Z,size:"80%",align:"left"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.admonition,{title:"Remarque",type:"warning",children:(0,i.jsxs)(n.p,{children:["Effectuez l'\xe9tape suivante uniquement si vous avez ",(0,i.jsx)(n.code,{children:"2e8a:0003"})]})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"T\xe9l\xe9chargement des firmwares pr\xe9compil\xe9s"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Ceux-ci contiennent des firmwares pr\xe9compil\xe9s"}),"\n",(0,i.jsx)(n.li,{children:"Veuillez noter que l'ordinateur h\xf4te doit \xeatre connect\xe9 \xe0 Internet pour installer"}),"\n",(0,i.jsx)(n.li,{children:"L'ordinateur h\xf4te doit ex\xe9cuter la commande ci-dessous pour t\xe9l\xe9charger le paquet de firmwares"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"cd && git clone https://github.com/FengHua741/FLY_Katapult.git\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Si vous avez d\xe9j\xe0 t\xe9l\xe9charg\xe9 le paquet de firmwares, il est recommand\xe9 de mettre \xe0 jour le paquet avant de continuer"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"cd ~/FLY_Katapult && git pull\n"})}),"\n"]}),"\n"]})}function t(e={}){let{wrapper:n}={...(0,a.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}}}]);