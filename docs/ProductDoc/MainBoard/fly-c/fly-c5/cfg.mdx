---
sidebar_position: 9
sidebar_label: klipper参考配置
---

# klipper参考配置

```cfg
# This file contains common pin mappings for the Mellow Fly-C5.
# To use this config, the firmware should be compiled for the
# STM32H723 with a "128KiB bootloader" "25 MHz crystal"
# and "USB (on PA11/PA12)" or "CAN bus (on PB8/PB9)".

# See docs/Config_Reference.md for a description of parameters.

[stepper_x]
step_pin: PD1
dir_pin: !PD0
enable_pin: !PD3
microsteps: 16
rotation_distance: 40
endstop_pin: ^PE10
position_endstop: 0
position_max: 200
homing_speed: 50

[stepper_y]
step_pin: PD6
dir_pin: !PD5
enable_pin: !PD7
microsteps: 16
rotation_distance: 40
endstop_pin: ^PE12
position_endstop: 0
position_max: 200
homing_speed: 50

[stepper_z]
step_pin: PE1
dir_pin: PE0
enable_pin: !PE2
microsteps: 16
rotation_distance: 8
endstop_pin: ^PE14
position_endstop: 0.0
position_max: 200

[extruder]
step_pin: PE5
dir_pin: !PE4
enable_pin: !PE6
microsteps: 16
rotation_distance: 33.500
nozzle_diameter: 0.400
filament_diameter: 1.750
heater_pin: PA6
sensor_type: Generic 3950
sensor_pin: PA4
control: pid
pid_Kp: 21.527
pid_Ki: 1.063
pid_Kd: 108.982
min_temp: 0
max_temp: 250

#[filament_switch_sensor material_0]
#switch_pin: PB10

#[extruder1]
#step_pin: PC15
#dir_pin: PC14
#enable_pin: !PC0
#heater_pin: PA7
#sensor_pin: PA2
#...

[heater_bed]
heater_pin: PA0
sensor_type: Generic 3950
sensor_pin: PA3
min_temp: 0
max_temp: 130
control: pid
pid_Kp: 21.527
pid_Ki: 1.063
pid_Kd: 108.982

[fan]
pin: PD15

#[heater_fan fan1]
#pin: PD14

#[heater_fan fan2]
#pin: PD13

#[heater_fan fan3]
#pin: PD12

[mcu]
serial: /dev/serial/by-id/usb-Klipper_stm32h723xx_12345-if00

[printer]
kinematics: cartesian
max_velocity: 300
max_accel: 3000
max_z_velocity: 5
max_z_accel: 100

########################################
# TMC2209 configuration
########################################

#[tmc2209 stepper_x]
#uart_pin: PA15
#run_current: 0.800
#diag_pin: PC7

#[tmc2209 stepper_y]
#uart_pin: PD4
#run_current: 0.800
#diag_pin: PA8

#[tmc2209 stepper_z]
#uart_pin: PB7
#run_current: 0.800
#diag_pin: PB6

#[tmc2209 extruder]
#uart_pin: PE3
#run_current: 0.600
#diag_pin: PC1

#[tmc2209 extruder1]
#uart_pin: PC13
#run_current: 0.600
#diag_pin: PC2

########################################
# TMC5160 configuration
########################################

#[tmc5160 stepper_x]
#cs_pin: PA15
#spi_bus: spi1a
#run_current: 0.800
#stealthchop_threshold: 999999
#diag1_pin: PC7

#[tmc5160 stepper_y]
#cs_pin: PD4
#spi_bus: spi1a
#run_current: 0.800
#stealthchop_threshold: 999999
#diag1_pin: PA8

#[tmc5160 stepper_z]
#cs_pin: PB7
#spi_bus: spi1a
#run_current: 0.650
#stealthchop_threshold: 999999
#diag1_pin: PB6

#[tmc5160 extruder]
#cs_pin: PE3
#spi_bus: spi1a
#run_current: 0.800
#stealthchop_threshold: 999999
#diag1_pin: PC1

#[tmc5160 extruder1]
#cs_pin: PC13
#spi_bus: spi1a
#run_current: 0.800
#stealthchop_threshold: 999999
#diag1_pin: PC2

#[bltouch]
#sensor_pin: PB0
#control_pin: PC15

# Proximity switch
#[probe]
#pin: PC15

#[neopixel my_neopixel1]
#pin: PE15

#[neopixel my_neopixel2]
#pin: PB0

[include fluidd.cfg]

```
