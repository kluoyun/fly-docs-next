"use strict";(self.webpackChunkklipper_docs=self.webpackChunkklipper_docs||[]).push([["68120"],{59702:function(e,n,i){i.d(n,{ZP:function(){return l},d$:function(){return o}});var r=i(52676),t=i(79938);let o=[{value:"Klipper\u56FA\u4EF6\u7F16\u8BD1\u914D\u7F6E\u9875\u9762\u64CD\u4F5C\u8BF4\u660E",id:"klipper\u56FA\u4EF6\u7F16\u8BD1\u914D\u7F6E\u9875\u9762\u64CD\u4F5C\u8BF4\u660E",level:2}];function s(e){let n={admonition:"admonition",code:"code",h2:"h2",li:"li",ol:"ol",p:"p",ul:"ul",...(0,t.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u8BF7\u786E\u4FDD\u4E0A\u4F4D\u673A\u53EF\u4EE5\u6B63\u5E38\u8054\u7F51"}),"\n",(0,r.jsx)(n.li,{children:"\u56FA\u4EF6\u7F16\u8BD1\u524D\u9700\u8981\u4F7F\u7528SSH\u901A\u8FC7\u7F51\u7EDC\u767B\u5F55\u4E0A\u4F4D\u673A"}),"\n",(0,r.jsx)(n.li,{children:"\u8BF7\u4E0D\u8981\u4F7F\u7528\u4E32\u53E3\u5DE5\u5177\u767B\u5F55\u4E0A\u4F4D\u673A"}),"\n"]})}),"\n",(0,r.jsx)(n.h2,{id:"klipper\u56FA\u4EF6\u7F16\u8BD1\u914D\u7F6E\u9875\u9762\u64CD\u4F5C\u8BF4\u660E",children:"Klipper\u56FA\u4EF6\u7F16\u8BD1\u914D\u7F6E\u9875\u9762\u64CD\u4F5C\u8BF4\u660E"}),"\n",(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsx)(n.p,{children:"\u8BF7\u786E\u4FDD\u952E\u76D8\u8F93\u5165\u6CD5\u4E3A\u534A\u89D2\u6A21\u5F0F\uFF0C\u5373\u82F1\u6587\u6A21\u5F0F"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\u952E\u76D8\u4E0A\u952E",(0,r.jsx)(n.code,{children:"\u2191"}),"\uFF0C\u4E0B\u952E",(0,r.jsx)(n.code,{children:"\u2193"}),"\uFF0C\u7528\u4E8E\u4E0A\u4E0B\u79FB\u52A8\u5149\u6807\u6765\u9009\u4E2D\u83DC\u5355\u9879"]}),"\n",(0,r.jsxs)(n.li,{children:["\u786E\u8BA4\u952E",(0,r.jsx)(n.code,{children:"Enter"})," \u6216 \u7A7A\u683C\u952E",(0,r.jsx)(n.code,{children:"Space"}),"\uFF0C\u7528\u4E8E\u52FE\u9009\u83DC\u5355\u6216\u8FDB\u5165\u5B50\u83DC\u5355"]}),"\n",(0,r.jsxs)(n.li,{children:["\u9000\u51FA\u952E",(0,r.jsx)(n.code,{children:"ESC"}),"\uFF0C\u7528\u4E8E\u8FD4\u56DE\u4E0A\u4E00\u7EA7\u83DC\u5355"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"Q"}),"\u952E\uFF0C\u7528\u4E8E\u9000\u51FAKlipper\u56FA\u4EF6\u914D\u7F6E\u9875\u9762"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"Y"}),"\u952E\uFF0C\u5728\u9000\u51FAKlipper\u56FA\u4EF6\u914D\u7F6E\u9875\u9762\u65F6\uFF0C\u5982\u679C\u6709\u63D0\u793A\uFF0C\u5219\u70B9\u51FB",(0,r.jsx)(n.code,{children:"Y"}),"\u952E\u4FDD\u5B58\u914D\u7F6E\u6587\u4EF6"]}),"\n"]}),"\n",(0,r.jsx)(n.admonition,{type:"warning",children:(0,r.jsxs)(n.p,{children:["\u5982\u679C\u914D\u7F6E\u9875\u9762\u9009\u9879\u6BD4\u8F83\u5C11\uFF0C\u8BF7\u5148\u52FE\u9009",(0,r.jsx)(n.code,{children:"[ ] Enable extra low-level configuration options"}),"\uFF0C\u7528\u4E8E\u663E\u793A\u90E8\u5206\u9690\u85CF\u9009\u9879"]})})]})}function l(e={}){let{wrapper:n}={...(0,t.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(s,{...e})}):s(e)}},39728:function(e,n,i){i.d(n,{ZP:function(){return l},d$:function(){return o}});var r=i(52676),t=i(79938);let o=[];function s(e){let n={code:"code",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.a)(),...e.components},{ImageView:o}=n;return!o&&function(e,n){throw Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("ImageView",!0),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Short-circuit or long press BOOT, and after connecting to the host machine via Type-C and entering ",(0,r.jsx)(n.code,{children:"lsusb"}),", you will see ",(0,r.jsx)(n.code,{children:"2e8a:0003"})]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Please note that the current RP2040 is in firmware burning mode and can only burn uf2 suffix firmware. Once the firmware is burned, it will disappear."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["After ejecting ",(0,r.jsx)(n.code,{children:"RPI-RP2"}),", there is no need to short-circuit BOOT or keep pressing the BOOT button."]}),"\n",(0,r.jsx)(o,{image:i(39818).Z,size:"80%",align:"Center"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Use the following command to burn the firmware to RP2040"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"cd && cd ~/klipper/\nmake flash FLASH_DEVICE=2e8a:0003\n"})}),"\n"]}),"\n"]})}function l(e={}){let{wrapper:n}={...(0,t.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(s,{...e})}):s(e)}},19315:function(e,n,i){i.d(n,{ZP:function(){return l},d$:function(){return o}});var r=i(52676),t=i(79938);let o=[];function s(e){let n={code:"code",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.a)(),...e.components},{ImageView:o}=n;return!o&&function(e,n){throw Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("ImageView",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:"Below is an introduction on how to compile the firmware:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"After connecting to SSH, enter the command below and press Enter:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"cd ~/klipper && rm -rf ~/klipper/.config && rm -rf ~/klipper/out && make menuconfig\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Where ",(0,r.jsx)(n.code,{children:"rm -rf ~/klipper/.config && rm -rf ~/klipper/out"})," is to delete previous compilation data and firmware, and ",(0,r.jsx)(n.code,{children:"make menuconfig"})," is to compile the firmware. After execution, the following interface should appear:"]}),"\n",(0,r.jsx)(o,{image:i(80616).Z,size:"100%",align:"Center"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Select ",(0,r.jsx)(n.strong,{children:"Enable extra low-level configuration options"})," and press Enter"]}),"\n",(0,r.jsx)(o,{image:i(3333).Z,size:"100%",align:"Center"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Enter the menu ",(0,r.jsx)(n.strong,{children:"Micro-controller Architecture"})," and then select ",(0,r.jsx)(n.strong,{children:"Raspberry Pi RP2040"})," and press Enter"]}),"\n",(0,r.jsx)(o,{image:i(34546).Z,size:"100%",align:"Center"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Select ",(0,r.jsx)(n.strong,{children:"Bootloader offset"}),", choose: ",(0,r.jsx)(n.strong,{children:"NO bootloader"})]}),"\n",(0,r.jsx)(o,{image:i(65791).Z,size:"100%",align:"Center"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Select ",(0,r.jsx)(n.strong,{children:"Communication interface"}),", choose: ",(0,r.jsx)(n.strong,{children:"UART0 on GPIO0/GPIO1"})]}),"\n",(0,r.jsx)(o,{image:i(69763).Z,size:"100%",align:"Center"}),"\n"]}),"\n"]})]})}function l(e={}){let{wrapper:n}={...(0,t.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(s,{...e})}):s(e)}},87565:function(e,n,i){i.d(n,{ZP:function(){return l},d$:function(){return o}});var r=i(52676),t=i(79938);let o=[];function s(e){let n={admonition:"admonition",code:"code",li:"li",ul:"ul",...(0,t.a)(),...e.components},{Button:i}=n;return!i&&function(e,n){throw Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Button",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["You need an upper computer with the ",(0,r.jsx)(n.code,{children:"klipper"})," service installed  ",(0,r.jsx)(i,{variant:"contained",disableElevation:!0,href:"/docs/DebugDoc/BasicTutorial/",children:"Connect via SSH over the network"})]}),"\n",(0,r.jsx)(n.li,{children:"And make sure the device is connected to the upper computer"}),"\n",(0,r.jsx)(n.li,{children:"Note: Please use a regular upper computer, such as a Raspberry Pi FLY board, etc. If you are using a modified upper computer, we cannot provide much assistance due to too many issues."}),"\n"]}),"\n",(0,r.jsx)(n.admonition,{title:"Note",type:"warning",children:(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Do not use the ",(0,r.jsx)(n.code,{children:"ROOT"})," user"]}),"\n"]})})]})}function l(e={}){let{wrapper:n}={...(0,t.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(s,{...e})}):s(e)}},21522:function(e,n,i){i.d(n,{ZP:function(){return l},d$:function(){return o}});var r=i(52676),t=i(79938);let o=[];function s(e){let n={admonition:"admonition",code:"code",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.a)(),...e.components},{ImageView:o}=n;return!o&&function(e,n){throw Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("ImageView",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Please ensure the host machine can connect to the internet normally."}),"\n",(0,r.jsx)(n.li,{children:"Please ensure the data cable connecting the lower-level machine to the host machine has data transfer capabilities."}),"\n",(0,r.jsxs)(n.li,{children:["After SSH connecting to the host machine, input ",(0,r.jsx)(n.code,{children:"lsusb"})," and press enter. One of the following three situations may occur:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"It displays USB devices that have been recognized."}),"\n",(0,r.jsxs)(n.li,{children:["It prompts that there is no ",(0,r.jsx)(n.code,{children:"ls"})," command, you can execute this command to install it:","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"sudo apt-get install usbutils\n"})}),"\n"]}),"\n",(0,r.jsx)(n.li,{children:"There are no errors, but no other information (this indicates a system problem and needs a system replacement)."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["If there is no reaction after entering ",(0,r.jsx)(n.code,{children:"lsusb"}),", this indicates a system problem and we cannot help here; you need to replace with a confirmed normal system."]}),"\n",(0,r.jsxs)(n.li,{children:["If the information circled in the following image appears, you can proceed to the next step.","\n",(0,r.jsx)(o,{image:i(39818).Z,size:"80%",align:"left"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"2e8a:0003"})," belongs to the device you will use this time. Ignore the subsequent prompts as system issues might cause them to display incompletely or not at all."]}),"\n",(0,r.jsx)(n.li,{children:"If not, please check if the data cable is properly connected or if the motherboard is in Katapult mode (formerly CANBOOT)."}),"\n"]}),"\n",(0,r.jsx)(n.admonition,{title:"Note",type:"warning",children:(0,r.jsxs)(n.p,{children:["Proceed to the next step only when you have ",(0,r.jsx)(n.code,{children:"2e8a:0003"}),"."]})})]})}function l(e={}){let{wrapper:n}={...(0,t.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(s,{...e})}):s(e)}},97264:function(e,n,i){i.r(n),i.d(n,{metadata:()=>r,contentTitle:()=>u,default:()=>x,assets:()=>p,toc:()=>f,frontMatter:()=>h});var r=JSON.parse('{"id":"ProductDoc/ToolBoard/fly-ercf/ercfv2/flash/rs232","title":"RS232 Firmware Compilation","description":"Start Compilation","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/ProductDoc/ToolBoard/fly-ercf/ercfv2/flash/rs232.mdx","sourceDirName":"ProductDoc/ToolBoard/fly-ercf/ercfv2/flash","slug":"/ProductDoc/ToolBoard/fly-ercf/ercfv2/flash/rs232","permalink":"/fly-docs-next/en/docs/ProductDoc/ToolBoard/fly-ercf/ercfv2/flash/rs232","draft":false,"unlisted":false,"editUrl":"https://github.com/kluoyun/fly-docs-next/tree/master/docs/ProductDoc/ToolBoard/fly-ercf/ercfv2/flash/rs232.mdx","tags":[],"version":"current","lastUpdatedBy":"Xiaok","lastUpdatedAt":1732242947000,"sidebarPosition":4,"frontMatter":{"sidebar_position":4,"sidebar_label":"RS232 Firmware Flashing"},"sidebar":"tutorialSidebar","previous":{"title":"CAN Firmware Flashing","permalink":"/fly-docs-next/en/docs/ProductDoc/ToolBoard/fly-ercf/ercfv2/flash/can"},"next":{"title":"USB Firmware Burning","permalink":"/fly-docs-next/en/docs/ProductDoc/ToolBoard/fly-ercf/ercfv2/flash/usb"}}'),t=i("52676"),o=i("79938"),s=i("39728"),l=i("59702"),c=i("19315"),a=i("87565"),d=i("21522");let h={sidebar_position:4,sidebar_label:"RS232 Firmware Flashing"},u="RS232 Firmware Compilation",p={},f=[{value:"Start Compilation",id:"start-compilation",level:2},...a.d$,...l.d$,...c.d$,{value:"Enter Flash Mode",id:"enter-flash-mode",level:2},{value:"Confirm Entry into Flash Mode",id:"confirm-entry-into-flash-mode",level:2},...d.d$,{value:"Flash Firmware",id:"flash-firmware",level:2},...s.d$,{value:"Confirm Firmware Startup",id:"confirm-firmware-startup",level:2}];function m(e){let n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.a)(),...e.components},{ImageView:r}=n;return!r&&function(e,n){throw Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("ImageView",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"rs232-firmware-compilation",children:"RS232 Firmware Compilation"})}),"\n",(0,t.jsx)(n.h2,{id:"start-compilation",children:"Start Compilation"}),"\n",(0,t.jsx)(a.ZP,{}),"\n",(0,t.jsx)(l.ZP,{}),"\n",(0,t.jsx)(c.ZP,{}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Select GPIO pins to set at micro-controller startup, input: gpio17"}),"\n",(0,t.jsx)(r,{image:i(11994).Z,size:"100%",align:"center"}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Press ",(0,t.jsx)(n.code,{children:"Q"})," key, the prompt ",(0,t.jsx)(n.strong,{children:"Save configuration"})," appears, then press ",(0,t.jsx)(n.code,{children:"Y"})," key"]}),"\n",(0,t.jsx)(r,{image:i(72672).Z,size:"50%",align:"center"}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Now the configuration should be saved and you are back in the command line interface"}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Input ",(0,t.jsx)(n.code,{children:"make -j4"})," to start compilation, it will take some time"]}),"\n",(0,t.jsx)(r,{image:i(36917).Z,size:"50%",align:"center"}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"The following output indicates successful compilation"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"Linking out/klipper.elf\nCreating uf2 file out/klipper.uf2\n"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"enter-flash-mode",children:"Enter Flash Mode"}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsxs)(n.p,{children:["Circled as ",(0,t.jsx)(n.code,{children:"BOOT button"})]})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["To enter DFU mode, the motherboard must be completely powered off. Hold the BOOT button while connecting the data transfer cable to the motherboard and your host machine.","\n",(0,t.jsx)(r,{image:i(79644).Z,size:"100%",align:"center"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"confirm-entry-into-flash-mode",children:"Confirm Entry into Flash Mode"}),"\n",(0,t.jsx)(d.ZP,{}),"\n",(0,t.jsx)(n.h2,{id:"flash-firmware",children:"Flash Firmware"}),"\n",(0,t.jsx)(s.ZP,{}),"\n",(0,t.jsx)(n.h2,{id:"confirm-firmware-startup",children:"Confirm Firmware Startup"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["If the firmware starts up correctly, the LED will light up","\n",(0,t.jsx)(r,{image:i(20618).Z,size:"100%",align:"center"}),"\n"]}),"\n"]})]})}function x(e={}){let{wrapper:n}={...(0,o.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(m,{...e})}):m(e)}},34546:function(e,n,i){i.d(n,{Z:function(){return r}});let r=i.p+"assets/images/2040-bfebec4ffca3221fea25ecef3ad1914c.png"},69763:function(e,n,i){i.d(n,{Z:function(){return r}});let r=i.p+"assets/images/rs232-a9dc17b9dfa74e9bb9fedebf49337684.png"},65791:function(e,n,i){i.d(n,{Z:function(){return r}});let r=i.p+"assets/images/0kb-215ef12396ac0cb2eedd23b0fae9ef0b.png"},80616:function(e,n,i){i.d(n,{Z:function(){return r}});let r=i.p+"assets/images/make1-572f4a7d4a6b312f4120a3d41416e20a.png"},3333:function(e,n,i){i.d(n,{Z:function(){return r}});let r=i.p+"assets/images/make2-691f9310cfdb0bcb49854b9c9410a867.png"},72672:function(e,n,i){i.d(n,{Z:function(){return r}});let r=i.p+"assets/images/configuration-8b7fe8f451ec7f34a0afa369a0cbddef.png"},36917:function(e,n,i){i.d(n,{Z:function(){return r}});let r=i.p+"assets/images/make-f3329d5ec4c75596863e7589713aae1c.png"},39818:function(e,n,i){i.d(n,{Z:function(){return r}});let r=i.p+"assets/images/2e8a-5bc7c58f995abf8e3174d6c8e696caa6.png"},79644:function(e,n,i){i.d(n,{Z:function(){return r}});let r=i.p+"assets/images/boot-8cd0bb263cfda37b553885ac70590e0c.png"},11994:function(e,n,i){i.d(n,{Z:function(){return r}});let r=i.p+"assets/images/can-4f4e0b6ead6f5ddae9132630d38b97ec.png"},20618:function(e,n,i){i.d(n,{Z:function(){return r}});let r=i.p+"assets/images/led-55424b722c49171a3469a4ad7defbe39.png"},79938:function(e,n,i){i.d(n,{Z:function(){return l},a:function(){return s}});var r=i(75271);let t={},o=r.createContext(t);function s(e){let n=r.useContext(o);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:s(e.components),r.createElement(o.Provider,{value:n},e.children)}}}]);