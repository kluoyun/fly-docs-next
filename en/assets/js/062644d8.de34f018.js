"use strict";(self.webpackChunkklipper_docs=self.webpackChunkklipper_docs||[]).push([["99321"],{76251:function(e,t,r){r.r(t),r.d(t,{frontMatter:()=>o,default:()=>h,contentTitle:()=>c,assets:()=>d,toc:()=>u,metadata:()=>a});var a=JSON.parse('{"id":"ToolsDoc/gpio-calculator","title":"GPIO Pin Number Calculator","description":"","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/ToolsDoc/gpio-calculator.mdx","sourceDirName":"ToolsDoc","slug":"/ToolsDoc/gpio-calculator","permalink":"/fly-docs-next/en/docs/ToolsDoc/gpio-calculator","draft":false,"unlisted":false,"editUrl":"https://github.com/kluoyun/fly-docs-next/tree/master/docs/ToolsDoc/gpio-calculator.mdx","tags":[],"version":"current","lastUpdatedBy":"Xiaok","lastUpdatedAt":1748315955000,"sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"toolsdocSidebar","previous":{"title":"Klipper Firmware Parser","permalink":"/fly-docs-next/en/docs/ToolsDoc/firmware-parser"},"next":{"title":"Fly-Tools","permalink":"/fly-docs-next/en/docs/category/fly-tools"}}'),l=r(85893),n=r(50065),i=r(70144);let s=()=>(0,l.jsx)(i.Z,{fallback:(0,l.jsx)("div",{children:"Loading..."}),children:()=>{let e=r(74007).Z;return(0,l.jsx)(e,{})}}),o={sidebar_position:2},c="GPIO Pin Number Calculator",d={},u=[];function p(e){let t={h1:"h1",header:"header",...(0,n.a)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(t.header,{children:(0,l.jsx)(t.h1,{id:"gpio-pin-number-calculator",children:"GPIO Pin Number Calculator"})}),"\n","\n",(0,l.jsx)(s,{})]})}function h(e={}){let{wrapper:t}={...(0,n.a)(),...e.components};return t?(0,l.jsx)(t,{...e,children:(0,l.jsx)(p,{...e})}):p(e)}},74007:function(e,t,r){r.d(t,{Z:()=>Z});var a=r(85893),l=r(67294),n=r(7649),i=r(8077),s=r(85049),o=r(93353),c=r(70807),d=r(33991),u=r(74542),p=r(17047),h=r(33168),m=r(68530),f=r(99814),x=r(50201),g=r(93193),b=r(96025);let j=[{label:"Allwinner H5/H3",value:"allwinner_h5"},{label:"Allwinner H618",value:"allwinner_h618"}],I=e=>(0,m.Z)({palette:{mode:e,..."light"===e?{background:{default:"#fff",paper:"#f5f5f5"},text:{primary:"#000"}}:{background:{default:"#121212",paper:"#333"},text:{primary:"#fff"}}}}),v=(e,t)=>{if(t=t.trim().toUpperCase(),e.startsWith("allwinner")){let r=0,a=t.match(/^P([A-Z])(\d{1,2})$/);if(!a)return"Invalid GPIO";let l=a[1],n=parseInt(a[2],10),i=32*(l.charCodeAt(0)-65)+n;if("allwinner_h5"===e){if(i<0||i>383)return"Invalid GPIO";if(i<=223)r=1;else{if(!(i>=352)||!(i<=383))return"Invalid GPIO";r=0}}else if("allwinner_h618"===e){if(i<0||i>383)return"Invalid GPIO";if(i<=287)r=0;else{if(!(i>=352)||!(i<=383))return"Invalid GPIO";r=1}}return`gpiochip${r}/gpio${i}`}if("rockchip"===e){let e=t.match(/^GPIO(\d+)_([A-D])(\d)$/);if(!e)return"Invalid GPIO";let r=parseInt(e[1],10),a=e[2].charCodeAt(0)-65,l=parseInt(e[3],10);return`gpiochip${r}/gpio${8*a+l}`}return"Unsupported platform"},Z=()=>{let e="dark"===document.documentElement.getAttribute("data-theme"),[t,r]=(0,l.useState)(e?"dark":"light"),[m,Z]=(0,l.useState)("allwinner_h5"),[k,P]=(0,l.useState)(""),[w,y]=(0,l.useState)(""),[C,O]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{let e=document.documentElement,t=new MutationObserver(t=>{t.forEach(t=>{"attributes"===t.type&&"data-theme"===t.attributeName&&r(e.getAttribute("data-theme")||"light")})});return t.observe(e,{attributes:!0}),()=>t.disconnect()},[]),(0,a.jsx)(f.Z,{theme:I(t),children:(0,a.jsxs)(n.Z,{maxWidth:"sm",sx:{mt:6},children:[(0,a.jsx)(i.Z,{variant:"h5",gutterBottom:!0,children:(0,a.jsx)(b.Z,{children:"GPIO \u8BA1\u7B97\u5668"})}),(0,a.jsx)(s.Z,{select:!0,fullWidth:!0,label:(0,b.I)({message:"\u9009\u62E9\u5E73\u53F0"}),value:m,onChange:e=>Z(e.target.value),margin:"normal",children:j.map(e=>(0,a.jsx)(o.Z,{value:e.value,children:e.label},e.value))}),(0,a.jsx)(s.Z,{fullWidth:!0,label:(0,b.I)({message:"GPIO \u8F93\u5165 (\u5982: "})+(m.startsWith("allwinner")?"PA1":"GPIO0_A1")+")",value:k,onChange:e=>P(e.target.value),margin:"normal"}),(0,a.jsx)(c.Z,{variant:"contained",color:"primary",fullWidth:!0,onClick:()=>{y(v(m,k))},startIcon:(0,a.jsx)(g.Z,{}),sx:{mt:2},children:(0,a.jsx)(b.Z,{children:"\u8F6C\u6362"})}),w&&(0,a.jsxs)(d.Z,{mt:4,children:[(0,a.jsx)(u.Z,{children:(0,a.jsx)(p.Z,{label:(0,b.I)({message:"\u7ED3\u679C"})})}),(0,a.jsxs)(d.Z,{mt:2,p:2,sx:{backgroundColor:"dark"===t?"#606060":"#D0D0D0",borderRadius:2,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,a.jsx)(d.Z,{sx:{wordBreak:"break-all"},children:w}),(0,a.jsx)(c.Z,{onClick:()=>{navigator.clipboard.writeText(w),O(!0)},startIcon:(0,a.jsx)(x.Z,{}),children:(0,a.jsx)(b.Z,{children:"\u590D\u5236"})})]})]}),(0,a.jsx)(h.Z,{open:C,autoHideDuration:1500,message:(0,b.I)({message:"\u590D\u5236\u6210\u529F"}),onClose:()=>O(!1)})]})})}}}]);